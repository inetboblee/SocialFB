/*! For license information please see main.0b59f72b.js.LICENSE.txt */
!function(){var e={142:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.isForwardRef=function(e){return w(e)===h}},33:function(e,t,n){"use strict";e.exports=n(142)},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(618);n(7);var i=n(791);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){o(this,e),c(this,"handlers",void 0),this.handlers=t.slice(0)}return s(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var a=this.handlers[i];-1===t.indexOf(a)&&n.push(a)}return new e(n)}}]),e}();function v(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function m(e){return Array.isArray(e)?e:[e]}function y(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===a(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var g=function(){function e(t,n){o(this,e),c(this,"handlerSets",void 0),c(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return s(e,[{key:"addHandlers",value:function(t,n){var r=v(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=v(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();c(g,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new g(e,r)}));var k=function(){function e(t){var n=this;o(this,e),c(this,"handlers",new Map),c(this,"pools",new Map),c(this,"target",void 0),c(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return s(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,g.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),b=function(){function e(){var t=this;o(this,e),c(this,"targets",new Map),c(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=y(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new k(r);return t.targets.set(r,i),i})),c(this,"removeTarget",(function(e){t.targets.delete(y(e))}))}return s(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,u=void 0===o?"default":o;this.getTarget(a).addHandlers(u,e,m(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,a=void 0===i?document:i,o=n.pool,u=void 0===o?"default":o,s=this.getTarget(a,!1);s&&(s.removeHandlers(u,e,m(t)),s.hasHandlers()||this.removeTarget(a))}}}]),e}(),w=new b,_=function(e){function t(){return o(this,t),d(this,f(t).apply(this,arguments))}return l(t,i.PureComponent),s(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;w.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();c(_,"defaultProps",{pool:"default",target:"document"}),_.propTypes={},t.instance=w,t.default=_},775:function(e,t,n){"use strict";var r;r=n(630),e.exports=r.default,e.exports.instance=r.instance},618:function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},854:function(e){"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var a=i+65;n[a]=[String.fromCharCode(a+32),String.fromCharCode(a)]}var o={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};o.Spacebar=o[" "],o.Digit0=o[0],o.Digit1=o[1],o.Digit2=o[2],o.Digit3=o[3],o.Digit4=o[4],o.Digit5=o[5],o.Digit6=o[6],o.Digit7=o[7],o.Digit8=o[8],o.Digit9=o[9],o.Tilde=o["~"],o.GraveAccent=o["`"],o.ExclamationPoint=o["!"],o.AtSign=o["@"],o.PoundSign=o["#"],o.PercentSign=o["%"],o.Caret=o["^"],o.Ampersand=o["&"],o.PlusSign=o["+"],o.MinusSign=o["-"],o.EqualsSign=o["="],o.DivisionSign=o["/"],o.MultiplicationSign=o["*"],o.Comma=o[","],o.Decimal=o["."],o.Colon=o[":"],o.Semicolon=o[";"],o.Pipe=o["|"],o.BackSlash=o["\\"],o.QuestionMark=o["?"],o.SingleQuote=o["'"],o.DoubleQuote=o['"'],o.LeftCurlyBrace=o["{"],o.RightCurlyBrace=o["}"],o.LeftParenthesis=o["("],o.RightParenthesis=o[")"],o.LeftAngleBracket=o["<"],o.RightAngleBracket=o[">"],o.LeftSquareBracket=o["["],o.RightSquareBracket=o["]"],e.exports=o},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Se(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ee)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,It,St=!1,Tt=[],Ct=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Rt.forEach(jt),Pt.forEach(jt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return En}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Ur(e,0)}function $n(e){if(W(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Wn)){var t=[];Gn(t,Wn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Wn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Ir(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Ii(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Si(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ni=Ei(!1),Ai=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ni),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Si(Ci,e)):Ii(Ni),Si(Ni,n)}var Ui=null,ji=!1,Vi=!1;function Bi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Gi=null,Hi=0,Wi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Ki++]=Hi,qi[Ki++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Yi,Wi[Qi++]=Xi,Wi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,Yi=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ii(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ai:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Si(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Uo,useDebugValue:$o,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Os,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Os,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Os,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Os,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Ri(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ri(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ri(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ou,Du,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=Yi,Wi[Qi++]=Xi,Wi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Hu(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Hu(t),null;case 10:return _a(t.type._context),Hu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ec(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Ju=s):_s(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var xs,Es=Math.ceil,Is=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Rs=0,Ps=0,Os=Ei(0),Ds=0,Ls=null,Ms=0,Fs=0,Us=0,js=null,Vs=null,Bs=0,zs=1/0,qs=null,Ks=!1,Gs=null,Hs=null,Ws=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Ds&&uc(e,Rs)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Xe()+500,ji&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Rs===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==As?t=0:(Ns=null,Rs=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Xe()+500,ji&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&_c();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Ps=Os.current,Ii(Os)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ii(Ni),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Oc(e.current,null),Rs=Ps=t,Ds=0,Ls=null,Us=Fs=Ms=0,Vs=js=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ss.current=null,null===n||null===n.return){Ds=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===Ns||0===(268435455&Ms)&&0===(268435455&Fs)||uc(Ns,Rs)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Rs===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==As)throw Error(a(261));return Ns=null,Rs=0,Ds}function yc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!$e();)kc(As)}function kc(e){var t=xs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Ss.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wu(n,t,Ps)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ds=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ws||(Ws=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Ss.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Ws&&(Ws=!1,Qs=e,$s=i),o=e.pendingLanes,0===o&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Gs,Gs=null,e;0!==(1&$s)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Ec(s,s.return,_)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function xc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Rs&n)===n&&(4===Ds||3===Ds&&(130023424&Rs)===Rs&&500>Xe()-Bs?hc(e,0):Us|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Nc(e,t){return We(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case E:u=8,i|=8;break;case I:return(e=Rc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Si(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Ga(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isForwardRef=function(e){return b(e)===c}},441:function(e,t,n){"use strict";e.exports=n(372)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,_="+"===k||"*"===k,x="?"===k||"*"===k,E=n[2]||l,I=y||g;r.push({name:m||a++,prefix:v||"",delimiter:E,optional:x,repeat:_,partial:w,asterisk:!!b,pattern:I?c(I):b?".*":"[^"+s(E)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,I=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?x():(E=!1,I=null)}}else E=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,x=function(){P.postMessage(null)}}else x=function(){y(A,0)};function O(e){I=e,E||(E=!0,x())}function D(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return z},SDK_VERSION:function(){return nt},_DEFAULT_ENTRY_NAME:function(){return qe},_addComponent:function(){return We},_addOrOverwriteComponent:function(){return Qe},_apps:function(){return Ge},_clearComponents:function(){return Je},_components:function(){return He},_getProvider:function(){return Ye},_registerComponent:function(){return $e},_removeServiceInstance:function(){return Xe},deleteApp:function(){return ot},getApp:function(){return it},getApps:function(){return at},initializeApp:function(){return rt},onLog:function(){return ct},registerVersion:function(){return st},setLogLevel:function(){return lt}});var t=n(250);function r(e){if(Array.isArray(e))return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||a(e,t)||o()}var s=n(791);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}function f(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function _(e){var t=b();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function x(e,t,n){return x=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},x.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},E(e)}var I=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(I(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},T=function(e){return function(e){var t=I(e);return S.encodeByteArray(t,!0)}(e).replace(/\./g,"")},C=function(e){try{return S.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function N(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&A(n)&&(e[n]=N(e[n],t[n]));return e}function A(e){return"__proto__"!==e}function R(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function P(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function O(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function D(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function L(){var e=R();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function M(){try{return"object"===typeof indexedDB}catch(e){return!1}}var F=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},U=function(){try{return F()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&C(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},j=function(){var e;return null===(e=U())||void 0===e?void 0:e.config},V=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return p(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function B(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[T(JSON.stringify({alg:"none",type:"JWT"})),T(JSON.stringify(a)),""].join(".")}var z=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(m(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(m(a),q.prototype.create),a}return p(n)}(E(Error)),q=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return p(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?K(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new z(n,a,t);return o}}]),e}();function K(e,t){return e.replace(G,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var G=/\{\$([^}]+)}/g;function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function W(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Q(u)&&Q(s)){if(!W(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Q(e){return null!==e&&"object"===typeof e}function $(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Y(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function X(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function J(e,t){var n=new Z(e,t);return n.subscribe.bind(n)}var Z=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return p(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=v(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ee),void 0===r.error&&(r.error=ee),void 0===r.complete&&(r.complete=ee);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ee(){}function te(e){return e&&e._delegate?e._delegate:e}function ne(){ne=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:_(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=f(e[r],e,a);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==c(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function re(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ie(e){return function(e){if(Array.isArray(e))return i(e)}(e)||re(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ae(a,r,i,o,u,"next",e)}function u(e){ae(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ue=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return p(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),se="[DEFAULT]",ce=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return p(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new V;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:se})}catch(c){}var t,n=v(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ie(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ie(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=v(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(iP){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===se?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(iP){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;return this.component?this.component.multipleInstances?e:se:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var le,fe,he=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return p(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ce(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),de=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fe||(fe={}));var pe={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},ve=fe.INFO,me=(f(le={},fe.DEBUG,"log"),f(le,fe.VERBOSE,"log"),f(le,fe.INFO,"info"),f(le,fe.WARN,"warn"),f(le,fe.ERROR,"error"),le),ye=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=me[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ge=function(){function e(t){h(this,e),this.name=t,this._logLevel=ve,this._logHandler=ye,this._userLogHandler=null,de.push(this)}return p(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in fe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?pe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.DEBUG].concat(t)),this._logHandler.apply(this,[this,fe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,fe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.INFO].concat(t)),this._logHandler.apply(this,[this,fe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.WARN].concat(t)),this._logHandler.apply(this,[this,fe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fe.ERROR].concat(t)),this._logHandler.apply(this,[this,fe.ERROR].concat(t))}}]),e}();function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we,_e;var xe=new WeakMap,Ee=new WeakMap,Ie=new WeakMap,Se=new WeakMap,Te=new WeakMap;var Ce={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ee.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ie.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Re(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ne(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pe(this),n),Re(xe.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Re(e.apply(Pe(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Pe(this),t].concat(r));return Ie.set(a,t.sort?t.sort():[t]),Re(a)}}function Ae(e){return"function"===typeof e?Ne(e):(e instanceof IDBTransaction&&function(e){if(!Ee.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ee.set(e,t)}}(e),t=e,(we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ce):e);var t}function Re(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Re(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&xe.set(t,e)})).catch((function(){})),Te.set(t,e),t}(e);if(Se.has(e))return Se.get(e);var t=Ae(e);return t!==e&&(Se.set(e,t),Te.set(t,e)),t}var Pe=function(e){return Te.get(e)};var Oe,De,Le=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],Fe=new Map;function Ue(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Fe.get(t))return Fe.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Me.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Le.includes(n))){var a=function(){var e=oe(ne().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Fe.set(t,a),a}}}Ce=function(e){return be(be({},e),{},{get:function(t,n,r){return Ue(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ue(t,n)||e.has(t,n)}})}(Ce);var je=function(){function e(t){h(this,e),this.container=t}return p(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ve="@firebase/app",Be="0.9.0",ze=new ge("@firebase/app"),qe="[DEFAULT]",Ke=(f(Oe={},Ve,"fire-core"),f(Oe,"@firebase/app-compat","fire-core-compat"),f(Oe,"@firebase/analytics","fire-analytics"),f(Oe,"@firebase/analytics-compat","fire-analytics-compat"),f(Oe,"@firebase/app-check","fire-app-check"),f(Oe,"@firebase/app-check-compat","fire-app-check-compat"),f(Oe,"@firebase/auth","fire-auth"),f(Oe,"@firebase/auth-compat","fire-auth-compat"),f(Oe,"@firebase/database","fire-rtdb"),f(Oe,"@firebase/database-compat","fire-rtdb-compat"),f(Oe,"@firebase/functions","fire-fn"),f(Oe,"@firebase/functions-compat","fire-fn-compat"),f(Oe,"@firebase/installations","fire-iid"),f(Oe,"@firebase/installations-compat","fire-iid-compat"),f(Oe,"@firebase/messaging","fire-fcm"),f(Oe,"@firebase/messaging-compat","fire-fcm-compat"),f(Oe,"@firebase/performance","fire-perf"),f(Oe,"@firebase/performance-compat","fire-perf-compat"),f(Oe,"@firebase/remote-config","fire-rc"),f(Oe,"@firebase/remote-config-compat","fire-rc-compat"),f(Oe,"@firebase/storage","fire-gcs"),f(Oe,"@firebase/storage-compat","fire-gcs-compat"),f(Oe,"@firebase/firestore","fire-fst"),f(Oe,"@firebase/firestore-compat","fire-fst-compat"),f(Oe,"fire-js","fire-js"),f(Oe,"firebase","fire-js-all"),Oe),Ge=new Map,He=new Map;function We(e,t){try{e.container.addComponent(t)}catch(n){ze.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Qe(e,t){e.container.addOrOverwriteComponent(t)}function $e(e){var t=e.name;if(He.has(t))return ze.debug("There were multiple attempts to register component ".concat(t,".")),!1;He.set(t,e);var n,r=v(Ge.values());try{for(r.s();!(n=r.n()).done;){We(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ye(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe;Ye(e,t).clearInstance(n)}function Je(){He.clear()}var Ze=(f(De={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),f(De,"bad-app-name","Illegal App name: '{$appName}"),f(De,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),f(De,"app-deleted","Firebase App named '{$appName}' already deleted"),f(De,"no-options","Need to provide options, when not being deployed to hosting via source."),f(De,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),f(De,"invalid-log-argument","First argument to `onLog` must be null or a function."),f(De,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),f(De,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),f(De,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),f(De,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),De),et=new q("app","Firebase",Ze),tt=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ue("app",(function(){return i}),"PUBLIC"))}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw et.create("app-deleted",{appName:this._name})}}]),e}(),nt="9.15.0";function rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:qe,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw et.create("bad-app-name",{appName:String(a)});if(n||(n=j()),!n)throw et.create("no-options");var o=Ge.get(a);if(o){if(W(n,o.options)&&W(i,o.config))return o;throw et.create("duplicate-app",{appName:a})}var u,s=new he(a),c=v(He.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new tt(n,i,s);return Ge.set(a,f),f}function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=Ge.get(e);if(!t&&e===qe)return rt();if(!t)throw et.create("no-app",{appName:e});return t}function at(){return Array.from(Ge.values())}function ot(e){return ut.apply(this,arguments)}function ut(){return(ut=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ge.has(n)){e.next=6;break}return Ge.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e,t,n){var r,i=null!==(r=Ke[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ze.warn(u.join(" "))}$e(new ue("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ct(e,t){if(null!==e&&"function"!==typeof e)throw et.create("invalid-log-argument");!function(e,t){var n,r=v(de);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=pe[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:fe[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function lt(e){var t;t=e,de.forEach((function(e){e.setLogLevel(t)}))}var ft="firebase-heartbeat-store",ht=null;function dt(){return ht||(ht=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Re(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Re(u.result),e.oldVersion,e.newVersion,Re(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ft)}}).catch((function(e){throw et.create("idb-open",{originalErrorMessage:e.message})}))),ht}function pt(e){return vt.apply(this,arguments)}function vt(){return vt=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt();case 3:return n=e.sent,e.abrupt("return",n.transaction(ft).objectStore(ft).get(gt(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof z?ze.warn(e.t0.message):(r=et.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ze.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),vt.apply(this,arguments)}function mt(e,t){return yt.apply(this,arguments)}function yt(){return yt=oe(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dt();case 3:return r=e.sent,i=r.transaction(ft,"readwrite"),a=i.objectStore(ft),e.next=8,a.put(n,gt(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof z?ze.warn(e.t0.message):(o=et.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ze.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),yt.apply(this,arguments)}function gt(e){return"".concat(e.name,"!").concat(e.options.appId)}var kt=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Et(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return p(e,[{key:"triggerHeartbeat",value:function(){var e=oe(ne().mark((function e(){var t,n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=bt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=oe(ne().mark((function e(){var t,n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=bt(),n=wt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=T(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bt(){return(new Date).toISOString().substring(0,10)}function wt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=v(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),It(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),It(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var _t,xt,Et=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return p(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,pt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",mt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",mt(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ie(r.heartbeats),ie(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function It(e){return T(JSON.stringify({version:2,heartbeats:e})).length}_t="",$e(new ue("platform-logger",(function(e){return new je(e)}),"PRIVATE")),$e(new ue("heartbeat",(function(e){return new kt(e)}),"PRIVATE")),st(Ve,Be,_t),st(Ve,Be,"esm2017"),st("fire-js","");var St=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,We(t,new ue("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ot(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){We(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Qe(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Tt=(f(xt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),f(xt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),xt),Ct=new q("app-compat","Firebase",Tt);var Nt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=rt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(H(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:st,setLogLevel:lt,onLog:ct,apps:null,SDK_VERSION:nt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if($e(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ct.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&N(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!H(n,e=e||qe))throw Ct.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(St);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){N(n,e)},createSubscribe:J,ErrorFactory:q,deepExtend:N}),n}(),At=new ge("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){At.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Rt=self.firebase.SDK_VERSION;Rt&&Rt.indexOf("LITE")>=0&&At.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Pt=Nt;!function(e){st("@firebase/app-compat","0.2.0",e)}();function Ot(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function Dt(){return Dt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ot(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Dt.apply(this,arguments)}Pt.registerVersion("firebase","9.15.0","app-compat");function Lt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Mt;Object.create;var Ft="facebook.com",Ut="github.com",jt="google.com",Vt="password",Bt="twitter.com",zt="EMAIL_SIGNIN",qt="PASSWORD_RESET",Kt="RECOVER_EMAIL",Gt="REVERT_SECOND_FACTOR_ADDITION",Ht="VERIFY_AND_CHANGE_EMAIL",Wt="VERIFY_EMAIL";function Qt(){return f({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var $t=function(){var e;return f(e={},"admin-restricted-operation","This operation is restricted to administrators only."),f(e,"argument-error",""),f(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),f(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),f(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),f(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),f(e,"cordova-not-ready","Cordova framework is not ready."),f(e,"cors-unsupported","This browser is not supported."),f(e,"credential-already-in-use","This credential is already associated with a different user account."),f(e,"custom-token-mismatch","The custom token corresponds to a different audience."),f(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),f(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),f(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),f(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),f(e,"email-already-in-use","The email address is already in use by another account."),f(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),f(e,"expired-action-code","The action code has expired."),f(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),f(e,"internal-error","An internal AuthError has occurred."),f(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),f(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),f(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),f(e,"invalid-auth-event","An internal AuthError has occurred."),f(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),f(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),f(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),f(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),f(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),f(e,"invalid-email","The email address is badly formatted."),f(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),f(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),f(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),f(e,"invalid-credential","The supplied auth credential is malformed or has expired."),f(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),f(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),f(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),f(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),f(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),f(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),f(e,"wrong-password","The password is invalid or the user does not have a password."),f(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),f(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),f(e,"invalid-provider-id","The specified provider ID is invalid."),f(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),f(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),f(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),f(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),f(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),f(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),f(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),f(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),f(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),f(e,"missing-continue-uri","A continue URL must be provided in the request."),f(e,"missing-iframe-start","An internal AuthError has occurred."),f(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),f(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),f(e,"missing-multi-factor-info","No second factor identifier is provided."),f(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),f(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),f(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),f(e,"app-deleted","This instance of FirebaseApp has been deleted."),f(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),f(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),f(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),f(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),f(e,"no-auth-event","An internal AuthError has occurred."),f(e,"no-such-provider","User was not linked to an account with the given provider."),f(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),f(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),f(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),f(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),f(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),f(e,"provider-already-linked","User can only be linked to one identity for the given provider."),f(e,"quota-exceeded","The project's quota for this operation has been exceeded."),f(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),f(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),f(e,"rejected-credential","The request contains malformed or mismatching credentials."),f(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),f(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),f(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),f(e,"timeout","The operation has timed out."),f(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),f(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),f(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),f(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),f(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),f(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),f(e,"unverified-email","The operation requires a verified email."),f(e,"user-cancelled","The user did not grant your application the permissions it requested."),f(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),f(e,"user-disabled","The user account has been disabled by an administrator."),f(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),f(e,"user-signed-out",""),f(e,"weak-password","The password must be 6 characters long or more."),f(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),f(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Yt=Qt,Xt=new q("auth","Firebase",Qt()),Jt=new ge("@firebase/auth");function Zt(e){if(Jt.logLevel<=fe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Jt.error.apply(Jt,["Auth (".concat(nt,"): ").concat(e)].concat(n))}}function en(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw an.apply(void 0,[e].concat(n))}function tn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return an.apply(void 0,[e].concat(n))}function nn(e,t,n){var r=Object.assign(Object.assign({},Yt()),f({},t,n));return new q("auth","Firebase",r).create(t,{appName:e.name})}function rn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&en(e,"argument-error"),nn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function an(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ie(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ie(o)))}return Xt.create.apply(Xt,[e].concat(n))}function on(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw an.apply(void 0,[t].concat(r))}}function un(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Zt(t),new Error(t)}function sn(e,t){e||un(t)}var cn=new Map;function ln(e){sn(e instanceof Function,"Expected a class definition");var t=cn.get(e);return t?(sn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cn.set(e,t),t)}function fn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function hn(){return"http:"===dn()||"https:"===dn()}function dn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var pn=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,sn(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R())||D()}return p(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(hn()||O()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function vn(e,t){sn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var mn=function(){function e(){h(this,e)}return p(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),yn=(f(Mt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),f(Mt,"MISSING_CUSTOM_TOKEN","internal-error"),f(Mt,"INVALID_IDENTIFIER","invalid-email"),f(Mt,"MISSING_CONTINUE_URI","internal-error"),f(Mt,"INVALID_PASSWORD","wrong-password"),f(Mt,"MISSING_PASSWORD","internal-error"),f(Mt,"EMAIL_EXISTS","email-already-in-use"),f(Mt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),f(Mt,"INVALID_IDP_RESPONSE","invalid-credential"),f(Mt,"INVALID_PENDING_TOKEN","invalid-credential"),f(Mt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),f(Mt,"MISSING_REQ_TYPE","internal-error"),f(Mt,"EMAIL_NOT_FOUND","user-not-found"),f(Mt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),f(Mt,"EXPIRED_OOB_CODE","expired-action-code"),f(Mt,"INVALID_OOB_CODE","invalid-action-code"),f(Mt,"MISSING_OOB_CODE","internal-error"),f(Mt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),f(Mt,"INVALID_ID_TOKEN","invalid-user-token"),f(Mt,"TOKEN_EXPIRED","user-token-expired"),f(Mt,"USER_NOT_FOUND","user-token-expired"),f(Mt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),f(Mt,"INVALID_CODE","invalid-verification-code"),f(Mt,"INVALID_SESSION_INFO","invalid-verification-id"),f(Mt,"INVALID_TEMPORARY_PROOF","invalid-credential"),f(Mt,"MISSING_SESSION_INFO","missing-verification-id"),f(Mt,"SESSION_EXPIRED","code-expired"),f(Mt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),f(Mt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),f(Mt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),f(Mt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),f(Mt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),f(Mt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),f(Mt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),f(Mt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),f(Mt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),f(Mt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),f(Mt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Mt),gn=new pn(3e4,6e4);function kn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function bn(e,t,n,r){return wn.apply(this,arguments)}function wn(){return wn=oe(ne().mark((function e(t,n,r,i){var a,o=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",_n(t,a,oe(ne().mark((function e(){var a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=$(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",mn.fetch()(Sn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),wn.apply(this,arguments)}function _n(e,t,n){return xn.apply(this,arguments)}function xn(){return xn=oe(ne().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},yn),n),e.prev=2,a=new Tn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Cn(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Cn(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Cn(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Cn(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw nn(t,p,d);case 34:en(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof z)){e.next=41;break}throw e.t0;case 41:en(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),xn.apply(this,arguments)}function En(e,t,n,r){return In.apply(this,arguments)}function In(){return In=oe(ne().mark((function e(t,n,r,i){var a,o,u=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,bn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&en(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),In.apply(this,arguments)}function Sn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?vn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Tn=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(tn(n.auth,"network-request-failed"))}),gn.get())}))}return p(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Cn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=tn(e,t,r);return i.customData._tokenResponse=n,i}function Nn(e,t){return An.apply(this,arguments)}function An(){return(An=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(e,t){return Pn.apply(this,arguments)}function Pn(){return(Pn=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Mn(){return Mn=oe(ne().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=te(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,on((a=Un(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ln(Fn(a.auth_time)),issuedAtTime:Ln(Fn(a.iat)),expirationTime:Ln(Fn(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Mn.apply(this,arguments)}function Fn(e){return 1e3*Number(e)}function Un(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Zt("JWT malformed, contained fewer than 3 sections"),null;try{var a=C(r);return a?JSON.parse(a):(Zt("Failed to decode base64 JWT payload"),null)}catch(o){return Zt("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function jn(e,t){return Vn.apply(this,arguments)}function Vn(){return Vn=oe(ne().mark((function e(t,n){var r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof z&&Bn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Vn.apply(this,arguments)}function Bn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var zn=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return p(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(oe(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),qn=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return p(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Kn(e){return Gn.apply(this,arguments)}function Gn(){return Gn=oe(ne().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,jn(t,On(r,{idToken:i}));case 6:on(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Qn(o.providerUserInfo):[],s=Wn(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new qn(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Gn.apply(this,arguments)}function Hn(){return(Hn=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=te(t),e.next=3,Kn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ie(n),ie(t))}function Qn(e){return e.map((function(e){var t=e.providerId,n=Lt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function $n(e,t){return Yn.apply(this,arguments)}function Yn(){return(Yn=oe(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(t,{},oe(ne().mark((function e(){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Sn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",mn.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xn=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return p(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){on(e.idToken,"internal-error"),on("undefined"!==typeof e.idToken,"internal-error"),on("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Un(e);return on(t,"internal-error"),on("undefined"!==typeof t.exp,"internal-error"),on("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=oe(ne().mark((function e(t){var n,r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],on(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=oe(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$n(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return un("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(on("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(on("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(on("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Jn(e,t){on("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Zn=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Lt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ie(a.providerData):[],this.metadata=new qn(a.createdAt||void 0,a.lastLoginAt||void 0)}return p(e,[{key:"getIdToken",value:function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(on(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Mn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Hn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(on(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){on(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=oe(ne().mark((function e(t){var n,r,i=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Kn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,jn(this,Nn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;on(k&&x,t,"internal-error");var E=Xn.fromJSON(this.name,x);on("string"===typeof k,t,"internal-error"),Jn(f,t.name),Jn(h,t.name),on("boolean"===typeof b,t,"internal-error"),on("boolean"===typeof w,t,"internal-error"),Jn(d,t.name),Jn(p,t.name),Jn(v,t.name),Jn(m,t.name),Jn(y,t.name),Jn(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(I.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=oe(ne().mark((function t(n,r){var i,a,o,u=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Xn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Kn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),er=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return p(e,[{key:"_isAvailable",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();er.type="NONE";var tr=er;function nr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var rr=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=nr(this.userKey,a.apiKey,o),this.fullPersistenceKey=nr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return p(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Zn._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=oe(ne().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,m=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ln(tr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ln(tr),u=nr(i,n.config.apiKey,n.name),s=null,c=v(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Zn._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ir(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ar(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lr(t))return"Blackberry";if(fr(t))return"Webos";if(or(t))return"Safari";if((t.includes("chrome/")||ur(t))&&!t.includes("edge/"))return"Chrome";if(cr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/firefox\//i.test(e)}function or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/crios\//i.test(e)}function sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/iemobile/i.test(e)}function cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/android/i.test(e)}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/blackberry/i.test(e)}function fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/webos/i.test(e)}function hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function dr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return hr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function pr(){return L()&&10===document.documentMode}function vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return hr(e)||cr(e)||fr(e)||lr(e)||/windows phone/i.test(e)||sr(e)}function mr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ir(R());break;case"Worker":t="".concat(ir(R()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(nt,"/").concat(r)}var yr=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return p(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=oe(ne().mark((function e(t){var n,r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=v(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=v(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gr=function(){function e(t,n,r){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new br(this),this.idTokenSubscription=new br(this),this.beforeStateQueue=new yr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return p(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ln(t)),this._initializationPromise=this.queue(oe(ne().mark((function r(){var i,a;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,rr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=oe(ne().mark((function e(t){var n,r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return on(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?te(t):null)&&on(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=oe(ne().mark((function e(t){var n,r=this,i=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&on(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(oe(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ln(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new q("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=oe(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return on(n=t&&ln(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,rr.create(this,[ln(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=oe(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return on(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return on(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=oe(ne().mark((function e(){var t,n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function kr(e){return te(e)}var br=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=J((function(e){return n.observer=e}))}return p(e,[{key:"next",get:function(){return on(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function wr(e,t,n){var r=kr(e);on(r._canInitEmulator,r,"emulator-config-failed"),on(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=_r(t),o=function(e){var t=_r(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:xr(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:xr(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _r(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xr(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Er=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return p(e,[{key:"toJSON",value:function(){return un("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return un("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return un("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return un("not implemented")}}]),e}();function Ir(e,t){return Sr.apply(this,arguments)}function Sr(){return(Sr=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn(t,"POST","/v1/accounts:resetPassword",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tr(e,t){return Cr.apply(this,arguments)}function Cr(){return(Cr=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nr(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn(t,"POST","/v1/accounts:update",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rr(e,t){return Pr.apply(this,arguments)}function Pr(){return(Pr=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signInWithPassword",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Or(e,t){return Dr.apply(this,arguments)}function Dr(){return(Dr=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn(t,"POST","/v1/accounts:sendOobCode",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lr(e,t){return Mr.apply(this,arguments)}function Mr(){return(Mr=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(e,t){return Ur.apply(this,arguments)}function Ur(){return(Ur=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jr(e,t){return Vr.apply(this,arguments)}function Vr(){return(Vr=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Br(e,t){return zr.apply(this,arguments)}function zr(){return(zr=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qr(e,t){return Kr.apply(this,arguments)}function Kr(){return(Kr=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signInWithEmailLink",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gr(e,t){return Hr.apply(this,arguments)}function Hr(){return(Hr=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signInWithEmailLink",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wr=function(e){g(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return p(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Rr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",qr(t,{email:this._email,oobCode:this._password}));case 5:en(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Tr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Gr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:en(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Er);function Qr(e,t){return $r.apply(this,arguments)}function $r(){return($r=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signInWithIdp",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yr=function(e){g(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return p(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Qr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):en("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Lt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Er);function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return(Jr=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn(t,"POST","/v1/accounts:sendVerificationCode",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zr(){return(Zr=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signInWithPhoneNumber",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(){return(ei=oe(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,En(t,"POST","/v1/accounts:signInWithPhoneNumber",kn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Cn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ti=f({},"USER_NOT_FOUND","user-not-found");function ni(){return(ni=oe(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",En(t,"POST","/v1/accounts:signInWithPhoneNumber",kn(t,r),ti));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ri=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Zr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ei.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ni.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Er);var ii=function(){function e(t){var n,r,i,a,o,u;h(this,e);var s=Y(X(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);on(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return p(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Y(X(e)).link,n=t?Y(X(t)).deep_link_id:null,r=Y(X(e)).deep_link_id;return(r?Y(X(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(iP){return null}}}]),e}();var ai=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return p(e,null,[{key:"credential",value:function(e,t){return Wr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ii.parseLink(t);return on(n,"argument-error"),Wr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ai.PROVIDER_ID="password",ai.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ai.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var oi=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return p(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ui=function(e){g(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return p(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ie(this.scopes)}}]),n}(oi),si=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return on(e.idToken||e.accessToken,"argument-error"),Yr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return on("providerId"in t&&"signInMethod"in t,"argument-error"),Yr._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(ui),ci=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"facebook.com")}return p(n,null,[{key:"credential",value:function(e){return Yr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(iP){return null}}}]),n}(ui);ci.FACEBOOK_SIGN_IN_METHOD="facebook.com",ci.PROVIDER_ID="facebook.com";var li=function(e){g(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return p(n,null,[{key:"credential",value:function(e,t){return Yr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(iP){return null}}}]),n}(ui);li.GOOGLE_SIGN_IN_METHOD="google.com",li.PROVIDER_ID="google.com";var fi=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"github.com")}return p(n,null,[{key:"credential",value:function(e){return Yr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(iP){return null}}}]),n}(ui);fi.GITHUB_SIGN_IN_METHOD="github.com",fi.PROVIDER_ID="github.com";var hi=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return p(n,[{key:"_getIdTokenResponse",value:function(e){return Qr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qr(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Er),di=function(e){g(n,e);var t=_(n);function n(e){return h(this,n),on(e.startsWith("saml."),"argument-error"),t.call(this,e)}return p(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=hi.fromJSON(e);return on(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return hi._create(r,n)}catch(i){return null}}}]),n}(oi),pi=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.call(this,"twitter.com")}return p(n,null,[{key:"credential",value:function(e,t){return Yr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(iP){return null}}}]),n}(ui);function vi(e,t){return mi.apply(this,arguments)}function mi(){return(mi=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signUp",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}pi.TWITTER_SIGN_IN_METHOD="twitter.com",pi.PROVIDER_ID="twitter.com";var yi=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return p(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=oe(ne().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Zn._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=gi(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=oe(ne().mark((function t(n,r,i){var a;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=gi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function gi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ki(){return ki=oe(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kr(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new yi({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,vi(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,yi._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}var bi=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o,u;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(m(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return p(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(z);function wi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw bi._fromErrorAndOperation(e,n,t,r);throw n}))}function _i(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function xi(e,t){return Ei.apply(this,arguments)}function Ei(){return Ei=oe(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=te(t),e.next=3,Ti(!0,r,n);case 3:return e.t0=Rn,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=_i(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function Ii(e,t){return Si.apply(this,arguments)}function Si(){return Si=oe(ne().mark((function e(t,n){var r,i,a=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=jn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",yi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Si.apply(this,arguments)}function Ti(e,t,n){return Ci.apply(this,arguments)}function Ci(){return(Ci=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kn(n);case 2:i=_i(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",on(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ni(e,t){return Ai.apply(this,arguments)}function Ai(){return Ai=oe(ne().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,jn(t,wi(i,a,n,t),r);case 6:return on((o=e.sent).idToken,i,"internal-error"),on(u=Un(o.idToken),i,"internal-error"),s=u.sub,on(t.uid===s,i,"user-mismatch"),e.abrupt("return",yi._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&en(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ai.apply(this,arguments)}function Ri(e,t){return Pi.apply(this,arguments)}function Pi(){return Pi=oe(ne().mark((function e(t,n){var r,i,a,o,u=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,wi(t,i,n);case 4:return a=e.sent,e.next=7,yi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}function Oi(e,t){return Di.apply(this,arguments)}function Di(){return(Di=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ri(kr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return(Mi=oe(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=te(t),e.next=3,Ti(!1,r,n.providerId);case 3:return e.abrupt("return",Ii(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fi(e,t){return Ui.apply(this,arguments)}function Ui(){return(Ui=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni(te(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ji(e,t){return Vi.apply(this,arguments)}function Vi(){return(Vi=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",En(t,"POST","/v1/accounts:signInWithCustomToken",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bi(){return(Bi=oe(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kr(t),e.next=3,ji(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,yi._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zi=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return p(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?qi._fromServerResponse(e,t):en(e,"internal-error")}}]),e}(),qi=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return p(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(zi);function Ki(e,t,n){var r;on((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),on("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(on(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(on(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gi(){return(Gi=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=te(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ki(i,a,r),e.next=5,Fr(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(){return(Hi=oe(ne().mark((function e(t,n,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir(te(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wi(){return(Wi=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr(te(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qi(e,t){return $i.apply(this,arguments)}function $i(){return($i=oe(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=te(t),e.next=3,Ir(r,{oobCode:n});case 3:i=e.sent,on(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return on(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:on(i.mfaInfo,r,"internal-error");case 13:on(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=zi._fromServerResponse(kr(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yi(){return(Yi=oe(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qi(te(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xi(e,t,n){return Ji.apply(this,arguments)}function Ji(){return(Ji=oe(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kr(t),e.next=3,vi(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,yi._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(){return(Zi=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=te(t),a={requestType:"EMAIL_SIGNIN",email:n},on(r.handleCodeInApp,i,"argument-error"),r&&Ki(i,a,r),e.next=6,jr(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(){return(ea=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=te(t),on((a=ai.credentialWithLink(n,r||fn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Oi(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return(na=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn(t,"POST","/v1/accounts:createAuthUri",kn(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(){return(ra=oe(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hn()?fn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ta(te(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(){return(ia=oe(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=te(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ki(r.auth,a,n),e.next=8,Lr(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(){return(aa=oe(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=te(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ki(i.auth,o,r),e.next=8,Br(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e,t){return ua.apply(this,arguments)}function ua(){return(ua=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sa(){return(sa=oe(ne().mark((function e(t,n){var r,i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=te(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,jn(a,oa(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(e,t,n){return la.apply(this,arguments)}function la(){return(la=oe(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,jn(t,Tr(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fa=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),ha=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i)).username=a,o}return p(n)}(fa),da=function(e){g(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return p(n)}(fa),pa=function(e){g(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return p(n)}(ha),va=function(e){g(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return p(n)}(fa),ma=function(e){g(n,e);var t=_(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return p(n)}(ha);function ya(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Un(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new fa(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new da(a,i);case"github.com":return new pa(a,i);case"google.com":return new va(a,i);case"twitter.com":return new ma(a,i,e.screenName||null);case"custom":case"anonymous":return new fa(a,null);default:return new fa(a,r,i)}}(n)}var ga=function(){function e(t,n,r){h(this,e),this.type=t,this.credential=n,this.auth=r}return p(e,[{key:"toJSON",value:function(){return{multiFactorSession:f({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ka=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return p(e,[{key:"resolveSignIn",value:function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=kr(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return zi._fromServerResponse(r,e)}));on(i.mfaPendingCredential,r,"internal-error");var o=ga._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=oe(ne().mark((function e(t){var a,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,yi._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return on(n.user,r,"internal-error"),e.abrupt("return",yi._forOperation(n.user,n.operationType,u));case 17:en(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ba(e,t){return bn(e,"POST","/v2/accounts/mfaEnrollment:start",kn(e,t))}var wa=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return zi._fromServerResponse(t.auth,e)})))}))}return p(e,[{key:"getSession",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ga,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=oe(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,jn(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=oe(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,jn(this.user,bn(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",kn(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),_a=new WeakMap;var xa="__sak",Ea=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return p(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(xa,"1"),this.storage.removeItem(xa),Promise.resolve(!0)):Promise.resolve(!1)}catch(iP){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ia=function(e){g(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=R();return or(e)||hr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=vr(),e._shouldAllowMigration=!0,e}return p(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);pr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=oe(ne().mark((function e(t,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(ne().mark((function e(t){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ea);Ia.type="LOCAL";var Sa=Ia,Ta=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return p(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ea);Ta.type="SESSION";var Ca=Ta;function Na(e){return Promise.all(e.map(function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Aa=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return p(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=oe(ne().mark((function e(t){var n,r,i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Na(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ra(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Aa.receivers=[];var Pa=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return p(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=oe(ne().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Ra("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Oa(){return window}function Da(){return"undefined"!==typeof Oa().WorkerGlobalScope&&"function"===typeof Oa().importScripts}function La(){return Ma.apply(this,arguments)}function Ma(){return(Ma=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Fa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ua="firebaseLocalStorageDb",ja="firebaseLocalStorage",Va="fbase_key",Ba=function(){function e(t){h(this,e),this.request=t}return p(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function za(e,t){return e.transaction([ja],t?"readwrite":"readonly").objectStore(ja)}function qa(){var e=indexedDB.deleteDatabase(Ua);return new Ba(e).toPromise()}function Ka(){var e=indexedDB.open(Ua,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ja,{keyPath:Va})}catch(r){n(r)}})),e.addEventListener("success",oe(ne().mark((function n(){var r;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ja)){n.next=12;break}return r.close(),n.next=5,qa();case 5:return n.t0=t,n.next=8,Ka();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ga(e,t,n){return Ha.apply(this,arguments)}function Ha(){return Ha=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=za(t,!0).put((f(i={},Va,n),f(i,"value",r),i)),e.abrupt("return",new Ba(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Wa(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=oe(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=za(t,!1).get(n),e.next=3,new Ba(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function $a(e,t){var n=za(e,!0).delete(t);return new Ba(n).toPromise()}var Ya=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return p(e,[{key:"_openDb",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ka();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=oe(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Aa._getInstance(Da()?self:null),this.receiver._subscribe("keyChanged",function(){var e=oe(ne().mark((function e(n,r){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=oe(ne().mark((function e(){var t,n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Pa(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Fa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ka();case 5:return t=e.sent,e.next=8,Ga(t,xa,"1");case 8:return e.next=10,$a(t,xa);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=oe(ne().mark((function e(t,n){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ga(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Wa(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return $a(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=oe(ne().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=za(e,!1).getAll();return new Ba(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=v(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(oe(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ya.type="LOCAL";var Xa=Ya;function Ja(e,t){return bn(e,"POST","/v2/accounts/mfaSignIn:start",kn(e,t))}function Za(e){return eo.apply(this,arguments)}function eo(){return(eo=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function to(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=tn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function no(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ro=1e12,io=function(){function e(t){h(this,e),this.auth=t,this.counter=ro,this._widgets=new Map}return p(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ao(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ro;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ro;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ro,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ao=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;on(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return p(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var oo=no("rcb"),uo=new pn(3e4,6e4),so="https://www.google.com/recaptcha/api.js?",co=function(){function e(){var t;h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Oa().grecaptcha)||void 0===t?void 0:t.render)}return p(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return on(lo(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Oa().grecaptcha):new Promise((function(r,i){var a=Oa().setTimeout((function(){i(tn(e,"network-request-failed"))}),uo.get());Oa()[oo]=function(){Oa().clearTimeout(a),delete Oa()[oo];var o=Oa().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(tn(e,"internal-error"))},to("".concat(so,"?").concat($({onload:oo,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(tn(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Oa().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function lo(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var fo=function(){function e(){h(this,e)}return p(e,[{key:"load",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new io(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ho="recaptcha",po={theme:"light",type:"image"},vo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},po),r=arguments.length>2?arguments[2]:void 0;h(this,e),this.parameters=n,this.type=ho,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kr(r),this.isInvisible="invisible"===this.parameters.size,on("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;on(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fo:new co,this.validateStartingState()}return p(e,[{key:"verify",value:function(){var e=oe(ne().mark((function e(){var t,n,r,i=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){on(!this.parameters.sitekey,this.auth,"argument-error"),on(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),on("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Oa()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){on(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=oe(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return on(hn()&&!Da(),this.auth,"internal-error"),e.next=3,mo();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Za(this.auth);case 8:on(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return on(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function mo(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var yo=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return p(e,[{key:"confirm",value:function(e){var t=ri._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function go(){return(go=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kr(t),e.next=3,_o(i,n,te(r));case 3:return a=e.sent,e.abrupt("return",new yo(a,(function(e){return Oi(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(e,t,n){return bo.apply(this,arguments)}function bo(){return(bo=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=te(t),e.next=3,Ti(!1,i,"phone");case 3:return e.next=5,_o(i.auth,n,te(r));case 5:return a=e.sent,e.abrupt("return",new yo(a,(function(e){return Li(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(){return(wo=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=te(t),e.next=3,_o(i.auth,n,te(r));case 3:return a=e.sent,e.abrupt("return",new yo(a,(function(e){return Fi(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e,t,n){return xo.apply(this,arguments)}function xo(){return xo=oe(ne().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,on("string"===typeof a,t,"argument-error"),on(r.type===ho,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return on("enroll"===u.type,t,"internal-error"),e.next=13,ba(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return on("signin"===u.type,t,"internal-error"),on(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ja(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Xr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),xo.apply(this,arguments)}function Eo(){return(Eo=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ii(te(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Io=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=kr(t)}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return _o(this.auth,e,te(t))}}],[{key:"credential",value:function(e,t){return ri._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ri._fromTokenResponse(n,r):null}}]),e}();function So(e,t){return t?ln(t):(on(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Io.PROVIDER_ID="phone",Io.PHONE_SIGN_IN_METHOD="phone";var To=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return p(n,[{key:"_getIdTokenResponse",value:function(e){return Qr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Qr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Qr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Er);function Co(e){return Ri(e.auth,new To(e),e.bypassAuthState)}function No(e){var t=e.auth,n=e.user;return on(n,t,"internal-error"),Ni(n,new To(e),e.bypassAuthState)}function Ao(e){return Ro.apply(this,arguments)}function Ro(){return(Ro=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,on(r=t.user,n,"internal-error"),e.abrupt("return",Ii(r,new To(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Po=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return p(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=oe(ne().mark((function t(n,r){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=oe(ne().mark((function e(t){var n,r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Co;case"linkViaPopup":case"linkViaRedirect":return Ao;case"reauthViaPopup":case"reauthViaRedirect":return No;default:en(this.auth,"internal-error")}}},{key:"resolve",value:function(e){sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Oo=new pn(2e3,1e4);function Do(e,t,n){return Lo.apply(this,arguments)}function Lo(){return(Lo=oe(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kr(t),rn(t,n,oi),a=So(i,r),o=new jo(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(){return(Mo=oe(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rn((i=te(t)).auth,n,oi),a=So(i.auth,r),o=new jo(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fo(e,t,n){return Uo.apply(this,arguments)}function Uo(){return(Uo=oe(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rn((i=te(t)).auth,n,oi),a=So(i.auth,r),o=new jo(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jo=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o){var u;return h(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=m(u),u}return p(n,[{key:"executeNotNull",value:function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return on(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=oe(ne().mark((function e(){var t,n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sn(1===this.filter.length,"Popup operations only handle one event"),t=Ra(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(tn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(tn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(tn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Oo.get())}()}}]),n}(Po);jo.currentPopupAction=null;var Vo=new Map,Bo=function(e){g(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return p(n,[{key:"execute",value:function(){var e=oe(ne().mark((function e(){var t,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Vo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,zo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Dt(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Vo.set(this.auth._key(),t);case 21:return this.bypassAuthState||Vo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=oe(ne().mark((function e(t){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Dt(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Dt(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Po);function zo(e,t){return qo.apply(this,arguments)}function qo(){return qo=oe(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qo(n),i=Wo(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function Ko(e,t){return Go.apply(this,arguments)}function Go(){return(Go=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wo(t)._set(Qo(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ho(e,t){Vo.set(e._key(),t)}function Wo(e){return ln(e._redirectPersistence)}function Qo(e){return nr("pendingRedirect",e.config.apiKey,e.name)}function $o(e,t,n){return function(e,t,n){return Yo.apply(this,arguments)}(e,t,n)}function Yo(){return(Yo=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kr(t),rn(t,n,oi),a=So(i,r),e.next=5,Ko(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xo(e,t,n){return function(e,t,n){return Jo.apply(this,arguments)}(e,t,n)}function Jo(){return(Jo=oe(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rn((i=te(t)).auth,n,oi),a=So(i.auth,r),e.next=5,Ko(a,i.auth);case 5:return e.next=7,au(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zo(e,t,n){return function(e,t,n){return eu.apply(this,arguments)}(e,t,n)}function eu(){return(eu=oe(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rn((i=te(t)).auth,n,oi),a=So(i.auth,r),e.next=5,Ti(!1,i,n.providerId);case 5:return e.next=7,Ko(a,i.auth);case 7:return e.next=9,au(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return(nu=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(t)._initializationPromise;case 2:return e.abrupt("return",ru(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=oe(ne().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=kr(t),a=So(i,n),o=new Bo(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e){return ou.apply(this,arguments)}function ou(){return(ou=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ra("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uu=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return p(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!cu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(tn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(su(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(su(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function su(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function cu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function lu(e){return fu.apply(this,arguments)}function fu(){return fu=oe(ne().mark((function e(t){var n,r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",bn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}var hu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,du=/^https?/;function pu(){return(pu=oe(ne().mark((function e(t){var n,r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lu(t);case 4:n=e.sent,r=n.authorizedDomains,i=v(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!vu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:en(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function vu(e){var t=fn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!du.test(r))return!1;if(hu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var mu=new pn(3e4,6e4);function yu(){var e=Oa().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ie(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var gu=null;function ku(e){return gu=gu||function(e){return new Promise((function(t,n){var r,i,a;function o(){yu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){yu(),n(tn(e,"network-request-failed"))},timeout:mu.get()})}if(null===(i=null===(r=Oa().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Oa().gapi)||void 0===a?void 0:a.load)){var u=no("iframefcb");return Oa()[u]=function(){gapi.load?o():n(tn(e,"network-request-failed"))},to("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw gu=null,e}))}(e),gu}var bu=new pn(5e3,15e3),wu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_u=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xu(e){var t=e.config;on(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?vn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:nt},i=_u.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat($(r).slice(1))}function Eu(e){return Iu.apply(this,arguments)}function Iu(){return Iu=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ku(t);case 2:return n=e.sent,on(r=Oa().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:xu(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wu,dontclear:!0},(function(e){return new Promise(function(){var n=oe(ne().mark((function n(r,i){var a,o,u;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Oa().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=tn(t,"network-request-failed"),o=Oa().setTimeout((function(){i(a)}),bu.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}var Su={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tu="_blank",Cu="http://localhost",Nu=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return p(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Au(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Su),{width:r.toString(),height:i.toString(),top:a,left:o}),l=R().toLowerCase();n&&(s=ur(l)?Tu:n),ar(l)&&(t=t||Cu,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(dr(l)&&"_self"!==s)return Ru(t||"",s),new Nu(null);var h=window.open(t||"",s,f);on(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Nu(h)}function Ru(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Pu="__/auth/handler",Ou="emulator/auth/handler";function Du(e,t,n,r,i,a){on(e.config.authDomain,e,"auth-domain-config-required"),on(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nt,eventId:i};if(t instanceof oi){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof ui){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Pu);return vn(t,Ou)}(e),"?").concat($(p).slice(1))}var Lu="webStorageSupport",Mu=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ca,this._completeRedirectFn=ru,this._overrideRedirectResult=Ho}return p(e,[{key:"_openPopup",value:function(){var e=oe(ne().mark((function e(t,n,r,i){var a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Du(t,n,r,fn(),i),e.abrupt("return",Au(t,o,Ra()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=oe(ne().mark((function e(t,n,r,i){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Du(t,n,r,fn(),i),Oa().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(sn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eu(t);case 2:return n=e.sent,r=new uu(t),n.register("authEvent",(function(e){return on(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Lu,{type:Lu},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Lu];void 0!==i&&t(!!i),en(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return vr()||or()||hr()}}]),e}(),Fu=Mu,Uu=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return p(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return bn(e,"POST","/v2/accounts/mfaEnrollment:finalize",kn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return bn(e,"POST","/v2/accounts/mfaSignIn:finalize",kn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){h(this,e),this.factorId=t}return p(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return un("unexpected MultiFactorSessionType")}}}]),e}()),ju=function(){function e(){h(this,e)}return p(e,null,[{key:"assertion",value:function(e){return Uu._fromCredential(e)}}]),e}();ju.FACTOR_ID="phone";var Vu="@firebase/auth",Bu="0.21.0",zu=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return p(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){on(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var qu;!function(e){var t;null===(t=U())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");qu="Browser",$e(new ue("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){on(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),on(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:qu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mr(qu)},i=new gr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ln);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),$e(new ue("auth-internal",(function(e){return function(e){return new zu(e)}(kr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),st(Vu,Bu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(qu)),st(Vu,Bu,"esm2017");Pt.initializeApp({apiKey:"AIzaSyBbTH7dV0PDa7bgldqLeo3KFC7TLHEaE0Q",authDomain:"socialfb-3ec32.firebaseapp.com",projectId:"socialfb-3ec32",storageBucket:"socialfb-3ec32.appspot.com",messagingSenderId:"119100639712",appId:"1:119100639712:web:eea042d2aeddd19e440385"});var Ku=Pt;function Gu(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}var Hu=n(7),Wu=n.n(Hu);function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qu.apply(this,arguments)}function $u(e){return"/"===e.charAt(0)}function Yu(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var Xu=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&$u(e),o=t&&$u(t),u=a||o;if(e&&$u(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?Yu(i,l):".."===f?(Yu(i,l),c++):c&&(Yu(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&$u(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function Ju(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var Zu=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=Ju(t),i=Ju(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},es="Invariant failed";function ts(e,t){if(!e)throw new Error(es)}function ns(e){return"/"===e.charAt(0)?e:"/"+e}function rs(e){return"/"===e.charAt(0)?e.substr(1):e}function is(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function as(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function os(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function us(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=Qu({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Xu(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function ss(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var cs=!("undefined"===typeof window||!window.document||!window.document.createElement);function ls(e,t){t(window.confirm(e))}var fs="popstate",hs="hashchange";function ds(){try{return window.history.state||{}}catch(e){return{}}}function ps(e){void 0===e&&(e={}),cs||ts(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?ls:u,c=i.keyLength,l=void 0===c?6:c,f=e.basename?as(ns(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=is(a,f)),us(a,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var p=ss();function v(e){Qu(T,e),T.length=t.length,p.notifyListeners(T.location,T.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||k(h(e.state))}function y(){k(h(ds()))}var g=!1;function k(e){if(g)g=!1,v();else{p.confirmTransitionTo(e,"POP",s,(function(t){t?v({action:"POP",location:e}):function(e){var t=T.location,n=w.indexOf(t.key);-1===n&&(n=0);var r=w.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(g=!0,x(i))}(e)}))}}var b=h(ds()),w=[b.key];function _(e){return f+os(e)}function x(e){t.go(e)}var E=0;function I(e){1===(E+=e)&&1===e?(window.addEventListener(fs,m),r&&window.addEventListener(hs,y)):0===E&&(window.removeEventListener(fs,m),r&&window.removeEventListener(hs,y))}var S=!1;var T={length:t.length,action:"POP",location:b,createHref:_,push:function(e,r){var i="PUSH",a=us(e,r,d(),T.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=_(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=w.indexOf(T.location.key),l=w.slice(0,c+1);l.push(a.key),w=l,v({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=us(e,r,d(),T.location);p.confirmTransitionTo(a,i,s,(function(e){if(e){var r=_(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=w.indexOf(T.location.key);-1!==c&&(w[c]=a.key),v({action:i,location:a})}else window.location.replace(r)}}))},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return S||(I(1),S=!0),function(){return S&&(S=!1,I(-1)),t()}},listen:function(e){var t=p.appendListener(e);return I(1),function(){I(-1),t()}}};return T}var vs="hashchange",ms={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+rs(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:rs,decodePath:ns},slash:{encodePath:ns,decodePath:ns}};function ys(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function gs(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function ks(e){window.location.replace(ys(window.location.href)+"#"+e)}function bs(e){void 0===e&&{},cs||ts(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?ls:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?as(ns(e.basename)):"",s=ms[o],c=s.encodePath,l=s.decodePath;function f(){var e=l(gs());return u&&is(e,u),us(e)}var h=ss();function d(e){Qu(I,e),I.length=t.length,h.notifyListeners(I.location,I.action)}var p=!1,v=null;function m(){var e=gs(),t=c(e);if(e!==t)ks(t);else{var n=f(),r=I.location;if(!p&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(v===os(n))return;null,function(e){if(p)!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=I.location,n=b.lastIndexOf(os(t));-1===n&&0;var r=b.lastIndexOf(os(e));-1===r&&0;var i=n-r;i&&(!0,w(i))}(e)}))}}(n)}}var y=gs(),g=c(y);y!==g&&ks(g);var k=f(),b=[os(k)];function w(e){t.go(e)}var _=0;function x(e){1===(_+=e)&&1===e?window.addEventListener(vs,m):0===_&&window.removeEventListener(vs,m)}var E=!1;var I={length:t.length,action:"POP",location:k,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&ys(window.location.href),n+"#"+c(u+os(e))},push:function(e,t){var n="PUSH",r=us(e,void 0,void 0,I.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=os(r),i=c(u+t);if(gs()!==i){t,function(e){window.location.hash=e}(i);var a=b.lastIndexOf(os(I.location)),o=b.slice(0,a+1);o.push(t),o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=us(e,void 0,void 0,I.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=os(r),i=c(u+t);gs()!==i&&(t,ks(i));var a=b.indexOf(os(I.location));-1!==a&&(b[a]=t),d({action:n,location:r})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return E||(x(1),!0),function(){return E&&(!1,x(-1)),t()}},listen:function(e){var t=h.appendListener(e);return x(1),function(){x(-1),t()}}};return I}function ws(e,t,n){return Math.min(Math.max(e,t),n)}function _s(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,s=void 0===u?6:u,c=ss();function l(e){Qu(m,e),m.length=m.entries.length,c.notifyListeners(m.location,m.action)}function f(){return Math.random().toString(36).substr(2,s)}var h=ws(o,0,i.length-1),d=i.map((function(e){return us(e,void 0,"string"===typeof e?f():e.key||f())})),p=os;function v(e){var t=ws(m.index+e,0,m.entries.length-1),r=m.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var m={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:p,push:function(e,t){var r="PUSH",i=us(e,t,f(),m.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=us(e,t,f(),m.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(m.entries[m.index]=i,l({action:r,location:i}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return m}var xs=n(239),Es=n.n(xs);n(228);function Is(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(110);var Ss=1073741823,Ts="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function Cs(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Ns=s.createContext||function(e,t){var n,r,i="__create-react-context-"+function(){var e="__global_unique_id__";return Ts[e]=(Ts[e]||0)+1}()+"__",a=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=Cs(t.props.value),t}Gu(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[i]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(n="function"===typeof t?t(r,i):Ss,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(s.Component);a.childContextTypes=((n={})[i]=Wu().object.isRequired,n);var o=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Gu(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?Ss:t},r.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?Ss:e},r.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},r.getValue=function(){return this.context[i]?this.context[i].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(s.Component);return o.contextTypes=((r={})[i]=Wu().object,r),{Provider:a,Consumer:o}},As=function(e){var t=Ns();return t.displayName=e,t},Rs=As("Router-History"),Ps=As("Router"),Os=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Gu(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return s.createElement(Ps.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},s.createElement(Rs.Provider,{children:this.props.children||null,value:this.props.history}))},t}(s.Component);s.Component;var Ds=function(e){function t(){return e.apply(this,arguments)||this}Gu(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(s.Component);var Ls={},Ms=0;function Fs(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(Ls[e])return Ls[e];var t=Es().compile(e);return Ms<1e4&&(Ls[e]=t,Ms++),t}(e)(t,{pretty:!0})}function Us(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return s.createElement(Ps.Consumer,null,(function(e){e||ts(!1);var r=e.history,a=e.staticContext,o=i?r.push:r.replace,u=us(t?"string"===typeof n?Fs(n,t.params):Qu({},n,{pathname:Fs(n.pathname,t.params)}):n);return a?(o(u),null):s.createElement(Ds,{onMount:function(){o(u)},onUpdate:function(e,t){var n=us(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Zu(e.state,t.state)})(n,Qu({},u,{key:n.key}))||o(u)},to:n})}))}var js={},Vs=0;function Bs(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=js[n]||(js[n]={});if(r[e])return r[e];var i=[],a={regexp:Es()(e,i,t),keys:i};return Vs<1e4&&(r[e]=a,Vs++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var zs=function(e){function t(){return e.apply(this,arguments)||this}return Gu(t,e),t.prototype.render=function(){var e=this;return s.createElement(Ps.Consumer,null,(function(t){t||ts(!1);var n=e.props.location||t.location,r=Qu({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Bs(n.pathname,e.props):t.match}),i=e.props,a=i.children,o=i.component,u=i.render;return Array.isArray(a)&&function(e){return 0===s.Children.count(e)}(a)&&(a=null),s.createElement(Ps.Provider,{value:r},r.match?a?"function"===typeof a?a(r):a:o?s.createElement(o,r):u?u(r):null:"function"===typeof a?a(r):null)}))},t}(s.Component);function qs(e){return"/"===e.charAt(0)?e:"/"+e}function Ks(e,t){if(!e)return t;var n=qs(e);return 0!==t.pathname.indexOf(n)?t:Qu({},t,{pathname:t.pathname.substr(n.length)})}function Gs(e){return"string"===typeof e?e:os(e)}function Hs(e){return function(){ts(!1)}}function Ws(){}s.Component;var Qs=function(e){function t(){return e.apply(this,arguments)||this}return Gu(t,e),t.prototype.render=function(){var e=this;return s.createElement(Ps.Consumer,null,(function(t){t||ts(!1);var n,r,i=e.props.location||t.location;return s.Children.forEach(e.props.children,(function(e){if(null==r&&s.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?Bs(i.pathname,Qu({},e.props,{path:a})):t.match}})),r?s.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(s.Component);var $s=s.useContext;function Ys(){return $s(Rs)}function Xs(){return $s(Ps).location}var Js=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=ps(t.props),t}return Gu(t,e),t.prototype.render=function(){return s.createElement(Os,{history:this.history,children:this.props.children})},t}(s.Component);s.Component;var Zs=function(e,t){return"function"===typeof e?e(t):e},ec=function(e,t){return"string"===typeof e?us(e,null,null,t):e},tc=function(e){return e},nc=s.forwardRef;"undefined"===typeof nc&&(nc=tc);var rc=nc((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Is(e,["innerRef","navigate","onClick"]),o=a.target,u=Qu({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=tc!==nc&&t||n,s.createElement("a",u)}));var ic=nc((function(e,t){var n=e.component,r=void 0===n?rc:n,i=e.replace,a=e.to,o=e.innerRef,u=Is(e,["component","replace","to","innerRef"]);return s.createElement(Ps.Consumer,null,(function(e){e||ts(!1);var n=e.history,c=ec(Zs(a,e.location),e.location),l=c?n.createHref(c):"",f=Qu({},u,{href:l,navigate:function(){var t=Zs(a,e.location),r=os(e.location)===os(ec(t));(i||r?n.replace:n.push)(t)}});return tc!==nc?f.ref=t||o:f.innerRef=o,s.createElement(r,f)}))})),ac=function(e){return e},oc=s.forwardRef;"undefined"===typeof oc&&(oc=ac);oc((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,a=void 0===i?"active":i,o=e.activeStyle,u=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,v=e.to,m=e.innerRef,y=Is(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return s.createElement(Ps.Consumer,null,(function(e){e||ts(!1);var n=f||e.location,i=ec(Zs(v,n),n),g=i.pathname,k=g&&g.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=k?Bs(n.pathname,{path:k,exact:c,sensitive:h,strict:d}):null,w=!!(l?l(b,n):b),_="function"===typeof u?u(w):u,x="function"===typeof p?p(w):p;w&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,a),x=Qu({},x,o));var E=Qu({"aria-current":w&&r||null,className:_,style:x,to:i},y);return ac!==oc?E.ref=t||m:E.innerRef=m,s.createElement(ic,E)}))}));function uc(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=uc(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var sc=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=uc(e))&&(r&&(r+=" "),r+=t);return r},cc={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function lc(e){var t=typeof e;return"string"===t||"number"===t?cc[e]||e:""}var fc=function(e,t){return e&&t},hc=function(e,t){return e&&!0!==e&&e+" "+t},dc=function(e,t){return e&&(!0===e?t:e+" "+t)},pc=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},vc=function(e){return"justified"===e?"justified":hc(e,"aligned")},mc=function(e){return hc(e,"aligned")},yc=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?lc(e):lc(e)+" "+t},gc=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};var kc=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var a=n();if(a)return a}return t.href?"a":i.as||"div"};var bc=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var wc=function(){this.__data__=[],this.size=0};var _c=function(e,t){return e===t||e!==e&&t!==t};var xc=function(e,t){for(var n=e.length;n--;)if(_c(e[n][0],t))return n;return-1},Ec=Array.prototype.splice;var Ic=function(e){var t=this.__data__,n=xc(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ec.call(t,n,1),--this.size,!0)};var Sc=function(e){var t=this.__data__,n=xc(t,e);return n<0?void 0:t[n][1]};var Tc=function(e){return xc(this.__data__,e)>-1};var Cc=function(e,t){var n=this.__data__,r=xc(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Nc(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Nc.prototype.clear=wc,Nc.prototype.delete=Ic,Nc.prototype.get=Sc,Nc.prototype.has=Tc,Nc.prototype.set=Cc;var Ac=Nc;var Rc=function(){this.__data__=new Ac,this.size=0};var Pc=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Oc=function(e){return this.__data__.get(e)};var Dc=function(e){return this.__data__.has(e)},Lc="object"==typeof global&&global&&global.Object===Object&&global,Mc="object"==typeof self&&self&&self.Object===Object&&self,Fc=Lc||Mc||Function("return this")(),Uc=Fc.Symbol,jc=Object.prototype,Vc=jc.hasOwnProperty,Bc=jc.toString,zc=Uc?Uc.toStringTag:void 0;var qc=function(e){var t=Vc.call(e,zc),n=e[zc];try{e[zc]=void 0;var r=!0}catch(a){}var i=Bc.call(e);return r&&(t?e[zc]=n:delete e[zc]),i},Kc=Object.prototype.toString;var Gc=function(e){return Kc.call(e)},Hc=Uc?Uc.toStringTag:void 0;var Wc=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Hc&&Hc in Object(e)?qc(e):Gc(e)};var Qc=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var $c=function(e){if(!Qc(e))return!1;var t=Wc(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Yc=Fc["__core-js_shared__"],Xc=function(){var e=/[^.]+$/.exec(Yc&&Yc.keys&&Yc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var Jc=function(e){return!!Xc&&Xc in e},Zc=Function.prototype.toString;var el=function(e){if(null!=e){try{return Zc.call(e)}catch(t){}try{return e+""}catch(t){}}return""},tl=/^\[object .+?Constructor\]$/,nl=Function.prototype,rl=Object.prototype,il=nl.toString,al=rl.hasOwnProperty,ol=RegExp("^"+il.call(al).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ul=function(e){return!(!Qc(e)||Jc(e))&&($c(e)?ol:tl).test(el(e))};var sl=function(e,t){return null==e?void 0:e[t]};var cl=function(e,t){var n=sl(e,t);return ul(n)?n:void 0},ll=cl(Fc,"Map"),fl=cl(Object,"create");var hl=function(){this.__data__=fl?fl(null):{},this.size=0};var dl=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},pl=Object.prototype.hasOwnProperty;var vl=function(e){var t=this.__data__;if(fl){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return pl.call(t,e)?t[e]:void 0},ml=Object.prototype.hasOwnProperty;var yl=function(e){var t=this.__data__;return fl?void 0!==t[e]:ml.call(t,e)};var gl=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fl&&void 0===t?"__lodash_hash_undefined__":t,this};function kl(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kl.prototype.clear=hl,kl.prototype.delete=dl,kl.prototype.get=vl,kl.prototype.has=yl,kl.prototype.set=gl;var bl=kl;var wl=function(){this.size=0,this.__data__={hash:new bl,map:new(ll||Ac),string:new bl}};var _l=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var xl=function(e,t){var n=e.__data__;return _l(t)?n["string"==typeof t?"string":"hash"]:n.map};var El=function(e){var t=xl(this,e).delete(e);return this.size-=t?1:0,t};var Il=function(e){return xl(this,e).get(e)};var Sl=function(e){return xl(this,e).has(e)};var Tl=function(e,t){var n=xl(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Cl(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Cl.prototype.clear=wl,Cl.prototype.delete=El,Cl.prototype.get=Il,Cl.prototype.has=Sl,Cl.prototype.set=Tl;var Nl=Cl;var Al=function(e,t){var n=this.__data__;if(n instanceof Ac){var r=n.__data__;if(!ll||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Nl(r)}return n.set(e,t),this.size=n.size,this};function Rl(e){var t=this.__data__=new Ac(e);this.size=t.size}Rl.prototype.clear=Rc,Rl.prototype.delete=Pc,Rl.prototype.get=Oc,Rl.prototype.has=Dc,Rl.prototype.set=Al;var Pl=Rl;var Ol=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Dl=function(e){return this.__data__.has(e)};function Ll(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Nl;++t<n;)this.add(e[t])}Ll.prototype.add=Ll.prototype.push=Ol,Ll.prototype.has=Dl;var Ml=Ll;var Fl=function(e,t){return e.has(t)};var Ul=function(e,t,n,r,i,a){var o=1&n,u=e.length,s=t.length;if(u!=s&&!(o&&s>u))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,d=2&n?new Ml:void 0;for(a.set(e,t),a.set(t,e);++f<u;){var p=e[f],v=t[f];if(r)var m=o?r(v,p,f,t,e,a):r(p,v,f,e,t,a);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!bc(t,(function(e,t){if(!Fl(d,t)&&(p===e||i(p,e,n,r,a)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h},jl=Fc.Uint8Array;var Vl=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Bl=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},zl=Uc?Uc.prototype:void 0,ql=zl?zl.valueOf:void 0;var Kl=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new jl(e),new jl(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _c(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Vl;case"[object Set]":var s=1&r;if(u||(u=Bl),e.size!=t.size&&!s)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var l=Ul(u(e),u(t),r,i,a,o);return o.delete(e),l;case"[object Symbol]":if(ql)return ql.call(e)==ql.call(t)}return!1};var Gl=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Hl=Array.isArray;var Wl=function(e,t,n){var r=t(e);return Hl(e)?r:Gl(r,n(e))};var Ql=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var $l=function(){return[]},Yl=Object.prototype.propertyIsEnumerable,Xl=Object.getOwnPropertySymbols,Jl=Xl?function(e){return null==e?[]:(e=Object(e),Ql(Xl(e),(function(t){return Yl.call(e,t)})))}:$l;var Zl=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var ef=function(e){return null!=e&&"object"==typeof e};var tf=function(e){return ef(e)&&"[object Arguments]"==Wc(e)},nf=Object.prototype,rf=nf.hasOwnProperty,af=nf.propertyIsEnumerable,of=tf(function(){return arguments}())?tf:function(e){return ef(e)&&rf.call(e,"callee")&&!af.call(e,"callee")},uf=of;var sf=function(){return!1},cf="object"==typeof exports&&exports&&!exports.nodeType&&exports,lf=cf&&"object"==typeof module&&module&&!module.nodeType&&module,ff=lf&&lf.exports===cf?Fc.Buffer:void 0,hf=(ff?ff.isBuffer:void 0)||sf,df=/^(?:0|[1-9]\d*)$/;var pf=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&df.test(e))&&e>-1&&e%1==0&&e<t};var vf=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},mf={};mf["[object Float32Array]"]=mf["[object Float64Array]"]=mf["[object Int8Array]"]=mf["[object Int16Array]"]=mf["[object Int32Array]"]=mf["[object Uint8Array]"]=mf["[object Uint8ClampedArray]"]=mf["[object Uint16Array]"]=mf["[object Uint32Array]"]=!0,mf["[object Arguments]"]=mf["[object Array]"]=mf["[object ArrayBuffer]"]=mf["[object Boolean]"]=mf["[object DataView]"]=mf["[object Date]"]=mf["[object Error]"]=mf["[object Function]"]=mf["[object Map]"]=mf["[object Number]"]=mf["[object Object]"]=mf["[object RegExp]"]=mf["[object Set]"]=mf["[object String]"]=mf["[object WeakMap]"]=!1;var yf=function(e){return ef(e)&&vf(e.length)&&!!mf[Wc(e)]};var gf=function(e){return function(t){return e(t)}},kf="object"==typeof exports&&exports&&!exports.nodeType&&exports,bf=kf&&"object"==typeof module&&module&&!module.nodeType&&module,wf=bf&&bf.exports===kf&&Lc.process,_f=function(){try{var e=bf&&bf.require&&bf.require("util").types;return e||wf&&wf.binding&&wf.binding("util")}catch(t){}}(),xf=_f&&_f.isTypedArray,Ef=xf?gf(xf):yf,If=Object.prototype.hasOwnProperty;var Sf=function(e,t){var n=Hl(e),r=!n&&uf(e),i=!n&&!r&&hf(e),a=!n&&!r&&!i&&Ef(e),o=n||r||i||a,u=o?Zl(e.length,String):[],s=u.length;for(var c in e)!t&&!If.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||pf(c,s))||u.push(c);return u},Tf=Object.prototype;var Cf=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Tf)};var Nf=function(e,t){return function(n){return e(t(n))}},Af=Nf(Object.keys,Object),Rf=Object.prototype.hasOwnProperty;var Pf=function(e){if(!Cf(e))return Af(e);var t=[];for(var n in Object(e))Rf.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Of=function(e){return null!=e&&vf(e.length)&&!$c(e)};var Df=function(e){return Of(e)?Sf(e):Pf(e)};var Lf=function(e){return Wl(e,Df,Jl)},Mf=Object.prototype.hasOwnProperty;var Ff=function(e,t,n,r,i,a){var o=1&n,u=Lf(e),s=u.length;if(s!=Lf(t).length&&!o)return!1;for(var c=s;c--;){var l=u[c];if(!(o?l in t:Mf.call(t,l)))return!1}var f=a.get(e),h=a.get(t);if(f&&h)return f==t&&h==e;var d=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<s;){var v=e[l=u[c]],m=t[l];if(r)var y=o?r(m,v,l,t,e,a):r(v,m,l,e,t,a);if(!(void 0===y?v===m||i(v,m,n,r,a):y)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var g=e.constructor,k=t.constructor;g==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof k&&k instanceof k||(d=!1)}return a.delete(e),a.delete(t),d},Uf=cl(Fc,"DataView"),jf=cl(Fc,"Promise"),Vf=cl(Fc,"Set"),Bf=cl(Fc,"WeakMap"),zf="[object Map]",qf="[object Promise]",Kf="[object Set]",Gf="[object WeakMap]",Hf="[object DataView]",Wf=el(Uf),Qf=el(ll),$f=el(jf),Yf=el(Vf),Xf=el(Bf),Jf=Wc;(Uf&&Jf(new Uf(new ArrayBuffer(1)))!=Hf||ll&&Jf(new ll)!=zf||jf&&Jf(jf.resolve())!=qf||Vf&&Jf(new Vf)!=Kf||Bf&&Jf(new Bf)!=Gf)&&(Jf=function(e){var t=Wc(e),n="[object Object]"==t?e.constructor:void 0,r=n?el(n):"";if(r)switch(r){case Wf:return Hf;case Qf:return zf;case $f:return qf;case Yf:return Kf;case Xf:return Gf}return t});var Zf=Jf,eh="[object Arguments]",th="[object Array]",nh="[object Object]",rh=Object.prototype.hasOwnProperty;var ih=function(e,t,n,r,i,a){var o=Hl(e),u=Hl(t),s=o?th:Zf(e),c=u?th:Zf(t),l=(s=s==eh?nh:s)==nh,f=(c=c==eh?nh:c)==nh,h=s==c;if(h&&hf(e)){if(!hf(t))return!1;o=!0,l=!1}if(h&&!l)return a||(a=new Pl),o||Ef(e)?Ul(e,t,n,r,i,a):Kl(e,t,s,n,r,i,a);if(!(1&n)){var d=l&&rh.call(e,"__wrapped__"),p=f&&rh.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return a||(a=new Pl),i(v,m,n,r,a)}}return!!h&&(a||(a=new Pl),Ff(e,t,n,r,i,a))};var ah=function e(t,n,r,i,a){return t===n||(null==t||null==n||!ef(t)&&!ef(n)?t!==t&&n!==n:ih(t,n,r,i,e,a))};var oh=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var u=n[i];if(o&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var s=(u=n[i])[0],c=e[s],l=u[1];if(o&&u[2]){if(void 0===c&&!(s in e))return!1}else{var f=new Pl;if(r)var h=r(c,l,s,e,t,f);if(!(void 0===h?ah(l,c,3,r,f):h))return!1}}return!0};var uh=function(e){return e===e&&!Qc(e)};var sh=function(e){for(var t=Df(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,uh(i)]}return t};var ch=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var lh=function(e){var t=sh(e);return 1==t.length&&t[0][2]?ch(t[0][0],t[0][1]):function(n){return n===e||oh(n,e,t)}};var fh=function(e){return"symbol"==typeof e||ef(e)&&"[object Symbol]"==Wc(e)},hh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dh=/^\w*$/;var ph=function(e,t){if(Hl(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!fh(e))||(dh.test(e)||!hh.test(e)||null!=t&&e in Object(t))};function vh(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(vh.Cache||Nl),n}vh.Cache=Nl;var mh=vh;var yh=function(e){var t=mh(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t},gh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kh=/\\(\\)?/g,bh=yh((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(gh,(function(e,n,r,i){t.push(r?i.replace(kh,"$1"):n||e)})),t}));var wh=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},_h=Uc?Uc.prototype:void 0,xh=_h?_h.toString:void 0;var Eh=function e(t){if("string"==typeof t)return t;if(Hl(t))return wh(t,e)+"";if(fh(t))return xh?xh.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Ih=function(e){return null==e?"":Eh(e)};var Sh=function(e,t){return Hl(e)?e:ph(e,t)?[e]:bh(Ih(e))};var Th=function(e){if("string"==typeof e||fh(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Ch=function(e,t){for(var n=0,r=(t=Sh(t,e)).length;null!=e&&n<r;)e=e[Th(t[n++])];return n&&n==r?e:void 0};var Nh=function(e,t,n){var r=null==e?void 0:Ch(e,t);return void 0===r?n:r};var Ah=function(e,t){return null!=e&&t in Object(e)};var Rh=function(e,t,n){for(var r=-1,i=(t=Sh(t,e)).length,a=!1;++r<i;){var o=Th(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&vf(i)&&pf(o,i)&&(Hl(e)||uf(e))};var Ph=function(e,t){return null!=e&&Rh(e,t,Ah)};var Oh=function(e,t){return ph(e)&&uh(t)?ch(Th(e),t):function(n){var r=Nh(n,e);return void 0===r&&r===t?Ph(n,e):ah(t,r,3)}};var Dh=function(e){return e};var Lh=function(e){return function(t){return null==t?void 0:t[e]}};var Mh=function(e){return function(t){return Ch(t,e)}};var Fh=function(e){return ph(e)?Lh(Th(e)):Mh(e)};var Uh=function(e){return"function"==typeof e?e:null==e?Dh:"object"==typeof e?Hl(e)?Oh(e[0],e[1]):lh(e):Fh(e)};var jh=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}},Vh=jh();var Bh=function(e,t){return function(n,r){if(null==n)return n;if(!Of(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}((function(e,t){return e&&Vh(e,t,Df)}));var zh=function(e,t){var n;return Bh(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};var qh=function(e,t,n){if(!Qc(n))return!1;var r=typeof t;return!!("number"==r?Of(n)&&pf(t,n.length):"string"==r&&t in n)&&_c(n[t],e)};var Kh=function(e,t,n){var r=Hl(e)?bc:zh;return n&&qh(e,t,n)&&(t=void 0),r(e,Uh(t,3))},Gh=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};function Hh(e){var t=e.children,n=e.className,r=e.content,i=e.fluid,a=e.text,o=e.textAlign,u=sc("ui",fc(a,"text"),fc(i,"fluid"),vc(o),"container",n),c=gc(Hh,e),l=kc(Hh,e);return s.createElement(l,Qu({},c,{className:u}),Gh(t)?r:t)}Hh.handledProps=["as","children","className","content","fluid","text","textAlign"],Hh.propTypes={};var Wh=Hh;var Qh=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var $h=function(e){return e!==e};var Yh=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Xh=function(e,t,n){return t===t?Yh(e,t,n):Qh(e,$h,n)};var Jh=function(e,t){return!!(null==e?0:e.length)&&Xh(e,t,0)>-1};var Zh=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var ed=function(){},td=Vf&&1/Bl(new Vf([,-0]))[1]==1/0?function(e){return new Vf(e)}:ed,nd=td;var rd=function(e,t,n){var r=-1,i=Jh,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Zh;else if(a>=200){var c=t?null:nd(e);if(c)return Bl(c);o=!1,i=Fl,s=new Ml}else s=t?[]:u;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u};var id=function(e){return e&&e.length?rd(e):[]},ad=Nf(Object.getPrototypeOf,Object),od=Function.prototype,ud=Object.prototype,sd=od.toString,cd=ud.hasOwnProperty,ld=sd.call(Object);var fd=function(e){if(!ef(e)||"[object Object]"!=Wc(e))return!1;var t=ad(e);if(null===t)return!0;var n=cd.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&sd.call(n)==ld};var hd=function(e){return"number"==typeof e||ef(e)&&"[object Number]"==Wc(e)};var dd=function(e){return"string"==typeof e||!Hl(e)&&ef(e)&&"[object String]"==Wc(e)};var pd=function(e){return!0===e||!1===e||ef(e)&&"[object Boolean]"==Wc(e)};var vd=function(e){return null==e};function md(e,t,n,r){if(void 0===r&&(r={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(vd(n)||pd(n))return null;var i=dd(n),a=hd(n),o=$c(n),u=s.isValidElement(n),c=fd(n),l=i||a||Hl(n);if(!o&&!u&&!c&&!l)return null;var f=r.defaultProps,h=void 0===f?{}:f,d=u&&n.props||c&&n||l&&t(n),p=r.overrideProps,v=void 0===p?{}:p;v=$c(v)?v(Qu({},h,d)):v;var m=Qu({},h,d,v);if(h.className||v.className||d.className){var y=sc(h.className,v.className,d.className);m.className=id(y.split(" ")).join(" ")}if((h.style||v.style||d.style)&&(m.style=Qu({},h.style,d.style,v.style)),vd(m.key)){var g=m.childKey,k=r.autoGenerateKey,b=void 0===k||k;vd(g)?b&&(i||a)&&(m.key=n):(m.key="function"===typeof g?g(m):g,delete m.childKey)}return u?s.cloneElement(n,m):"function"===typeof m.children?m.children(e,Qu({},m,{children:void 0})):l||c?s.createElement(e,m):o?n(e,m,m.children):void 0}function yd(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return md(e,t,n,r)}}var gd=yd("img",(function(e){return{src:e}})),kd=yd("input",(function(e){return{type:e}})),bd=yd("label",(function(e){return{children:e}})),wd=yd("p",(function(e){return{children:e}}));function _d(e){var t=e.children,n=e.className,r=e.computer,i=e.color,a=e.floated,o=e.largeScreen,u=e.mobile,c=e.only,l=e.stretched,f=e.tablet,h=e.textAlign,d=e.verticalAlign,p=e.widescreen,v=e.width,m=sc(i,fc(l,"stretched"),pc(c,"only"),vc(h),hc(a,"floated"),mc(d),yc(r,"wide computer"),yc(o,"wide large screen"),yc(u,"wide mobile"),yc(f,"wide tablet"),yc(p,"wide widescreen"),yc(v,"wide"),"column",n),y=gc(_d,e),g=kc(_d,e);return s.createElement(g,Qu({},y,{className:m}),t)}_d.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],_d.propTypes={},_d.create=yd(_d,(function(e){return{children:e}}));var xd=_d;function Ed(e){var t=e.centered,n=e.children,r=e.className,i=e.color,a=e.columns,o=e.divided,u=e.only,c=e.reversed,l=e.stretched,f=e.textAlign,h=e.verticalAlign,d=sc(i,fc(t,"centered"),fc(o,"divided"),fc(l,"stretched"),pc(u,"only"),pc(c,"reversed"),vc(f),mc(h),yc(a,"column",!0),"row",r),p=gc(Ed,e),v=kc(Ed,e);return s.createElement(v,Qu({},p,{className:d}),n)}Ed.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],Ed.propTypes={};var Id=Ed;function Sd(e){var t=e.celled,n=e.centered,r=e.children,i=e.className,a=e.columns,o=e.container,u=e.divided,c=e.doubling,l=e.inverted,f=e.padded,h=e.relaxed,d=e.reversed,p=e.stackable,v=e.stretched,m=e.textAlign,y=e.verticalAlign,g=sc("ui",fc(n,"centered"),fc(o,"container"),fc(c,"doubling"),fc(l,"inverted"),fc(p,"stackable"),fc(v,"stretched"),dc(t,"celled"),dc(u,"divided"),dc(f,"padded"),dc(h,"relaxed"),pc(d,"reversed"),vc(m),mc(y),yc(a,"column",!0),"grid",i),k=gc(Sd,e),b=kc(Sd,e);return s.createElement(b,Qu({},k,{className:g}),r)}Sd.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],Sd.Column=xd,Sd.Row=Id,Sd.propTypes={};var Td=Sd;var Cd=function(e,t){var n=-1,r=Of(e)?Array(e.length):[];return Bh(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var Nd=function(e,t){return(Hl(e)?wh:Cd)(e,Uh(t,3))};var Ad=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var Rd=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Pd=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var Od=function(e,t){return t.length<2?e:Ch(e,Pd(t,0,-1))};var Dd=function(e,t,n){t=Sh(t,e);var r=null==(e=Od(e,t))?e:e[Th(Rd(t))];return null==r?void 0:Ad(r,e,n)},Ld=Math.max;var Md=function(e,t,n){return t=Ld(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Ld(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(o),Ad(e,this,u)}};var Fd=function(e){return function(){return e}},Ud=function(){try{var e=cl(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),jd=Ud?function(e,t){return Ud(e,"toString",{configurable:!0,enumerable:!1,value:Fd(t),writable:!0})}:Dh,Vd=Date.now;var Bd=function(e){var t=0,n=0;return function(){var r=Vd(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},zd=Bd(jd);var qd=function(e,t){return zd(Md(e,t,Dh),e+"")},Kd=qd(Dd);var Gd=function(e){return void 0===e},Hd=function(e,t,n,r){void 0===r&&(r=!1);var i,a=t[e];if(void 0!==a)return a;if(r){var o=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==o)return o;if(n){var u=n[e];if(void 0!==u)return u}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)},Wd=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(t=e.call.apply(e,[this].concat(r))||this).constructor,o=a.autoControlledProps,u=a.getAutoControlledStateFromProps,s=Kd(m(t),"getInitialAutoControlledState",t.props)||{},c=o.reduce((function(e,n){return e[n]=Hd(n,t.props,s,!0),e}),{});return t.state=Qu({},s,c,{autoControlledProps:o,getAutoControlledStateFromProps:u}),t}return Gu(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!Gd(e[n])&&(t[n]=e[n]),t}),{});if(r){var a=r(e,Qu({},t,i),t);return Qu({},i,a)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(s.Component);function Qd(e){var t=e.children,n=e.className,r=e.content,i=sc("header",n),a=gc(Qd,e),o=kc(Qd,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}Qd.handledProps=["as","children","className","content"],Qd.propTypes={};var $d=Qd;var Yd=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n};var Xd=function(e){return function(t){return null==e?void 0:e[t]}},Jd=Xd({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Zd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ep=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var tp=function(e){return(e=Ih(e))&&e.replace(Zd,Jd).replace(ep,"")},np=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var rp=function(e){return e.match(np)||[]},ip=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var ap=function(e){return ip.test(e)},op="\\ud800-\\udfff",up="\\u2700-\\u27bf",sp="a-z\\xdf-\\xf6\\xf8-\\xff",cp="A-Z\\xc0-\\xd6\\xd8-\\xde",lp="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fp="["+lp+"]",hp="\\d+",dp="["+up+"]",pp="["+sp+"]",vp="[^"+op+lp+hp+up+sp+cp+"]",mp="(?:\\ud83c[\\udde6-\\uddff]){2}",yp="[\\ud800-\\udbff][\\udc00-\\udfff]",gp="["+cp+"]",kp="(?:"+pp+"|"+vp+")",bp="(?:"+gp+"|"+vp+")",wp="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",_p="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",xp="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Ep="[\\ufe0e\\ufe0f]?",Ip=Ep+xp+("(?:\\u200d(?:"+["[^"+op+"]",mp,yp].join("|")+")"+Ep+xp+")*"),Sp="(?:"+[dp,mp,yp].join("|")+")"+Ip,Tp=RegExp([gp+"?"+pp+"+"+wp+"(?="+[fp,gp,"$"].join("|")+")",bp+"+"+_p+"(?="+[fp,gp+kp,"$"].join("|")+")",gp+"?"+kp+"+"+wp,gp+"+"+_p,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hp,Sp].join("|"),"g");var Cp=function(e){return e.match(Tp)||[]};var Np=function(e,t,n){return e=Ih(e),void 0===(t=n?void 0:t)?ap(e)?Cp(e):rp(e):e.match(t)||[]},Ap=RegExp("['\u2019]","g");var Rp=function(e){return function(t){return Yd(Np(tp(t).replace(Ap,"")),e,"")}};var Pp=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Pd(e,t,n)},Op=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Dp=function(e){return Op.test(e)};var Lp=function(e){return e.split("")},Mp="\\ud800-\\udfff",Fp="["+Mp+"]",Up="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",jp="\\ud83c[\\udffb-\\udfff]",Vp="[^"+Mp+"]",Bp="(?:\\ud83c[\\udde6-\\uddff]){2}",zp="[\\ud800-\\udbff][\\udc00-\\udfff]",qp="(?:"+Up+"|"+jp+")"+"?",Kp="[\\ufe0e\\ufe0f]?",Gp=Kp+qp+("(?:\\u200d(?:"+[Vp,Bp,zp].join("|")+")"+Kp+qp+")*"),Hp="(?:"+[Vp+Up+"?",Up,Bp,zp,Fp].join("|")+")",Wp=RegExp(jp+"(?="+jp+")|"+Hp+Gp,"g");var Qp=function(e){return e.match(Wp)||[]};var $p=function(e){return Dp(e)?Qp(e):Lp(e)};var Yp=function(e){return function(t){t=Ih(t);var n=Dp(t)?$p(t):void 0,r=n?n[0]:t.charAt(0),i=n?Pp(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase"),Xp=Rp((function(e,t,n){return e+(n?" ":"")+Yp(t)}));function Jp(e){var t=e.children,n=e.className,r=e.content,i=e.size,a=sc(i,"icons",n),o=gc(Jp,e),u=kc(Jp,e);return s.createElement(u,Qu({},o,{className:a}),Gh(t)?r:t)}Jp.handledProps=["as","children","className","content","size"],Jp.propTypes={},Jp.defaultProps={as:"i"};var Zp=Jp,ev=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():Kd(t.props,"onClick",e,t.props)},t}Gu(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return vd(n)?e["aria-hidden"]="true":e["aria-label"]=n,vd(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,r=e.circular,i=e.className,a=e.color,o=e.corner,u=e.disabled,c=e.fitted,l=e.flipped,f=e.inverted,h=e.link,d=e.loading,p=e.name,v=e.rotated,m=e.size,y=sc(a,p,m,fc(n,"bordered"),fc(r,"circular"),fc(u,"disabled"),fc(c,"fitted"),fc(f,"inverted"),fc(h,"link"),fc(d,"loading"),dc(o,"corner"),hc(l,"flipped"),hc(v,"rotated"),"icon",i),g=gc(t,this.props),k=kc(t,this.props),b=this.getIconAriaOptions();return s.createElement(k,Qu({},g,b,{className:y,onClick:this.handleClick}))},t}(s.PureComponent);ev.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],ev.propTypes={},ev.defaultProps={as:"i"},ev.Group=Zp,ev.create=yd(ev,(function(e){return{name:e}}));var tv=ev,nv=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||Kd(t.props,"onClick",e,t.props)},t}return Gu(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.color,o=e.content,u=e.disabled,c=e.fitted,l=e.header,f=e.icon,h=e.link,d=e.name,p=e.onClick,v=e.position,m=sc(a,v,fc(n,"active"),fc(u,"disabled"),fc(!0===f||f&&!(d||o),"icon"),fc(l,"header"),fc(h,"link"),dc(c,"fitted"),"item",i),y=kc(t,this.props,(function(){if(p)return"a"})),g=gc(t,this.props);return Gh(r)?s.createElement(y,Qu({},g,{className:m,onClick:this.handleClick}),tv.create(f,{autoGenerateKey:!1}),Gh(o)?Xp(d):o):s.createElement(y,Qu({},g,{className:m,onClick:this.handleClick}),r)},t}(s.Component);function rv(e){var t=e.children,n=e.className,r=e.content,i=e.position,a=sc(i,"menu",n),o=gc(rv,e),u=kc(rv,e);return s.createElement(u,Qu({},o,{className:a}),Gh(t)?r:t)}nv.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],nv.propTypes={},nv.create=yd(nv,(function(e){return{content:e,name:e}})),rv.handledProps=["as","children","className","content","position"],rv.propTypes={};var iv=rv,av=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),Kd(e,"onClick",n,r),Kd(t.props,"onItemClick",n,r)}}},t}Gu(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return Nd(t,(function(t,r){return nv.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},n.render=function(){var e=this.props,n=e.attached,r=e.borderless,i=e.children,a=e.className,o=e.color,u=e.compact,c=e.fixed,l=e.floated,f=e.fluid,h=e.icon,d=e.inverted,p=e.pagination,v=e.pointing,m=e.secondary,y=e.size,g=e.stackable,k=e.tabular,b=e.text,w=e.vertical,_=e.widths,x=sc("ui",o,y,fc(r,"borderless"),fc(u,"compact"),fc(f,"fluid"),fc(d,"inverted"),fc(p,"pagination"),fc(v,"pointing"),fc(m,"secondary"),fc(g,"stackable"),fc(b,"text"),fc(w,"vertical"),dc(n,"attached"),dc(l,"floated"),dc(h,"icon"),dc(k,"tabular"),hc(c,"fixed"),yc(_,"item"),a,"menu"),E=gc(t,this.props),I=kc(t,this.props);return s.createElement(I,Qu({},E,{className:x}),Gh(i)?this.renderItems():i)},t}(Wd);av.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],av.propTypes={},av.autoControlledProps=["activeIndex"],av.Header=$d,av.Item=nv,av.Menu=iv,av.create=yd(av,(function(e){return{items:e}}));var ov=av,uv=Object.prototype.hasOwnProperty;var sv=function(e){if(null==e)return!0;if(Of(e)&&(Hl(e)||"string"==typeof e||"function"==typeof e.splice||hf(e)||Ef(e)||uf(e)))return!e.length;var t=Zf(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Cf(e))return!Pf(e).length;for(var n in e)if(uv.call(e,n))return!1;return!0},cv=Bf&&new Bf,lv=cv?function(e,t){return cv.set(e,t),e}:Dh,fv=Object.create,hv=function(){function e(){}return function(t){if(!Qc(t))return{};if(fv)return fv(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var dv=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=hv(e.prototype),r=e.apply(n,t);return Qc(r)?r:n}};var pv=function(e,t,n){var r=1&t,i=dv(e);return function t(){var a=this&&this!==Fc&&this instanceof t?i:e;return a.apply(r?n:this,arguments)}},vv=Math.max;var mv=function(e,t,n,r){for(var i=-1,a=e.length,o=n.length,u=-1,s=t.length,c=vv(a-o,0),l=Array(s+c),f=!r;++u<s;)l[u]=t[u];for(;++i<o;)(f||i<a)&&(l[n[i]]=e[i]);for(;c--;)l[u++]=e[i++];return l},yv=Math.max;var gv=function(e,t,n,r){for(var i=-1,a=e.length,o=-1,u=n.length,s=-1,c=t.length,l=yv(a-u,0),f=Array(l+c),h=!r;++i<l;)f[i]=e[i];for(var d=i;++s<c;)f[d+s]=t[s];for(;++o<u;)(h||i<a)&&(f[d+n[o]]=e[i++]);return f};var kv=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var bv=function(){};function wv(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}wv.prototype=hv(bv.prototype),wv.prototype.constructor=wv;var _v=wv,xv=cv?function(e){return cv.get(e)}:ed,Ev={},Iv=Object.prototype.hasOwnProperty;var Sv=function(e){for(var t=e.name+"",n=Ev[t],r=Iv.call(Ev,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t};function Tv(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Tv.prototype=hv(bv.prototype),Tv.prototype.constructor=Tv;var Cv=Tv;var Nv=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Av=function(e){if(e instanceof _v)return e.clone();var t=new Cv(e.__wrapped__,e.__chain__);return t.__actions__=Nv(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},Rv=Object.prototype.hasOwnProperty;function Pv(e){if(ef(e)&&!Hl(e)&&!(e instanceof _v)){if(e instanceof Cv)return e;if(Rv.call(e,"__wrapped__"))return Av(e)}return new Cv(e)}Pv.prototype=bv.prototype,Pv.prototype.constructor=Pv;var Ov=Pv;var Dv=function(e){var t=Sv(e),n=Ov[t];if("function"!=typeof n||!(t in _v.prototype))return!1;if(e===n)return!0;var r=xv(n);return!!r&&e===r[0]},Lv=Bd(lv),Mv=/\{\n\/\* \[wrapped with (.+)\] \*/,Fv=/,? & /;var Uv=function(e){var t=e.match(Mv);return t?t[1].split(Fv):[]},jv=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Vv=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(jv,"{\n/* [wrapped with "+t+"] */\n")};var Bv=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},zv=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var qv=function(e,t){return Bv(zv,(function(n){var r="_."+n[0];t&n[1]&&!Jh(e,r)&&e.push(r)})),e.sort()};var Kv=function(e,t,n){var r=t+"";return zd(e,Vv(r,qv(Uv(r),n)))};var Gv=function(e,t,n,r,i,a,o,u,s,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,i,l?a:void 0,l?o:void 0,l?void 0:a,l?void 0:o,u,s,c],h=n.apply(void 0,f);return Dv(e)&&Lv(h,f),h.placeholder=r,Kv(h,e,t)};var Hv=function(e){return e.placeholder},Wv=Math.min;var Qv=function(e,t){for(var n=e.length,r=Wv(t.length,n),i=Nv(e);r--;){var a=t[r];e[r]=pf(a,n)?i[a]:void 0}return e},$v="__lodash_placeholder__";var Yv=function(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==$v||(e[n]=$v,a[i++]=n)}return a};var Xv=function e(t,n,r,i,a,o,u,s,c,l){var f=128&n,h=1&n,d=2&n,p=24&n,v=512&n,m=d?void 0:dv(t);return function y(){for(var g=arguments.length,k=Array(g),b=g;b--;)k[b]=arguments[b];if(p)var w=Hv(y),_=kv(k,w);if(i&&(k=mv(k,i,a,p)),o&&(k=gv(k,o,u,p)),g-=_,p&&g<l){var x=Yv(k,w);return Gv(t,n,e,y.placeholder,r,k,x,s,c,l-g)}var E=h?r:this,I=d?E[t]:t;return g=k.length,s?k=Qv(k,s):v&&g>1&&k.reverse(),f&&c<g&&(k.length=c),this&&this!==Fc&&this instanceof y&&(I=m||dv(I)),I.apply(E,k)}};var Jv=function(e,t,n){var r=dv(e);return function i(){for(var a=arguments.length,o=Array(a),u=a,s=Hv(i);u--;)o[u]=arguments[u];var c=a<3&&o[0]!==s&&o[a-1]!==s?[]:Yv(o,s);if((a-=c.length)<n)return Gv(e,t,Xv,i.placeholder,void 0,o,c,void 0,void 0,n-a);var l=this&&this!==Fc&&this instanceof i?r:e;return Ad(l,this,o)}};var Zv=function(e,t,n,r){var i=1&t,a=dv(e);return function t(){for(var o=-1,u=arguments.length,s=-1,c=r.length,l=Array(c+u),f=this&&this!==Fc&&this instanceof t?a:e;++s<c;)l[s]=r[s];for(;u--;)l[s++]=arguments[++o];return Ad(f,i?n:this,l)}},em="__lodash_placeholder__",tm=128,nm=Math.min;var rm=function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==tm&&8==n||r==tm&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var s=e[3];e[3]=s?mv(s,u,t[4]):u,e[4]=s?Yv(e[3],em):t[4]}return(u=t[5])&&(s=e[5],e[5]=s?gv(s,u,t[6]):u,e[6]=s?Yv(e[5],em):t[6]),(u=t[7])&&(e[7]=u),r&tm&&(e[8]=null==e[8]?t[8]:nm(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},im=/\s/;var am=function(e){for(var t=e.length;t--&&im.test(e.charAt(t)););return t},om=/^\s+/;var um=function(e){return e?e.slice(0,am(e)+1).replace(om,""):e},sm=/^[-+]0x[0-9a-f]+$/i,cm=/^0b[01]+$/i,lm=/^0o[0-7]+$/i,fm=parseInt;var hm=function(e){if("number"==typeof e)return e;if(fh(e))return NaN;if(Qc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=um(e);var n=cm.test(e);return n||lm.test(e)?fm(e.slice(2),n?2:8):sm.test(e)?NaN:+e},dm=1/0;var pm=function(e){return e?(e=hm(e))===dm||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var vm=function(e){var t=pm(e),n=t%1;return t===t?n?t-n:t:0},mm=Math.max;var ym=function(e,t,n,r,i,a,o,u){var s=2&t;if(!s&&"function"!=typeof e)throw new TypeError("Expected a function");var c=r?r.length:0;if(c||(t&=-97,r=i=void 0),o=void 0===o?o:mm(vm(o),0),u=void 0===u?u:vm(u),c-=i?i.length:0,64&t){var l=r,f=i;r=i=void 0}var h=s?void 0:xv(e),d=[e,t,n,r,i,l,f,a,o,u];if(h&&rm(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],!(u=d[9]=void 0===d[9]?s?0:e.length:mm(d[9]-c,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?Jv(e,t,u):32!=t&&33!=t||i.length?Xv.apply(void 0,d):Zv(e,t,n,r);else var p=pv(e,t,n);return Kv((h?lv:Lv)(p,d),e,t)},gm=qd((function(e,t){var n=Yv(t,Hv(gm));return ym(e,64,void 0,t,n)}));gm.placeholder={};var km=gm,bm=Math.max,wm=Math.min;var _m=function(e,t,n){return e>=wm(t,n)&&e<bm(t,n)};var xm=function(e,t,n){return t=pm(t),void 0===n?(n=t,t=0):n=pm(n),e=hm(e),_m(e,t,n)};var Em=function(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n};var Im=function(e,t,n){var r=Hl(e)?Yd:Em,i=arguments.length<3;return r(e,Uh(t,4),n,i,Bh)},Sm=n(854),Tm=n.n(Sm),Cm=n(613),Nm=n.n(Cm),Am=n(775),Rm=n.n(Am),Pm=Am.instance,Om="object"===typeof document&&null!==document,Dm="object"===typeof window&&null!==window&&window.self===window,Lm=function e(){return vd(e.override)?Om&&Dm:e.override};var Mm=function(e,t){return wh(t,(function(t){return e[t]}))};var Fm=function(e){return null==e?[]:Mm(e,Df(e))},Um=Math.max;var jm=function(e,t,n,r){e=Of(e)?e:Fm(e),n=n&&!r?vm(n):0;var i=e.length;return n<0&&(n=Um(i+n,0)),dd(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Xh(e,t,n)>-1};var Vm=function(e){return"function"==typeof e?e:Dh};var Bm=function(e,t){return(Hl(e)?Bv:Bh)(e,Vm(t))},zm=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],qm=[].concat(zm,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),Km=["alt","height","src","srcSet","width","loading"],Gm=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?qm:r,a=n.includeAria,o=void 0===a||a,u={},s={};return Bm(e,(function(e,t){var n=o&&(/^aria-.*$/.test(t)||"role"===t);(jm(i,t)||n?u:s)[t]=e})),[u,s]},Hm=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)},Wm=function(e){return null!==e&&"object"===typeof e&&e.hasOwnProperty("current")},Qm=n(33),$m=n(164);var Ym=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}Gu(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=$m.findDOMNode(this);this.prevNode=e,Hm(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=$m.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,Hm(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&Hm(this.props.innerRef,t)},n.componentWillUnmount=function(){Hm(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(s.Component),Xm=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;Hm(r.ref,e),Hm(i,e),t.currentNode=e},t}Gu(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&Hm(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return s.cloneElement(e,{ref:this.handleRefOverride})},t}(s.Component),Jm=["children","innerRef"],Zm=function(e){var t=e.children,n=e.innerRef,r=Is(e,Jm),i=s.Children.only(t),a=Qm.isForwardRef(i)?Xm:Ym,o=i&&r&&Object.keys(r).length>0?s.cloneElement(i,r):i;return s.createElement(a,{innerRef:n},o)};var ey=function(e){return e&&e.length?e[0]:void 0},ty=function(e,t){if(Kh([t,e],vd))return!1;if(t.target&&(Kd(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return Kd(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(Kh([n,r],vd))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var a=ey(i),o=a.top,u=a.bottom,s=a.left,c=a.right;return!Kh([o,u,s,c],vd)&&(xm(r,o,u+.001)&&xm(n,s,c+.001))},ny=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){Hm(t.props.innerRef,e)},t}Gu(t,e);var n=t.prototype;return n.componentDidMount=function(){Kd(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){Kd(this.props,"onUnmount",null,this.props)},n.render=function(){if(!Lm())return null;var e=this.props,t=e.children,n=e.mountNode,r=void 0===n?document.body:n;return(0,$m.createPortal)(s.createElement(Zm,{innerRef:this.handleRef},t),r)},t}(s.Component);ny.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],ny.propTypes={};var ry=ny,iy=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).contentRef=s.createRef(),t.triggerRef=s.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||ty(t.triggerRef.current,e)||r&&ty(t.contentRef.current,r)||ty(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&Tm().getCode(e)===Tm().Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,i=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerBlur,a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];Kd.apply(void 0,[r,"props.onBlur",e].concat(o));var s=e.relatedTarget||document.activeElement,c=Kd(t.contentRef.current,"contains",s);i&&!c&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerClick,a=n.openOnTriggerClick,o=t.state.open,u=arguments.length,s=new Array(u>1?u-1:0),c=1;c<u;c++)s[c-1]=arguments[c];Kd.apply(void 0,[r,"props.onClick",e].concat(s)),o&&i?t.close(e):!o&&a&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,i=n.openOnTriggerFocus,a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];Kd.apply(void 0,[r,"props.onFocus",e].concat(o)),i&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,i=n.closeOnTriggerMouseLeave,a=n.mouseLeaveDelay,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];Kd.apply(void 0,[r,"props.onMouseLeave",e].concat(u)),i&&(t.mouseLeaveTimer=t.closeWithTimeout(e,a))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,i=n.mouseEnterDelay,a=n.openOnTriggerMouseEnter,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];Kd.apply(void 0,[r,"props.onMouseEnter",e].concat(u)),a&&(t.mouseEnterTimer=t.openWithTimeout(e,i))},t.open=function(e){Kd(t.props,"onOpen",e,Qu({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var r=Qu({},e);return setTimeout((function(){return t.open(r)}),n||0)},t.close=function(e){t.setState({open:!1}),Kd(t.props,"onClose",e,Qu({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var r=Qu({},e);return setTimeout((function(){return t.close(r)}),n||0)},t.handleMount=function(){Kd(t.props,"onMount",null,t.props)},t.handleUnmount=function(){Kd(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,Hm(t.props.triggerRef,e)},t}Gu(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,r=e.mountNode,i=e.trigger,a=this.state.open;return s.createElement(s.Fragment,null,a&&s.createElement(s.Fragment,null,s.createElement(ry,{innerRef:this.contentRef,mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},t),s.createElement(Rm(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),s.createElement(Rm(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),s.createElement(Rm(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),s.createElement(Rm(),{name:"click",on:this.handleDocumentClick,pool:n}),s.createElement(Rm(),{name:"keydown",on:this.handleEscape,pool:n})),i&&s.createElement(Zm,{innerRef:this.handleTriggerRef},s.cloneElement(i,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(Wd);iy.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],iy.propTypes={},iy.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},iy.autoControlledProps=["open"],iy.Inner=ry;var ay=iy;function oy(e){var t=e.blurring,n=e.className,r=e.children,i=e.content,a=e.dimmed,o=sc(fc(t,"blurring"),fc(a,"dimmed"),"dimmable",n),u=gc(oy,e),c=kc(oy,e);return s.createElement(c,Qu({},u,{className:o}),Gh(r)?i:r)}oy.handledProps=["as","blurring","children","className","content","dimmed"],oy.propTypes={};var uy=oy,sy=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).containerRef=(0,s.createRef)(),t.contentRef=(0,s.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;Kd(t.props,"onClick",e,t.props),n&&n!==e.target&&ty(n,e)||Kd(t.props,"onClickOutside",e,t.props)},t}Gu(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.disabled,u=e.inverted,c=e.page,l=e.simple,f=e.verticalAlign,h=sc("ui",fc(n,"active transition visible"),fc(o,"disabled"),fc(u,"inverted"),fc(c,"page"),fc(l,"simple"),mc(f),"dimmer",i),d=gc(t,this.props),p=kc(t,this.props),v=Gh(r)?a:r;return s.createElement(Zm,{innerRef:this.containerRef},s.createElement(p,Qu({},d,{className:h,onClick:this.handleClick}),v&&s.createElement("div",{className:"content",ref:this.contentRef},v)))},t}(s.Component);sy.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],sy.propTypes={};var cy=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){Lm()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){Lm()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return Gu(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.page,i=gc(t,this.props);return r?s.createElement(ay,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},s.createElement(sy,Qu({},i,{active:n,page:r}))):s.createElement(sy,Qu({},i,{active:n,page:r}))},t}(s.Component);function ly(e){var t=e.children,n=e.className,r=e.content,i=e.size,a=sc("ui",i,n,"images"),o=gc(ly,e),u=kc(ly,e);return s.createElement(u,Qu({},o,{className:a}),Gh(t)?r:t)}cy.handledProps=["active","page"],cy.propTypes={},cy.Dimmable=uy,cy.Inner=sy,cy.create=yd(cy,(function(e){return{content:e}})),ly.handledProps=["as","children","className","content","size"],ly.propTypes={};var fy=ly;function hy(e){var t=e.avatar,n=e.bordered,r=e.centered,i=e.children,a=e.circular,o=e.className,u=e.content,c=e.dimmer,l=e.disabled,f=e.floated,h=e.fluid,d=e.hidden,p=e.href,v=e.inline,m=e.label,y=e.rounded,g=e.size,k=e.spaced,b=e.verticalAlign,w=e.wrapped,_=e.ui,x=sc(fc(_,"ui"),g,fc(t,"avatar"),fc(n,"bordered"),fc(a,"circular"),fc(r,"centered"),fc(l,"disabled"),fc(h,"fluid"),fc(d,"hidden"),fc(v,"inline"),fc(y,"rounded"),dc(k,"spaced"),hc(f,"floated"),mc(b),"image",o),E=gc(hy,e),I=Gm(E,{htmlProps:Km}),S=I[0],T=I[1],C=kc(hy,e,(function(){if(!vd(c)||!vd(m)||!vd(w)||!Gh(i))return"div"}));return Gh(i)?Gh(u)?"img"===C?s.createElement(C,Qu({},T,S,{className:x})):s.createElement(C,Qu({},T,{className:x,href:p}),cy.create(c,{autoGenerateKey:!1}),gy.create(m,{autoGenerateKey:!1}),s.createElement("img",S)):s.createElement(C,Qu({},E,{className:x}),u):s.createElement(C,Qu({},E,{className:x}),i)}hy.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],hy.Group=fy,hy.propTypes={},hy.defaultProps={as:"img",ui:!0},hy.create=yd(hy,(function(e){return{src:e}}));var dy=hy;function py(e){var t=e.children,n=e.className,r=e.content,i=sc("detail",n),a=gc(py,e),o=kc(py,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}py.handledProps=["as","children","className","content"],py.propTypes={},py.create=yd(py,(function(e){return{content:e}}));var vy=py;function my(e){var t=e.children,n=e.circular,r=e.className,i=e.color,a=e.content,o=e.size,u=e.tag,c=sc("ui",i,o,fc(n,"circular"),fc(u,"tag"),"labels",r),l=gc(my,e),f=kc(my,e);return s.createElement(f,Qu({},l,{className:c}),Gh(t)?a:t)}my.handledProps=["as","children","circular","className","color","content","size","tag"],my.propTypes={};var yy=my,gy=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){Kd(e,"onClick",n),Kd(t.props,"onRemove",n,t.props)}}},t}return Gu(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.attached,i=e.basic,a=e.children,o=e.circular,u=e.className,c=e.color,l=e.content,f=e.corner,h=e.detail,d=e.empty,p=e.floating,v=e.horizontal,m=e.icon,y=e.image,g=e.onRemove,k=e.pointing,b=e.prompt,w=e.removeIcon,_=e.ribbon,x=e.size,E=e.tag,I=sc("ui",c,(!0===k?"pointing":("left"===k||"right"===k)&&k+" pointing")||("above"===k||"below"===k)&&"pointing "+k,x,fc(n,"active"),fc(i,"basic"),fc(o,"circular"),fc(d,"empty"),fc(p,"floating"),fc(v,"horizontal"),fc(!0===y,"image"),fc(b,"prompt"),fc(E,"tag"),dc(f,"corner"),dc(_,"ribbon"),hc(r,"attached"),"label",u),S=gc(t,this.props),T=kc(t,this.props);if(!Gh(a))return s.createElement(T,Qu({},S,{className:I,onClick:this.handleClick}),a);var C=Gd(w)?"delete":w;return s.createElement(T,Qu({className:I,onClick:this.handleClick},S),tv.create(m,{autoGenerateKey:!1}),"boolean"!==typeof y&&dy.create(y,{autoGenerateKey:!1}),l,vy.create(h,{autoGenerateKey:!1}),g&&tv.create(C,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(s.Component);function ky(e){var t=e.children,n=e.className,r=e.content,i=e.hidden,a=e.visible,o=sc(fc(a,"visible"),fc(i,"hidden"),"content",n),u=gc(ky,e),c=kc(ky,e);return s.createElement(c,Qu({},u,{className:o}),Gh(t)?r:t)}gy.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],gy.propTypes={},gy.Detail=vy,gy.Group=yy,gy.create=yd(gy,(function(e){return{content:e}})),ky.handledProps=["as","children","className","content","hidden","visible"],ky.propTypes={};var by=ky;function wy(e){var t=e.attached,n=e.basic,r=e.buttons,i=e.children,a=e.className,o=e.color,u=e.compact,c=e.content,l=e.floated,f=e.fluid,h=e.icon,d=e.inverted,p=e.labeled,v=e.negative,m=e.positive,y=e.primary,g=e.secondary,k=e.size,b=e.toggle,w=e.vertical,_=e.widths,x=sc("ui",o,k,fc(n,"basic"),fc(u,"compact"),fc(f,"fluid"),fc(h,"icon"),fc(d,"inverted"),fc(p,"labeled"),fc(v,"negative"),fc(m,"positive"),fc(y,"primary"),fc(g,"secondary"),fc(b,"toggle"),fc(w,"vertical"),dc(t,"attached"),hc(l,"floated"),yc(_),"buttons",a),E=gc(wy,e),I=kc(wy,e);return vd(r)?s.createElement(I,Qu({},E,{className:x}),Gh(i)?c:i):s.createElement(I,Qu({},E,{className:x}),Nd(r,(function(e){return Sy.create(e)})))}wy.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],wy.propTypes={};var _y=wy;function xy(e){var t=e.className,n=e.text,r=sc("or",t),i=gc(xy,e),a=kc(xy,e);return s.createElement(a,Qu({},i,{className:r,"data-text":n}))}xy.handledProps=["as","className","text"],xy.propTypes={};var Ey=xy,Iy=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,s.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!vd(n)||!vd(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,i=n.tabIndex;return vd(i)?r?-1:"div"===e?0:void 0:i},t.focus=function(e){return Kd(t.ref.current,"focus",e)},t.handleClick=function(e){t.props.disabled?e.preventDefault():Kd(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,i=e.content,a=e.icon;return!0===a||a&&(n||Gh(r)&&vd(i))},t}Gu(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return vd(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,r=e.animated,i=e.attached,a=e.basic,o=e.children,u=e.circular,c=e.className,l=e.color,f=e.compact,h=e.content,d=e.disabled,p=e.floated,v=e.fluid,m=e.icon,y=e.inverted,g=e.label,k=e.labelPosition,b=e.loading,w=e.negative,_=e.positive,x=e.primary,E=e.secondary,I=e.size,S=e.toggle,T=e.type,C=sc(l,I,fc(n,"active"),fc(a,"basic"),fc(u,"circular"),fc(f,"compact"),fc(v,"fluid"),fc(this.hasIconClass(),"icon"),fc(y,"inverted"),fc(b,"loading"),fc(w,"negative"),fc(_,"positive"),fc(x,"primary"),fc(E,"secondary"),fc(S,"toggle"),dc(r,"animated"),dc(i,"attached")),N=sc(dc(k||!!g,"labeled")),A=sc(fc(d,"disabled"),hc(p,"floated")),R=gc(t,this.props),P=kc(t,this.props,this.computeElementType),O=this.computeTabIndex(P);if(!vd(g)){var D=sc("ui",C,"button",c),L=sc("ui",N,"button",c,A),M=gy.create(g,{defaultProps:{basic:!0,pointing:"left"===k?"right":"left"},autoGenerateKey:!1});return s.createElement(P,Qu({},R,{className:L,onClick:this.handleClick}),"left"===k&&M,s.createElement(Zm,{innerRef:this.ref},s.createElement("button",{className:D,"aria-pressed":S?!!n:void 0,disabled:d,type:T,tabIndex:O},tv.create(m,{autoGenerateKey:!1})," ",h)),("right"===k||!k)&&M)}var F=sc("ui",C,A,N,"button",c),U=!Gh(o),j=this.computeButtonAriaRole(P);return s.createElement(Zm,{innerRef:this.ref},s.createElement(P,Qu({},R,{className:F,"aria-pressed":S?!!n:void 0,disabled:d&&"button"===P||void 0,onClick:this.handleClick,role:j,type:T,tabIndex:O}),U&&o,!U&&tv.create(m,{autoGenerateKey:!1}),!U&&h))},t}(s.Component);Iy.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],Iy.propTypes={},Iy.defaultProps={as:"button"},Iy.Content=by,Iy.Group=_y,Iy.Or=Ey,Iy.create=yd(Iy,(function(e){return{content:e}}));var Sy=Iy,Ty=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).inputRef=(0,s.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return vd(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return vd(r)?t?-1:void 0:r},n.focus=function(e){return n.inputRef.current.focus(e)},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=Nh(e,"target.value");Kd(n.props,"onChange",e,Qu({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return Qu({},t,e.props,{ref:function(t){Hm(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,r=e.disabled,i=e.type,a=n.computeTabIndex(),o=gc(t,n.props),u=Gm(o),s=u[0],c=u[1];return[Qu({},s,{disabled:r,type:i,tabIndex:a,onChange:n.handleChange,ref:n.inputRef}),c]},n}return Gu(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.action,i=n.actionPosition,a=n.children,o=n.className,u=n.disabled,c=n.error,l=n.fluid,f=n.focus,h=n.icon,d=n.iconPosition,p=n.input,v=n.inverted,m=n.label,y=n.labelPosition,g=n.loading,k=n.size,b=n.transparent,w=n.type,_=sc("ui",k,fc(u,"disabled"),fc(c,"error"),fc(l,"fluid"),fc(f,"focus"),fc(v,"inverted"),fc(g,"loading"),fc(b,"transparent"),hc(i,"action")||fc(r,"action"),hc(d,"icon")||fc(h||g,"icon"),hc(y,"labeled")||fc(m,"labeled"),"input",o),x=kc(t,this.props),E=this.partitionProps(),I=E[0],S=E[1];if(!Gh(a)){var T=Nd(s.Children.toArray(a),(function(t){return"input"!==t.type?t:(0,s.cloneElement)(t,e.handleChildOverrides(t,I))}));return s.createElement(x,Qu({},S,{className:_}),T)}var C=Sy.create(r,{autoGenerateKey:!1}),N=gy.create(m,{defaultProps:{className:sc("label",jm(y,"corner")&&y)},autoGenerateKey:!1});return s.createElement(x,Qu({},S,{className:_}),"left"===i&&C,"right"!==y&&N,kd(p||w,{defaultProps:I,autoGenerateKey:!1}),tv.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==i&&C,"right"===y&&N)},t}(s.Component);Ty.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],Ty.propTypes={},Ty.defaultProps={type:"text"},Ty.create=yd(Ty,(function(e){return{type:e}}));var Cy=Ty;function Ny(e){var t=e.categoryContent,n=e.resultsContent;return s.createElement(s.Fragment,null,s.createElement("div",{className:"name"},t),s.createElement("div",{className:"results"},n))}Ny.handledProps=["categoryContent","resultsContent"],Ny.propTypes={};var Ay=Ny;function Ry(e){var t=e.active,n=e.children,r=e.className,i=e.content,a=e.layoutRenderer,o=e.renderer,u=sc(fc(t,"active"),"category",r),c=gc(Ry,e),l=kc(Ry,e),f=o(e),h=Gh(n)?i:n;return s.createElement(l,Qu({},c,{className:u}),a({categoryContent:f,resultsContent:h}))}Ry.handledProps=["active","as","children","className","content","layoutRenderer","name","renderer","results"],Ry.defaultProps={layoutRenderer:Ay,renderer:function(e){return e.name}},Ry.propTypes={};var Py=Ry,Oy=function(e){var t=e.image,n=e.price,r=e.title,i=e.description;return[t&&s.createElement("div",{key:"image",className:"image"},gd(t,{autoGenerateKey:!1})),s.createElement("div",{key:"content",className:"content"},n&&s.createElement("div",{className:"price"},n),r&&s.createElement("div",{className:"title"},r),i&&s.createElement("div",{className:"description"},i))]};Oy.handledProps=[];var Dy=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t}return Gu(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.className,i=e.renderer,a=sc(fc(n,"active"),"result",r),o=gc(t,this.props),u=kc(t,this.props);return s.createElement(u,Qu({},o,{className:a,onClick:this.handleClick}),i(this.props))},t}(s.Component);function Ly(e){var t=e.children,n=e.className,r=e.content,i=sc("results transition",n),a=gc(Ly,e),o=kc(Ly,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}Dy.handledProps=["active","as","className","content","description","id","image","onClick","price","renderer","title"],Dy.propTypes={},Dy.defaultProps={renderer:Oy},Ly.handledProps=["as","children","className","content"],Ly.propTypes={};var My=Ly,Fy=function(e){var t=e.input;return Gd(t)?Qu({},e,{input:{className:"prompt"}}):fd(t)?Qu({},e,{input:Qu({},t,{className:sc(t.className,"prompt")})}):e},Uy=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleResultSelect=function(e,n){Kd(t.props,"onResultSelect",e,Qu({},t.props,{result:n}))},t.handleSelectionChange=function(e){var n=t.getSelectedResult();Kd(t.props,"onSelectionChange",e,Qu({},t.props,{result:n}))},t.closeOnEscape=function(e){Tm().getCode(e)===Tm().Escape&&(e.preventDefault(),t.close())},t.moveSelectionOnKeyDown=function(e){switch(Tm().getCode(e)){case Tm().ArrowDown:e.preventDefault(),t.moveSelectionBy(e,1);break;case Tm().ArrowUp:e.preventDefault(),t.moveSelectionBy(e,-1)}},t.selectItemOnEnter=function(e){if(Tm().getCode(e)===Tm().Enter){var n=t.getSelectedResult();n&&(e.preventDefault(),t.setValue(n.title),t.handleResultSelect(e,n),t.close())}},t.closeOnDocumentClick=function(e){t.close()},t.handleMouseDown=function(e){t.isMouseDown=!0,Kd(t.props,"onMouseDown",e,t.props),Pm.sub("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,Pm.unsub("mouseup",t.handleDocumentMouseUp)},t.handleInputClick=function(e){e.nativeEvent.stopImmediatePropagation(),t.tryOpen()},t.handleItemClick=function(e,n){var r=n.id,i=t.getSelectedResult(r);e.nativeEvent.stopImmediatePropagation(),t.setValue(i.title),t.handleResultSelect(e,i),t.close()},t.handleItemMouseDown=function(e){e.preventDefault()},t.handleFocus=function(e){Kd(t.props,"onFocus",e,t.props),t.setState({focus:!0})},t.handleBlur=function(e){Kd(t.props,"onBlur",e,t.props),t.setState({focus:!1})},t.handleSearchChange=function(e){e.stopPropagation();var n=t.props.minCharacters,r=t.state.open,i=e.target.value;Kd(t.props,"onSearchChange",e,Qu({},t.props,{value:i})),i.length<n?t.close():r||t.tryOpen(i),t.setValue(i)},t.getFlattenedResults=function(){var e=t.props,n=e.category,r=e.results;return n?Im(r,(function(e,t){return e.concat(t.results)}),[]):r},t.getSelectedResult=function(e){void 0===e&&(e=t.state.selectedIndex);var n=t.getFlattenedResults();return Nh(n,e)},t.setValue=function(e){var n=t.props.selectFirstResult;t.setState({value:e,selectedIndex:n?0:-1})},t.moveSelectionBy=function(e,n){var r=t.state.selectedIndex,i=t.getFlattenedResults().length-1,a=r+n;a>i?a=0:a<0&&(a=i),t.setState({selectedIndex:a}),t.scrollSelectedItemIntoView(),t.handleSelectionChange(e)},t.scrollSelectedItemIntoView=function(){if(Lm()){var e=document.querySelector(".ui.search.active.visible .results.visible");if(e){var t=e.querySelector(".result.active");if(t){var n=t.offsetTop<e.scrollTop,r=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;n?e.scrollTop=t.offsetTop:r&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}},t.tryOpen=function(e){void 0===e&&(e=t.state.value);var n=t.props.minCharacters;e.length<n||t.open()},t.open=function(){t.setState({open:!0})},t.close=function(){t.setState({open:!1})},t.renderSearchInput=function(e){var n=t.props,r=n.icon,i=n.input,a=n.placeholder,o=t.state.value;return Cy.create(i,{autoGenerateKey:!1,defaultProps:Qu({},e,{autoComplete:"off",icon:r,onChange:t.handleSearchChange,onClick:t.handleInputClick,tabIndex:"0",value:o,placeholder:a}),overrideProps:Fy})},t.renderNoResults=function(){var e=t.props,n=e.noResultsDescription,r=e.noResultsMessage;return s.createElement("div",{className:"message empty"},s.createElement("div",{className:"header"},r),n&&s.createElement("div",{className:"description"},n))},t.renderResult=function(e,n,r,i){var a=e.childKey,o=Is(e,["childKey"]);void 0===i&&(i=0);var u=t.props.resultRenderer,c=t.state.selectedIndex,l=n+i;return s.createElement(Dy,Qu({key:null!=a?a:o.id||o.title,active:c===l,onClick:t.handleItemClick,onMouseDown:t.handleItemMouseDown,renderer:u},o,{id:l}))},t.renderResults=function(){var e=t.props.results;return Nd(e,t.renderResult)},t.renderCategories=function(){var e=t.props,n=e.categoryLayoutRenderer,r=e.categoryRenderer,i=e.results,a=t.state.selectedIndex,o=0;return Nd(i,(function(e){var i=e.childKey,u=Is(e,["childKey"]),c=Qu({key:null!=i?i:u.name,active:xm(a,o,o+u.results.length),layoutRenderer:n,renderer:r},u),l=km(t.renderResult,o);return o+=u.results.length,s.createElement(Py,c,u.results.map(l))}))},t.renderMenuContent=function(){var e=t.props,n=e.category,r=e.showNoResults,i=e.results;return sv(i)?r?t.renderNoResults():null:n?t.renderCategories():t.renderResults()},t.renderResultsMenu=function(){var e=t.state.open?"visible":"",n=t.renderMenuContent();if(n)return s.createElement(My,{className:e},n)},t}Gu(t,e),t.getAutoControlledStateFromProps=function(e,t){if("undefined"!==typeof t.prevValue&&Nm()(t.prevValue,t.value))return{prevValue:t.value};var n=e.selectFirstResult?0:-1;return{prevValue:t.value,selectedIndex:n}};var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!Nm()(e,this.props)||!Nm()(t,this.state)},n.componentDidUpdate=function(e,t){!t.focus&&this.state.focus?(this.isMouseDown||this.tryOpen(),this.state.open&&Pm.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.focus&&!this.state.focus&&(this.isMouseDown||this.close(),Pm.unsub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])),!t.open&&this.state.open?(this.open(),Pm.sub("click",this.closeOnDocumentClick),Pm.sub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.open&&!this.state.open&&(this.close(),Pm.unsub("click",this.closeOnDocumentClick),Pm.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]))},n.componentWillUnmount=function(){Pm.unsub("click",this.closeOnDocumentClick),Pm.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])},n.render=function(){var e=this.state,n=e.searchClasses,r=e.focus,i=e.open,a=this.props,o=a.aligned,u=a.category,c=a.className,l=a.fluid,f=a.loading,h=a.size,d=sc("ui",i&&"active visible",h,n,fc(u,"category"),fc(r,"focus"),fc(l,"fluid"),fc(f,"loading"),hc(o,"aligned"),"search",c),p=gc(t,this.props),v=kc(t,this.props),m=Gm(p,{htmlProps:zm}),y=m[0],g=m[1];return s.createElement(v,Qu({},g,{className:d,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown}),this.renderSearchInput(y),this.renderResultsMenu())},t}(Wd);Uy.handledProps=["aligned","as","category","categoryLayoutRenderer","categoryRenderer","className","defaultOpen","defaultValue","fluid","icon","input","loading","minCharacters","noResultsDescription","noResultsMessage","onBlur","onFocus","onMouseDown","onResultSelect","onSearchChange","onSelectionChange","open","placeholder","resultRenderer","results","selectFirstResult","showNoResults","size","value"],Uy.propTypes={},Uy.defaultProps={icon:"search",input:"text",minCharacters:1,noResultsMessage:"No results found.",showNoResults:!0},Uy.autoControlledProps=["open","value"],Uy.Category=Py,Uy.Result=Dy,Uy.Results=My;var jy=n(184);var Vy,By=function(e){var t=e.user;return(0,jy.jsxs)(ov,{children:[(0,jy.jsx)(ov.Item,{as:ic,to:"/posts",children:(0,jy.jsx)("h1",{children:"\u793e\u7fa4\u7a7a\u9593"})}),(0,jy.jsx)(ov.Item,{children:(0,jy.jsx)(Uy,{})}),(0,jy.jsx)(ov.Menu,{position:"right",children:t?(0,jy.jsxs)(jy.Fragment,{children:[(0,jy.jsx)(ov.Item,{as:ic,to:"/new-post",children:"\u767c\u8868\u6587\u7ae0"}),(0,jy.jsx)(ov.Item,{as:ic,to:"/my",children:"\u6703\u54e1"}),(0,jy.jsx)(ov.Item,{onClick:function(){return Ku.auth().signOut()},as:ic,to:"/posts",children:"\u767b\u51fa"})]}):(0,jy.jsx)(ov.Item,{as:ic,to:"/signin",children:"\u8a3b\u518a / \u767b\u9304"})})]})},zy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},qy={},Ky=Ky||{},Gy=zy||self;function Hy(){}function Wy(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Qy(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $y="closure_uid_"+(1e9*Math.random()>>>0),Yy=0;function Xy(e,t,n){return e.call.apply(e.bind,arguments)}function Jy(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zy(e,t,n){return(Zy=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xy:Jy).apply(null,arguments)}function eg(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function tg(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ng(){this.s=this.s,this.o=this.o}ng.prototype.s=!1,ng.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,$y)&&e[$y]||(e[$y]=++Yy))},ng.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var rg=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ig(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ag(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Wy(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function og(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}og.prototype.h=function(){this.defaultPrevented=!0};var ug=function(){if(!Gy.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Gy.addEventListener("test",Hy,t),Gy.removeEventListener("test",Hy,t)}catch(n){}return e}();function sg(e){return/^[\s\xa0]*$/.test(e)}var cg=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function lg(e,t){return e<t?-1:e>t?1:0}function fg(){var e=Gy.navigator;return e&&(e=e.userAgent)?e:""}function hg(e){return-1!=fg().indexOf(e)}function dg(e){return dg[" "](e),e}dg[" "]=Hy;var pg,vg=hg("Opera"),mg=hg("Trident")||hg("MSIE"),yg=hg("Edge"),gg=yg||mg,kg=hg("Gecko")&&!(-1!=fg().toLowerCase().indexOf("webkit")&&!hg("Edge"))&&!(hg("Trident")||hg("MSIE"))&&!hg("Edge"),bg=-1!=fg().toLowerCase().indexOf("webkit")&&!hg("Edge");function wg(){var e=Gy.document;return e?e.documentMode:void 0}e:{var _g="",xg=function(){var e=fg();return kg?/rv:([^\);]+)(\)|;)/.exec(e):yg?/Edge\/([\d\.]+)/.exec(e):mg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):bg?/WebKit\/(\S+)/.exec(e):vg?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(xg&&(_g=xg?xg[1]:""),mg){var Eg=wg();if(null!=Eg&&Eg>parseFloat(_g)){pg=String(Eg);break e}}pg=_g}var Ig,Sg={};function Tg(){return function(e){var t=Sg;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=cg(String(pg)).split("."),n=cg("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=lg(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||lg(0==a[2].length,0==o[2].length)||lg(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Gy.document&&mg){var Cg=wg();Ig=Cg||(parseInt(pg,10)||void 0)}else Ig=void 0;var Ng=Ig;function Ag(e,t){if(og.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(kg){e:{try{dg(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Rg[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ag.X.h.call(this)}}tg(Ag,og);var Rg={2:"touch",3:"pen",4:"mouse"};Ag.prototype.h=function(){Ag.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Pg="closure_listenable_"+(1e6*Math.random()|0),Og=0;function Dg(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Og,this.ba=this.ea=!1}function Lg(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Mg(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Fg(e){var t={};for(var n in e)t[n]=e[n];return t}var Ug="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jg(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ug.length;a++)n=Ug[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Vg(e){this.src=e,this.g={},this.h=0}function Bg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=rg(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Lg(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function zg(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Vg.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=zg(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Dg(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var qg="closure_lm_"+(1e6*Math.random()|0),Kg={};function Gg(e,t,n,r,i){if(r&&r.once)return Wg(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Gg(e,t[a],n,r,i);return null}return n=ek(n),e&&e[Pg]?e.N(t,n,Qy(r)?!!r.capture:!!r,i):Hg(e,t,n,!1,r,i)}function Hg(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Qy(i)?!!i.capture:!!i,u=Jg(e);if(u||(e[qg]=u=new Vg(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Xg;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ug||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Yg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wg(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wg(e,t[a],n,r,i);return null}return n=ek(n),e&&e[Pg]?e.O(t,n,Qy(r)?!!r.capture:!!r,i):Hg(e,t,n,!0,r,i)}function Qg(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Qg(e,t[a],n,r,i);else r=Qy(r)?!!r.capture:!!r,n=ek(n),e&&e[Pg]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=zg(a=e.g[t],n,r,i))&&(Lg(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Jg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=zg(t,n,r,i)),(n=-1<e?t[e]:null)&&$g(n))}function $g(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Pg])Bg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Yg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Jg(t))?(Bg(n,e),0==n.h&&(n.src=null,t[qg]=null)):Lg(e)}}}function Yg(e){return e in Kg?Kg[e]:Kg[e]="on"+e}function Xg(e,t){if(e.ba)e=!0;else{t=new Ag(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&$g(e),e=n.call(r,t)}return e}function Jg(e){return(e=e[qg])instanceof Vg?e:null}var Zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function ek(e){return"function"===typeof e?e:(e[Zg]||(e[Zg]=function(t){return e.handleEvent(t)}),e[Zg])}function tk(){ng.call(this),this.i=new Vg(this),this.P=this,this.I=null}function nk(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new og(t,e);else if(t instanceof og)t.target=t.target||e;else{var i=t;jg(t=new og(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=rk(o,r,!0,t)&&i}if(i=rk(o=t.g=e,r,!0,t)&&i,i=rk(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=rk(o=t.g=n[a],r,!1,t)&&i}function rk(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Bg(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}tg(tk,ng),tk.prototype[Pg]=!0,tk.prototype.removeEventListener=function(e,t,n,r){Qg(this,e,t,n,r)},tk.prototype.M=function(){if(tk.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lg(n[r]);delete t.g[e],t.h--}}this.I=null},tk.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},tk.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ik=Gy.JSON.stringify;function ak(){var e=dk,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ok,uk=function(){function e(){h(this,e),this.h=this.g=null}return p(e,[{key:"add",value:function(e,t){var n=sk.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),sk=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return p(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ck}),(function(e){return e.reset()})),ck=function(){function e(){h(this,e),this.next=this.g=this.h=null}return p(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function lk(e){Gy.setTimeout((function(){throw e}),0)}function fk(e,t){ok||function(){var e=Gy.Promise.resolve(void 0);ok=function(){e.then(pk)}}(),hk||(ok(),hk=!0),dk.add(e,t)}var hk=!1,dk=new uk;function pk(){for(var e;e=ak();){try{e.h.call(e.g)}catch(n){lk(n)}var t=sk;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}hk=!1}function vk(e,t){tk.call(this),this.h=e||1,this.g=t||Gy,this.j=Zy(this.lb,this),this.l=Date.now()}function mk(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function yk(e,t,n){if("function"===typeof e)n&&(e=Zy(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zy(e.handleEvent,e)}return 2147483647<Number(t)?-1:Gy.setTimeout(e,t||0)}function gk(e){e.g=yk((function(){e.g=null,e.i&&(e.i=!1,gk(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}tg(vk,tk),(Vy=vk.prototype).ca=!1,Vy.R=null,Vy.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),nk(this,"tick"),this.ca&&(mk(this),this.start()))}},Vy.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Vy.M=function(){vk.X.M.call(this),mk(this),delete this.g};var kk=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return p(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:gk(this)}},{key:"M",value:function(){Dt(k(n.prototype),"M",this).call(this),this.g&&(Gy.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ng);function bk(e){ng.call(this),this.h=e,this.g={}}tg(bk,ng);var wk=[];function _k(e,t,n,r){Array.isArray(n)||(n&&(wk[0]=n.toString()),n=wk);for(var i=0;i<n.length;i++){var a=Gg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function xk(e){Mg(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$g(e)}),e),e.g={}}function Ek(){this.g=!0}function Ik(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ik(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}bk.prototype.M=function(){bk.X.M.call(this),xk(this)},bk.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ek.prototype.Aa=function(){this.g=!1},Ek.prototype.info=function(){};var Sk={},Tk=null;function Ck(){return Tk=Tk||new tk}function Nk(e){og.call(this,Sk.Pa,e)}function Ak(e){var t=Ck();nk(t,new Nk(t))}function Rk(e,t){og.call(this,Sk.STAT_EVENT,e),this.stat=t}function Pk(e){var t=Ck();nk(t,new Rk(t,e))}function Ok(e,t){og.call(this,Sk.Qa,e),this.size=t}function Dk(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Gy.setTimeout((function(){e()}),t)}Sk.Pa="serverreachability",tg(Nk,og),Sk.STAT_EVENT="statevent",tg(Rk,og),Sk.Qa="timingevent",tg(Ok,og);var Lk={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Mk={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Fk(){}function Uk(e){return e.h||(e.h=e.i())}function jk(){}Fk.prototype.h=null;var Vk,Bk={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function zk(){og.call(this,"d")}function qk(){og.call(this,"c")}function Kk(){}function Gk(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new bk(this),this.O=Wk,e=gg?125:void 0,this.T=new vk(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Hk}function Hk(){this.i=null,this.g="",this.h=!1}tg(zk,og),tg(qk,og),tg(Kk,Fk),Kk.prototype.g=function(){return new XMLHttpRequest},Kk.prototype.i=function(){return{}},Vk=new Kk;var Wk=45e3,Qk={},$k={};function Yk(e,t,n){e.K=1,e.v=vb(lb(t)),e.s=n,e.P=!0,Xk(e,null)}function Xk(e,t){e.F=Date.now(),tb(e),e.A=lb(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Cb(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Hk,e.g=Nw(e.l,n?t:null,!e.s),0<e.N&&(e.L=new kk(Zy(e.La,e,e.g),e.N)),_k(e.S,e.g,"readystatechange",e.ib),t=e.H?Fg(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Ak(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Jk(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Zk(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=eb(e,n))==$k){4==t&&(e.o=4,Pk(14),i=!1),Ik(e.j,e.m,null,"[Incomplete Response]");break}if(r==Qk){e.o=4,Pk(15),Ik(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ik(e.j,e.m,r,null),ob(e,r)}Jk(e)&&r!=$k&&r!=Qk&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Pk(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ww(t),t.K=!0,Pk(11))):(Ik(e.j,e.m,n,"[Invalid Chunked Response]"),ab(e),ib(e))}function eb(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?$k:(n=Number(t.substring(n,r)),isNaN(n)?Qk:(r+=1)+n>t.length?$k:(t=t.substr(r,n),e.C=r+n,t))}function tb(e){e.V=Date.now()+e.O,nb(e,e.O)}function nb(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Dk(Zy(e.gb,e),t)}function rb(e){e.B&&(Gy.clearTimeout(e.B),e.B=null)}function ib(e){0==e.l.G||e.I||Ew(e.l,e)}function ab(e){rb(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,mk(e.T),xk(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ob(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Mb(n.h,e)))if(!e.J&&Mb(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;xw(n),dw(n)}bw(n),Pk(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Dk(Zy(n.cb,n),6e3));if(1>=Lb(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Sw(n,11)}else if((e.J||n.g==e)&&xw(n),!sg(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Fb(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,pb(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Cw(r,r.H?r.ka:null,r.V),d.J){Ub(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(rb(p),tb(p)),r.g=d}else kw(r);0<n.i.length&&vw(n)}else"stop"!=a[0]&&"close"!=a[0]||Sw(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Sw(n,7):hw(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Ak()}catch(a){}}function ub(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Wy(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Wy(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Wy(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Vy=Gk.prototype).setTimeout=function(e){this.O=e},Vy.ib=function(e){e=e.target;var t=this.L;t&&3==ow(e)?t.l():this.La(e)},Vy.La=function(e){try{if(e==this.g)e:{var t=ow(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||gg||this.g&&(this.h.h||this.g.fa()||uw(this.g)))){this.I||4!=t||7==n||Ak(),rb(this);var r=this.g.aa();this.Y=r;t:if(Jk(this)){var i=uw(this.g);e="";var a=i.length,o=4==ow(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ab(this),ib(this);var u="";break t}this.h.i=new Gy.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sg(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Pk(12),ab(this),ib(this);break e}Ik(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ob(this,r)}this.P?(Zk(this,t,u),gg&&this.i&&3==t&&(_k(this.S,this.T,"tick",this.hb),this.T.start())):(Ik(this.j,this.m,u,null),ob(this,u)),4==t&&ab(this),this.i&&!this.I&&(4==t?Ew(this.l,this):(this.i=!1,tb(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Pk(12)):(this.o=0,Pk(13)),ab(this),ib(this)}}}catch(t){}},Vy.hb=function(){if(this.g){var e=ow(this.g),t=this.g.fa();this.C<t.length&&(rb(this),Zk(this,e,t),this.i&&4!=e&&tb(this))}},Vy.cancel=function(){this.I=!0,ab(this)},Vy.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ak(),Pk(17)),ab(this),this.o=2,ib(this)):nb(this,this.V-e)};var sb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cb(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof cb){this.h=void 0!==t?t:e.h,fb(this,e.j),this.s=e.s,this.g=e.g,hb(this,e.m),this.l=e.l,t=e.i;var n=new Eb;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),db(this,n),this.o=e.o}else e&&(n=String(e).match(sb))?(this.h=!!t,fb(this,n[1]||"",!0),this.s=mb(n[2]||""),this.g=mb(n[3]||"",!0),hb(this,n[4]),this.l=mb(n[5]||"",!0),db(this,n[6]||"",!0),this.o=mb(n[7]||"")):(this.h=!!t,this.i=new Eb(null,this.h))}function lb(e){return new cb(e)}function fb(e,t,n){e.j=n?mb(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function hb(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function db(e,t,n){t instanceof Eb?(e.i=t,function(e,t){t&&!e.j&&(Ib(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Sb(this,t),Cb(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=yb(t,_b)),e.i=new Eb(t,e.h))}function pb(e,t,n){e.i.set(t,n)}function vb(e){return pb(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mb(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yb(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,gb),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gb(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}cb.prototype.toString=function(){var e=[],t=this.j;t&&e.push(yb(t,kb,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(yb(t,kb,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(yb(n,"/"==n.charAt(0)?wb:bb,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",yb(n,xb)),e.join("")};var kb=/[#\/\?@]/g,bb=/[#\?:]/g,wb=/[#\?]/g,_b=/[#\?@]/g,xb=/#/g;function Eb(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ib(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Sb(e,t){Ib(e),t=Nb(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Tb(e,t){return Ib(e),t=Nb(e,t),e.g.has(t)}function Cb(e,t,n){Sb(e,t),0<n.length&&(e.i=null,e.g.set(Nb(e,t),ig(n)),e.h+=n.length)}function Nb(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Vy=Eb.prototype).add=function(e,t){Ib(this),this.i=null,e=Nb(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Vy.forEach=function(e,t){Ib(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Vy.oa=function(){Ib(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Vy.W=function(e){Ib(this);var t=[];if("string"===typeof e)Tb(this,e)&&(t=t.concat(this.g.get(Nb(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Vy.set=function(e,t){return Ib(this),this.i=null,Tb(this,e=Nb(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Vy.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Vy.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ab=p((function e(t,n){h(this,e),this.h=t,this.g=n}));function Rb(e){this.l=e||Ob,Gy.PerformanceNavigationTiming?e=0<(e=Gy.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Gy.g&&Gy.g.Ga&&Gy.g.Ga()&&Gy.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pb,Ob=10;function Db(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Lb(e){return e.h?1:e.g?e.g.size:0}function Mb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Fb(e,t){e.g?e.g.add(t):e.h=t}function Ub(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function jb(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=v(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ig(e.i)}function Vb(){}function Bb(){this.g=new Vb}function zb(e,t,n){var r=n||"";try{ub(e,(function(e,n){var i=e;Qy(e)&&(i=ik(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function qb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Kb(e){this.l=e.ac||null,this.j=e.jb||!1}function Gb(e,t){tk.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Hb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rb.prototype.cancel=function(){if(this.i=jb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=v(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Vb.prototype.stringify=function(e){return Gy.JSON.stringify(e,void 0)},Vb.prototype.parse=function(e){return Gy.JSON.parse(e,void 0)},tg(Kb,Fk),Kb.prototype.g=function(){return new Gb(this.l,this.j)},Kb.prototype.i=(Pb={},function(){return Pb}),tg(Gb,tk);var Hb=0;function Wb(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Qb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,$b(e)}function $b(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Vy=Gb.prototype).open=function(e,t){if(this.readyState!=Hb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,$b(this)},Vy.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Gy).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Vy.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qb(this)),this.readyState=Hb},Vy.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,$b(this)),this.g&&(this.readyState=3,$b(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Gy.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wb(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Vy.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Qb(this):$b(this),3==this.readyState&&Wb(this)}},Vy.Va=function(e){this.g&&(this.response=this.responseText=e,Qb(this))},Vy.Ua=function(e){this.g&&(this.response=e,Qb(this))},Vy.ga=function(){this.g&&Qb(this)},Vy.setRequestHeader=function(e,t){this.v.append(e,t)},Vy.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Vy.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Gb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Yb=Gy.JSON.parse;function Xb(e){tk.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Jb,this.K=this.L=!1}tg(Xb,tk);var Jb="",Zb=/^https?$/i,ew=["POST","PUT"];function tw(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,nw(e),iw(e)}function nw(e){e.D||(e.D=!0,nk(e,"complete"),nk(e,"error"))}function rw(e){if(e.h&&"undefined"!=typeof Ky&&(!e.C[1]||4!=ow(e)||2!=e.aa()))if(e.v&&4==ow(e))yk(e.Ha,0,e);else if(nk(e,"readystatechange"),4==ow(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(sb)[1]||null;if(!a&&Gy.self&&Gy.self.location){var o=Gy.self.location.protocol;a=o.substr(0,o.length-1)}i=!Zb.test(a?a.toLowerCase():"")}t=i}if(t)nk(e,"complete"),nk(e,"success");else{e.m=6;try{var u=2<ow(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",nw(e)}}finally{iw(e)}}}function iw(e,t){if(e.g){aw(e);var n=e.g,r=e.C[0]?Hy:null;e.g=null,e.C=null,t||nk(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function aw(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Gy.clearTimeout(e.A),e.A=null)}function ow(e){return e.g?e.g.readyState:0}function uw(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Jb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Gw){return null}}function sw(e){var t="";return Mg(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function cw(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sw(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):pb(e,t,n))}function lw(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function fw(e){this.Ca=0,this.i=[],this.j=new Ek,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=lw("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=lw("baseRetryDelayMs",5e3,e),this.bb=lw("retryDelaySeedMs",1e4,e),this.$a=lw("forwardChannelMaxRetries",2,e),this.ta=lw("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Rb(e&&e.concurrentRequestLimit),this.Fa=new Bb,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function hw(e){if(pw(e),3==e.G){var t=e.U++,n=lb(e.F);pb(n,"SID",e.I),pb(n,"RID",t),pb(n,"TYPE","terminate"),yw(e,n),(t=new Gk(e,e.j,t,void 0)).K=2,t.v=vb(lb(n)),n=!1,Gy.navigator&&Gy.navigator.sendBeacon&&(n=Gy.navigator.sendBeacon(t.v.toString(),"")),!n&&Gy.Image&&((new Image).src=t.v,n=!0),n||(t.g=Nw(t.l,null),t.g.da(t.v)),t.F=Date.now(),tb(t)}Tw(e)}function dw(e){e.g&&(ww(e),e.g.cancel(),e.g=null)}function pw(e){dw(e),e.u&&(Gy.clearTimeout(e.u),e.u=null),xw(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Gy.clearTimeout(e.m),e.m=null)}function vw(e){Db(e.h)||e.m||(e.m=!0,fk(e.Ja,e),e.C=0)}function mw(e,t){var n;n=t?t.m:e.U++;var r=lb(e.F);pb(r,"SID",e.I),pb(r,"RID",n),pb(r,"AID",e.T),yw(e,r),e.o&&e.s&&cw(r,e.o,e.s),n=new Gk(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=gw(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Fb(e.h,n),Yk(n,r,t)}function yw(e,t){e.ia&&Mg(e.ia,(function(e,n){pb(t,n,e)})),e.l&&ub({},(function(e,n){pb(t,n,e)}))}function gw(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Zy(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{zb(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function kw(e){e.g||e.u||(e.Z=1,fk(e.Ia,e),e.A=0)}function bw(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Dk(Zy(e.Ia,e),Iw(e,e.A)),e.A++,!0)}function ww(e){null!=e.B&&(Gy.clearTimeout(e.B),e.B=null)}function _w(e){e.g=new Gk(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=lb(e.sa);pb(t,"RID","rpc"),pb(t,"SID",e.I),pb(t,"CI",e.L?"0":"1"),pb(t,"AID",e.T),pb(t,"TYPE","xmlhttp"),yw(e,t),e.o&&e.s&&cw(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=vb(lb(t)),n.s=null,n.P=!0,Xk(n,e)}function xw(e){null!=e.v&&(Gy.clearTimeout(e.v),e.v=null)}function Ew(e,t){var n=null;if(e.g==t){xw(e),ww(e),e.g=null;var r=2}else{if(!Mb(e.h,t))return;n=t.D,Ub(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;nk(r=Ck(),new Ok(r,n)),vw(e)}else kw(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Lb(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Dk(Zy(e.Ja,e,t),Iw(e,e.C)),e.C++,!0))}(e,t)||2==r&&bw(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Sw(e,5);break;case 4:Sw(e,10);break;case 3:Sw(e,6);break;default:Sw(e,2)}}function Iw(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Sw(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Zy(e.kb,e);n||(n=new cb("//www.google.com/images/cleardot.gif"),Gy.location&&"http"==Gy.location.protocol||fb(n,"https"),vb(n)),function(e,t){var n=new Ek;if(Gy.Image){var r=new Image;r.onload=eg(qb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=eg(qb,n,r,"TestLoadImage: error",!1,t),r.onabort=eg(qb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=eg(qb,n,r,"TestLoadImage: timeout",!1,t),Gy.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Pk(2);e.G=0,e.l&&e.l.va(t),Tw(e),pw(e)}function Tw(e){if(e.G=0,e.la=[],e.l){var t=jb(e.h);0==t.length&&0==e.i.length||(ag(e.la,t),ag(e.la,e.i),e.h.i.length=0,ig(e.i),e.i.length=0),e.l.ua()}}function Cw(e,t,n){var r=n instanceof cb?lb(n):new cb(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),hb(r,r.m);else{var i=Gy.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new cb(null,void 0);r&&fb(a,r),t&&(a.g=t),i&&hb(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&pb(r,n,t),pb(r,"VER",e.ma),yw(e,r),r}function Nw(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Xb(new Kb({jb:!0})):new Xb(e.ra)).Ka(e.H),t}function Aw(){}function Rw(){if(mg&&!(10<=Number(Ng)))throw Error("Environmental error: no available transport.")}function Pw(e,t){tk.call(this),this.g=new fw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!sg(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sg(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Lw(this)}function Ow(e){zk.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Dw(){qk.call(this),this.status=1}function Lw(e){this.g=e}(Vy=Xb.prototype).Ka=function(e){this.L=e},Vy.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vk.g(),this.C=this.u?Uk(this.u):Uk(Vk),this.g.onreadystatechange=Zy(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void tw(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=v(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Gy.FormData&&e instanceof Gy.FormData,!(0<=rg(ew,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=v(n);try{for(l.s();!(c=l.n()).done;){var f=u(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{aw(this),0<this.B&&((this.K=function(e){return mg&&Tg()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zy(this.qa,this)):this.A=yk(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){tw(this,s)}},Vy.qa=function(){"undefined"!=typeof Ky&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nk(this,"timeout"),this.abort(8))},Vy.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nk(this,"complete"),nk(this,"abort"),iw(this))},Vy.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),iw(this,!0)),Xb.X.M.call(this)},Vy.Ha=function(){this.s||(this.F||this.v||this.l?rw(this):this.fb())},Vy.fb=function(){rw(this)},Vy.aa=function(){try{return 2<ow(this)?this.g.status:-1}catch(Pb){return-1}},Vy.fa=function(){try{return this.g?this.g.responseText:""}catch(Pb){return""}},Vy.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Yb(t)}},Vy.Ea=function(){return this.m},Vy.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Vy=fw.prototype).ma=8,Vy.G=1,Vy.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Gk(this,this.j,e,void 0),n=this.s;if(this.S&&(n?jg(n=Fg(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=gw(this,t,r),pb(i=lb(this.F),"RID",e),pb(i,"CVER",22),this.D&&pb(i,"X-HTTP-Session-Id",this.D),yw(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(sw(n)))+"&"+r:this.o&&cw(i,this.o,n)),Fb(this.h,t),this.Ya&&pb(i,"TYPE","init"),this.O?(pb(i,"$req",r),pb(i,"SID","null"),t.Z=!0,Yk(t,i,null)):Yk(t,i,r),this.G=2}}else 3==this.G&&(e?mw(this,e):0==this.i.length||Db(this.h)||mw(this))},Vy.Ia=function(){if(this.u=null,_w(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Dk(Zy(this.eb,this),e)}},Vy.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Pk(10),dw(this),_w(this))},Vy.cb=function(){null!=this.v&&(this.v=null,dw(this),bw(this),Pk(19))},Vy.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Pk(2)):(this.j.info("Failed to ping google.com"),Pk(1))},(Vy=Aw.prototype).xa=function(){},Vy.wa=function(){},Vy.va=function(){},Vy.ua=function(){},Vy.Ra=function(){},Rw.prototype.g=function(e,t){return new Pw(e,t)},tg(Pw,tk),Pw.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Pk(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Cw(e,null,e.V),vw(e)},Pw.prototype.close=function(){hw(this.g)},Pw.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ik(e),e=n);t.i.push(new Ab(t.ab++,e)),3==t.G&&vw(t)},Pw.prototype.M=function(){this.g.l=null,delete this.j,hw(this.g),delete this.g,Pw.X.M.call(this)},tg(Ow,zk),tg(Dw,qk),tg(Lw,Aw),Lw.prototype.xa=function(){nk(this.g,"a")},Lw.prototype.wa=function(e){nk(this.g,new Ow(e))},Lw.prototype.va=function(e){nk(this.g,new Dw)},Lw.prototype.ua=function(){nk(this.g,"b")},Rw.prototype.createWebChannel=Rw.prototype.g,Pw.prototype.send=Pw.prototype.u,Pw.prototype.open=Pw.prototype.m,Pw.prototype.close=Pw.prototype.close,Lk.NO_ERROR=0,Lk.TIMEOUT=8,Lk.HTTP_ERROR=6,Mk.COMPLETE="complete",jk.EventType=Bk,Bk.OPEN="a",Bk.CLOSE="b",Bk.ERROR="c",Bk.MESSAGE="d",tk.prototype.listen=tk.prototype.N,Xb.prototype.listenOnce=Xb.prototype.O,Xb.prototype.getLastError=Xb.prototype.Oa,Xb.prototype.getLastErrorCode=Xb.prototype.Ea,Xb.prototype.getStatus=Xb.prototype.aa,Xb.prototype.getResponseJson=Xb.prototype.Sa,Xb.prototype.getResponseText=Xb.prototype.fa,Xb.prototype.send=Xb.prototype.da,Xb.prototype.setWithCredentials=Xb.prototype.Ka;var Mw=qy.createWebChannelTransport=function(){return new Rw},Fw=qy.getStatEventTarget=function(){return Ck()},Uw=qy.ErrorCode=Lk,jw=qy.EventType=Mk,Vw=qy.Event=Sk,Bw=qy.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},zw=qy.FetchXmlHttpFactory=Kb,qw=qy.WebChannel=jk,Kw=qy.XhrIo=Xb,Gw="@firebase/firestore",Hw=function(){function e(t){h(this,e),this.uid=t}return p(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Hw.UNAUTHENTICATED=new Hw(null),Hw.GOOGLE_CREDENTIALS=new Hw("google-credentials-uid"),Hw.FIRST_PARTY=new Hw("first-party-uid"),Hw.MOCK_USER=new Hw("mock-user");var Ww="9.15.0",Qw=new ge("@firebase/firestore");function $w(){return Qw.logLevel}function Yw(e){if(Qw.logLevel<=fe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Zw);Qw.debug.apply(Qw,["Firestore (".concat(Ww,"): ").concat(e)].concat(ie(i)))}}function Xw(e){if(Qw.logLevel<=fe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Zw);Qw.error.apply(Qw,["Firestore (".concat(Ww,"): ").concat(e)].concat(ie(i)))}}function Jw(e){if(Qw.logLevel<=fe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Zw);Qw.warn.apply(Qw,["Firestore (".concat(Ww,"): ").concat(e)].concat(ie(i)))}}function Zw(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function e_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ww,") INTERNAL ASSERTION FAILED: ")+e;throw Xw(t),new Error(t)}function t_(e,t){e||e_()}function n_(e,t){return e}var r_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},i_=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return p(n)}(z),a_=p((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),o_=p((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),u_=function(){function e(){h(this,e)}return p(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hw.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),s_=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return p(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),c_=function(){function e(t){h(this,e),this.t=t,this.currentUser=Hw.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new a_;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new a_,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Yw("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Yw("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new a_)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Yw("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(t_("string"==typeof n.accessToken),new o_(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return t_(null===e||"string"==typeof e),new Hw(e)}}]),e}(),l_=function(){function e(t,n,r,i){h(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Hw.FIRST_PARTY,this.p=new Map}return p(e,[{key:"I",value:function(){return this.g?this.g():(t_(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),f_=function(){function e(t,n,r,i){h(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return p(e,[{key:"getToken",value:function(){return Promise.resolve(new l_(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Hw.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),h_=p((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),d_=function(){function e(t){h(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Yw("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Yw("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Yw("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Yw("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(t_("string"==typeof t.token),e.A=t.token,new h_(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function p_(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var v_=function(){function e(){h(this,e)}return p(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=p_(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function m_(e,t){return e<t?-1:e>t?1:0}function y_(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function g_(e){return e+"\0"}var k_=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new i_(r_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new i_(r_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new i_(r_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new i_(r_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return p(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?m_(this.nanoseconds,e.nanoseconds):m_(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),b_=function(){function e(t){h(this,e),this.timestamp=t}return p(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new k_(0,0))}},{key:"max",value:function(){return new e(new k_(253402300799,999999999))}}]),e}(),w_=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&e_(),void 0===r?r=t.length-n:r>t.length-n&&e_(),this.segments=t,this.offset=n,this.len=r}return p(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),__=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new i_(r_.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ie(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(w_),x_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,E_=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return x_.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new i_(r_.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new i_(r_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new i_(r_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new i_(r_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(w_),I_=function(){function e(t){h(this,e),this.path=t}return p(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===__.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(__.fromString(t))}},{key:"fromName",value:function(t){return new e(__.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(__.emptyPath())}},{key:"comparator",value:function(e,t){return __.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new __(t.slice()))}}]),e}(),S_=p((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function T_(e){return e.fields.find((function(e){return 2===e.kind}))}function C_(e){return e.fields.filter((function(e){return 2!==e.kind}))}S_.UNKNOWN_ID=-1;var N_=p((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var A_=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return p(e,null,[{key:"empty",value:function(){return new e(0,O_.min())}}]),e}();function R_(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=b_.fromTimestamp(1e9===r?new k_(n+1,0):new k_(n,r));return new O_(i,I_.empty(),t)}function P_(e){return new O_(e.readTime,e.key,-1)}var O_=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return p(e,null,[{key:"min",value:function(){return new e(b_.min(),I_.empty(),-1)}},{key:"max",value:function(){return new e(b_.max(),I_.empty(),-1)}}]),e}();function D_(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=I_.comparator(e.documentKey,t.documentKey))?n:m_(e.largestBatchId,t.largestBatchId)}var L_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",M_=function(){function e(){h(this,e),this.onCommittedListeners=[]}return p(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function F_(e){return U_.apply(this,arguments)}function U_(){return U_=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===r_.FAILED_PRECONDITION&&t.message===L_){e.next=2;break}throw t;case 2:Yw("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}var j_=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return p(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&e_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=v(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),V_=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new a_,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new q_(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Q_(e.target.error);r.P.reject(new q_(t,n))}}return p(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Yw("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new G_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new q_(n,t)}}}]),e}(),B_=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(R())&&Xw("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return p(e,[{key:"F",value:function(){var e=oe(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Yw("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new q_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new i_(r_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new i_(r_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new q_(t,n))},i.onupgradeneeded=function(e){Yw("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Yw("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=oe(ne().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=ne().mark((function e(){var n,u,s,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.F(t);case 4:return c.db=e.sent,n=V_.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),j_.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Yw("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Yw("SimpleDb","Removing database:",e),H_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!M())return!1;if(e.N())return!0;var t=R(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),z_=function(){function e(t){h(this,e),this.q=t,this.U=!1,this.K=null}return p(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return H_(this.q.delete())}}]),e}(),q_=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,r_.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return p(n)}(i_);function K_(e){return"IndexedDbTransactionError"===e.name}var G_=function(){function e(t){h(this,e),this.store=t}return p(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Yw("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Yw("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),H_(n)}},{key:"add",value:function(e){return Yw("SimpleDb","ADD",this.store.name,e,e),H_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return H_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Yw("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Yw("SimpleDb","DELETE",this.store.name,e),H_(this.store.delete(e))}},{key:"count",value:function(){return Yw("SimpleDb","COUNT",this.store.name),H_(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new j_((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new j_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Yw("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new j_((function(n,r){t.onerror=function(e){var t=Q_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new j_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new z_(i),o=t(i.primaryKey,i.value,a);if(o instanceof j_){var u=o.catch((function(e){return a.done(),j_.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return j_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function H_(e){return new j_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Q_(e.target.error);n(t)}}))}var W_=!1;function Q_(e){var t=B_.D(R());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new i_("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return W_||(W_=!0,setTimeout((function(){throw r}),0)),r}}return e}var $_=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.et=n,this.task=null}return p(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Yw("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Yw,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!K_(e.t4)){e.next=17;break}Yw("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,F_(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Y_=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return p(e,[{key:"st",value:function(){var e=oe(ne().mark((function e(){var t,n=this,r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return j_.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Yw("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Yw("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=P_(t);D_(r,n)>0&&(n=r)})),new O_(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),X_=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return p(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();X_.at=-1;var J_=p((function e(t,n,r,i,a,o,u,s){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Z_=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return p(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ex(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tx(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nx(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function rx(e){return null==e}function ix(e){return 0===e&&1/e==-1/0}function ax(e){return"number"==typeof e&&Number.isInteger(e)&&!ix(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ox=function(e){function t(e){h(this,t),this.binaryString=e}return p(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return m_(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ox.EMPTY_BYTE_STRING=new ox("");var ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sx(e){if(t_(!!e),"string"==typeof e){var t=0,n=ux.exec(e);if(t_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:cx(e.seconds),nanos:cx(e.nanos)}}function cx(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lx(e){return"string"==typeof e?ox.fromBase64String(e):ox.fromUint8Array(e)}function fx(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hx(e){var t=e.mapValue.fields.__previous_value__;return fx(t)?hx(t):t}function dx(e){var t=sx(e.mapValue.fields.__local_write_time__.timestampValue);return new k_(t.seconds,t.nanos)}var px={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vx={nullValue:"NULL_VALUE"};function mx(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fx(e)?4:Ax(e)?9007199254740991:10:e_()}function yx(e,t){if(e===t)return!0;var n=mx(e);if(n!==mx(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dx(e).isEqual(dx(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=sx(e.timestampValue),r=sx(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lx(e.bytesValue).isEqual(lx(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cx(e.geoPointValue.latitude)===cx(t.geoPointValue.latitude)&&cx(e.geoPointValue.longitude)===cx(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cx(e.integerValue)===cx(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=cx(e.doubleValue),r=cx(t.doubleValue);return n===r?ix(n)===ix(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return y_(e.arrayValue.values||[],t.arrayValue.values||[],yx);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ex(n)!==ex(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!yx(n[i],r[i])))return!1;return!0}(e,t);default:return e_()}}function gx(e,t){return void 0!==(e.values||[]).find((function(e){return yx(e,t)}))}function kx(e,t){if(e===t)return 0;var n=mx(e),r=mx(t);if(n!==r)return m_(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return m_(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=cx(e.integerValue||e.doubleValue),r=cx(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bx(e.timestampValue,t.timestampValue);case 4:return bx(dx(e),dx(t));case 5:return m_(e.stringValue,t.stringValue);case 6:return function(e,t){var n=lx(e),r=lx(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=m_(n[i],r[i]);if(0!==a)return a}return m_(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=m_(cx(e.latitude),cx(t.latitude));return 0!==n?n:m_(cx(e.longitude),cx(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=kx(n[i],r[i]);if(a)return a}return m_(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===px.mapValue&&t===px.mapValue)return 0;if(e===px.mapValue)return 1;if(t===px.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=m_(r[o],a[o]);if(0!==u)return u;var s=kx(n[r[o]],i[a[o]]);if(0!==s)return s}return m_(r.length,a.length)}(e.mapValue,t.mapValue);default:throw e_()}}function bx(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return m_(e,t);var n=sx(e),r=sx(t),i=m_(n.seconds,r.seconds);return 0!==i?i:m_(n.nanos,r.nanos)}function wx(e){return _x(e)}function _x(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=sx(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?lx(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,I_.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=v(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=_x(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=v(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(_x(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):e_();var t,n}function xx(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ex(e){return!!e&&"integerValue"in e}function Ix(e){return!!e&&"arrayValue"in e}function Sx(e){return!!e&&"nullValue"in e}function Tx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cx(e){return!!e&&"mapValue"in e}function Nx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return tx(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Nx(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Nx(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ax(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Rx(e){return"nullValue"in e?vx:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?xx(Z_.empty(),I_.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:e_()}function Px(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?xx(Z_.empty(),I_.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?px:e_()}function Ox(e,t){var n=kx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Dx(e,t){var n=kx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Lx=p((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function Mx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?I_.comparator(I_.fromName(o.referenceValue),n.key):kx(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Fx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!yx(e.position[n],t.position[n]))return!1;return!0}var Ux=p((function e(){h(this,e)})),jx=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kx(t,this.value)):null!==t&&mx(this.value)===mx(t)&&this.matchesComparison(kx(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return e_()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new $x(e,t,r):"array-contains"===t?new Zx(e,r):"in"===t?new eE(e,r):"not-in"===t?new tE(e,r):"array-contains-any"===t?new nE(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Yx(e,n):new Xx(e,n)}}]),n}(Ux),Vx=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return p(n,[{key:"matches",value:function(e){return Bx(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=v(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Ux);function Bx(e){return"and"===e.op}function zx(e){return"or"===e.op}function qx(e){return Kx(e)&&Bx(e)}function Kx(e){var t,n=v(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Vx)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Gx(e){if(e instanceof jx)return e.field.canonicalString()+e.op.toString()+wx(e.value);var t=e.filters.map((function(e){return Gx(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Hx(e,t){return e instanceof jx?function(e,t){return t instanceof jx&&e.op===t.op&&e.field.isEqual(t.field)&&yx(e.value,t.value)}(e,t):e instanceof Vx?function(e,t){return t instanceof Vx&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Hx(n,t.filters[r])}),!0)}(e,t):void e_()}function Wx(e,t){var n=e.filters.concat(t);return Vx.create(n,e.op)}function Qx(e){return e instanceof jx?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(wx(e.value))}(e):e instanceof Vx?function(e){return e.op.toString()+" {"+e.getFilters().map(Qx).join(" ,")+"}"}(e):"Filter"}var $x=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=I_.fromName(i.referenceValue),a}return p(n,[{key:"matches",value:function(e){var t=I_.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(jx),Yx=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=Jx("in",r),i}return p(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(jx),Xx=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=Jx("not-in",r),i}return p(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(jx);function Jx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return I_.fromName(e.referenceValue)}))}var Zx=function(e){g(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ix(t)&&gx(t.arrayValue,this.value)}}]),n}(jx),eE=function(e){g(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&gx(this.value.arrayValue,t)}}]),n}(jx),tE=function(e){g(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return p(n,[{key:"matches",value:function(e){if(gx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!gx(this.value.arrayValue,t)}}]),n}(jx),nE=function(e){g(n,e);var t=_(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return p(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ix(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return gx(t.value.arrayValue,e)}))}}]),n}(jx),rE=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function iE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var aE=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||uE.EMPTY}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,uE.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,uE.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new oE(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new oE(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new oE(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new oE(this.root,e,this.comparator,!0)}}]),e}(),oE=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return p(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),uE=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw e_();if(this.right.isRed())throw e_();var e=this.left.check();if(e!==this.right.check())throw e_();return e+(this.isRed()?0:1)}}]),e}();uE.EMPTY=null,uE.RED=!0,uE.BLACK=!1,uE.EMPTY=new(function(){function e(){h(this,e),this.size=0}return p(e,[{key:"key",get:function(){throw e_()}},{key:"value",get:function(){throw e_()}},{key:"color",get:function(){throw e_()}},{key:"left",get:function(){throw e_()}},{key:"right",get:function(){throw e_()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new uE(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var sE=function(){function e(t){h(this,e),this.comparator=t,this.data=new aE(this.comparator)}return p(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new cE(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new cE(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),cE=function(){function e(t){h(this,e),this.iter=t}return p(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function lE(e){return e.hasNext()?e.getNext():void 0}var fE=function(){function e(t){h(this,e),this.fields=t,t.sort(E_.comparator)}return p(e,[{key:"unionWith",value:function(t){var n,r=new sE(E_.comparator),i=v(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=v(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=v(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return y_(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),hE=function(){function e(t){h(this,e),this.value=t}return p(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Cx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nx(t)}},{key:"setAll",value:function(e){var t=this,n=E_.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Nx(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Cx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return yx(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Cx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){tx(t,(function(t,n){return e[t]=n}));var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Nx(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function dE(e){var t=[];return tx(e.fields,(function(e,n){var r=new E_([e]);if(Cx(n)){var i=dE(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=v(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new fE(t)}var pE=function(){function e(t,n,r,i,a,o,u){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return p(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(b_.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=hE.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=hE.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=b_.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,b_.min(),b_.min(),b_.min(),hE.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,b_.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,b_.min(),b_.min(),hE.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,b_.min(),b_.min(),hE.empty(),2)}}]),e}(),vE=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ft=null}));function mE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new vE(e,t,n,r,i,a,o)}function yE(e){var t=n_(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Gx(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),rx(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return wx(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return wx(e)})).join(",")),t.ft=n}return t.ft}function gE(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!iE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Hx(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fx(e.startAt,t.startAt)&&Fx(e.endAt,t.endAt)}function kE(e){return I_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function bE(e,t){return e.filters.filter((function(e){return e instanceof jx&&e.field.isEqual(t)}))}function wE(e,t,n){var r,i=vx,a=!0,o=v(bE(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=vx,c=!0;switch(u.op){case"<":case"<=":s=Rx(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=vx}Ox({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ox({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function _E(e,t,n){var r,i=px,a=!0,o=v(bE(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=px,c=!0;switch(u.op){case">=":case">":s=Px(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=px}Dx({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Dx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var xE=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.dt=null,this._t=null,this.startAt,this.endAt}));function EE(e,t,n,r,i,a,o,u){return new xE(e,t,n,r,i,a,o,u)}function IE(e){return new xE(e)}function SE(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function TE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function CE(e){var t,n=v(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function NE(e){return null!==e.collectionGroup}function AE(e){var t=n_(e);if(null===t.dt){t.dt=[];var n=CE(t),r=TE(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new rE(n)),t.dt.push(new rE(E_.keyField(),"asc"));else{var i,a=!1,o=v(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.dt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new rE(E_.keyField(),s))}}}return t.dt}function RE(e){var t=n_(e);if(!t._t)if("F"===t.limitType)t._t=mE(t.path,t.collectionGroup,AE(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=v(AE(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new rE(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Lx(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Lx(t.startAt.position,t.startAt.inclusive):null;t._t=mE(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function PE(e,t){t.getFirstInequalityField(),CE(e);var n=e.filters.concat([t]);return new xE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function OE(e,t,n){return new xE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function DE(e,t){return gE(RE(e),RE(t))&&e.limitType===t.limitType}function LE(e){return"".concat(yE(RE(e)),"|lt:").concat(e.limitType)}function ME(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Qx(e)})).join(", "),"]")),rx(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return wx(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return wx(e)})).join(",")),"Target(".concat(t,")")}(RE(e)),"; limitType=").concat(e.limitType,")")}function FE(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):I_.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=v(AE(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=v(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Mx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,AE(e),t))&&!(e.endAt&&!function(e,t,n){var r=Mx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,AE(e),t))}(e,t)}function UE(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jE(e){return function(t,n){var r,i=!1,a=v(AE(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=VE(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function VE(e,t,n){var r=e.field.isKeyField()?I_.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kx(r,i):e_()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return e_()}}function BE(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ix(t)?"-0":t}}function zE(e){return{integerValue:""+e}}function qE(e,t){return ax(t)?zE(t):BE(e,t)}var KE=p((function e(){h(this,e),this._=void 0}));function GE(e,t,n){return e instanceof QE?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $E?YE(e,t):e instanceof XE?JE(e,t):function(e,t){var n=WE(e,t),r=eI(n)+eI(e.gt);return Ex(n)&&Ex(e.gt)?zE(r):BE(e.yt,r)}(e,t)}function HE(e,t,n){return e instanceof $E?YE(e,t):e instanceof XE?JE(e,t):n}function WE(e,t){return e instanceof ZE?Ex(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var QE=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n)}(KE),$E=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return p(n)}(KE);function YE(e,t){var n,r=tI(t),i=v(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return yx(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var XE=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return p(n)}(KE);function JE(e,t){var n,r=tI(t),i=v(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!yx(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ZE=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return p(n)}(KE);function eI(e){return cx(e.integerValue||e.doubleValue)}function tI(e){return Ix(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var nI=p((function e(t,n){h(this,e),this.field=t,this.transform=n}));var rI=p((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),iI=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return p(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function aI(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var oI=p((function e(){h(this,e)}));function uI(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kI(e.key,iI.none()):new hI(e.key,e.data,iI.none());var n,r=e.data,i=hE.empty(),a=new sE(E_.comparator),o=v(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new dI(e.key,i,new fE(a.toArray()),iI.none())}function sI(e,t,n){e instanceof hI?function(e,t,n){var r=e.value.clone(),i=vI(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dI?function(e,t,n){if(aI(e.precondition,t)){var r=vI(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(pI(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function cI(e,t,n,r){return e instanceof hI?function(e,t,n,r){if(!aI(e.precondition,t))return n;var i=e.value.clone(),a=mI(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof dI?function(e,t,n,r){if(!aI(e.precondition,t))return n;var i=mI(e.fieldTransforms,r,t),a=t.data;return a.setAll(pI(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return aI(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function lI(e,t){var n,r=null,i=v(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=WE(a.transform,o||null);null!=u&&(null===r&&(r=hE.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function fI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&y_(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $E&&t instanceof $E||e instanceof XE&&t instanceof XE?y_(e.elements,t.elements,yx):e instanceof ZE&&t instanceof ZE?yx(e.gt,t.gt):e instanceof QE&&t instanceof QE}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var hI=function(e){g(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(oI),dI=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return p(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(oI);function pI(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function vI(e,t,n){var r=new Map;t_(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,HE(o,u,n[i]))}return r}function mI(e,t,n){var r,i=new Map,a=v(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,GE(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var yI,gI,kI=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(oI),bI=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(oI),wI=p((function e(t){h(this,e),this.count=t}));function _I(e){switch(e){default:return e_();case r_.CANCELLED:case r_.UNKNOWN:case r_.DEADLINE_EXCEEDED:case r_.RESOURCE_EXHAUSTED:case r_.INTERNAL:case r_.UNAVAILABLE:case r_.UNAUTHENTICATED:return!1;case r_.INVALID_ARGUMENT:case r_.NOT_FOUND:case r_.ALREADY_EXISTS:case r_.PERMISSION_DENIED:case r_.FAILED_PRECONDITION:case r_.ABORTED:case r_.OUT_OF_RANGE:case r_.UNIMPLEMENTED:case r_.DATA_LOSS:return!0}}function xI(e){if(void 0===e)return Xw("GRPC error has no .code"),r_.UNKNOWN;switch(e){case yI.OK:return r_.OK;case yI.CANCELLED:return r_.CANCELLED;case yI.UNKNOWN:return r_.UNKNOWN;case yI.DEADLINE_EXCEEDED:return r_.DEADLINE_EXCEEDED;case yI.RESOURCE_EXHAUSTED:return r_.RESOURCE_EXHAUSTED;case yI.INTERNAL:return r_.INTERNAL;case yI.UNAVAILABLE:return r_.UNAVAILABLE;case yI.UNAUTHENTICATED:return r_.UNAUTHENTICATED;case yI.INVALID_ARGUMENT:return r_.INVALID_ARGUMENT;case yI.NOT_FOUND:return r_.NOT_FOUND;case yI.ALREADY_EXISTS:return r_.ALREADY_EXISTS;case yI.PERMISSION_DENIED:return r_.PERMISSION_DENIED;case yI.FAILED_PRECONDITION:return r_.FAILED_PRECONDITION;case yI.ABORTED:return r_.ABORTED;case yI.OUT_OF_RANGE:return r_.OUT_OF_RANGE;case yI.UNIMPLEMENTED:return r_.UNIMPLEMENTED;case yI.DATA_LOSS:return r_.DATA_LOSS;default:return e_()}}(gI=yI||(yI={}))[gI.OK=0]="OK",gI[gI.CANCELLED=1]="CANCELLED",gI[gI.UNKNOWN=2]="UNKNOWN",gI[gI.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gI[gI.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gI[gI.NOT_FOUND=5]="NOT_FOUND",gI[gI.ALREADY_EXISTS=6]="ALREADY_EXISTS",gI[gI.PERMISSION_DENIED=7]="PERMISSION_DENIED",gI[gI.UNAUTHENTICATED=16]="UNAUTHENTICATED",gI[gI.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gI[gI.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gI[gI.ABORTED=10]="ABORTED",gI[gI.OUT_OF_RANGE=11]="OUT_OF_RANGE",gI[gI.UNIMPLEMENTED=12]="UNIMPLEMENTED",gI[gI.INTERNAL=13]="INTERNAL",gI[gI.UNAVAILABLE=14]="UNAVAILABLE",gI[gI.DATA_LOSS=15]="DATA_LOSS";var EI=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return p(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){tx(this.inner,(function(t,n){var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return nx(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),II=new aE(I_.comparator);function SI(){return II}var TI=new aE(I_.comparator);function CI(){for(var e=TI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function NI(e){var t=TI;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function AI(){return PI()}function RI(){return PI()}function PI(){return new EI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var OI=new aE(I_.comparator),DI=new sE(I_.comparator);function LI(){for(var e=DI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var MI=new sE(m_);function FI(){return MI}var UI=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return p(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,jI.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(b_.min(),i,FI(),SI(),LI())}}]),e}(),jI=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return p(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,LI(),LI(),LI())}}]),e}(),VI=p((function e(t,n,r,i){h(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),BI=p((function e(t,n){h(this,e),this.targetId=t,this.Et=n})),zI=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ox.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),qI=function(){function e(){h(this,e),this.At=0,this.Rt=HI(),this.bt=ox.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return p(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=LI(),t=LI(),n=LI();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:e_()}})),new jI(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=HI()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),KI=function(){function e(t){h(this,e),this.$t=t,this.Bt=new Map,this.Lt=SI(),this.qt=GI(),this.Ut=new sE(m_)}return p(e,[{key:"Kt",value:function(e){var t,n=v(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(u){n.e(u)}finally{n.f()}var i,a=v(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:e_()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(kE(i))if(0===n){var a=new I_(i.path);this.Qt(t,a,pE.newNoDocument(a,b_.min()))}else t_(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&kE(a.target)){var o=new I_(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,pE.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=LI();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new UI(e,n,this.Ut,this.Lt,r);return this.Lt=SI(),this.qt=GI(),this.Ut=new sE(m_),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new qI,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new sE(m_),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||Yw("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new qI),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function GI(){return new aE(I_.comparator)}function HI(){return new aE(I_.comparator)}var WI={asc:"ASCENDING",desc:"DESCENDING"},QI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$I={and:"AND",or:"OR"},YI=p((function e(t,n){h(this,e),this.databaseId=t,this.wt=n}));function XI(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function JI(e,t){return e.wt?t.toBase64():t.toUint8Array()}function ZI(e,t){return XI(e,t.toTimestamp())}function eS(e){return t_(!!e),b_.fromTimestamp(function(e){var t=sx(e);return new k_(t.seconds,t.nanos)}(e))}function tS(e,t){return function(e){return new __(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function nS(e){var t=__.fromString(e);return t_(IS(t)),t}function rS(e,t){return tS(e.databaseId,t.path)}function iS(e,t){var n=nS(t);if(n.get(1)!==e.databaseId.projectId)throw new i_(r_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new i_(r_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new I_(sS(n))}function aS(e,t){return tS(e.databaseId,t)}function oS(e){var t=nS(e);return 4===t.length?__.emptyPath():sS(t)}function uS(e){return new __(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sS(e){return t_(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function cS(e,t,n){return{name:rS(e,t),fields:n.value.mapValue.fields}}function lS(e,t,n){var r=iS(e,t.name),i=eS(t.updateTime),a=t.createTime?eS(t.createTime):b_.min(),o=new hE({mapValue:{fields:t.fields}}),u=pE.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function fS(e,t){return"found"in t?function(e,t){t_(!!t.found),t.found.name,t.found.updateTime;var n=iS(e,t.found.name),r=eS(t.found.updateTime),i=t.found.createTime?eS(t.found.createTime):b_.min(),a=new hE({mapValue:{fields:t.found.fields}});return pE.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){t_(!!t.missing),t_(!!t.readTime);var n=iS(e,t.missing),r=eS(t.readTime);return pE.newNoDocument(n,r)}(e,t):e_()}function hS(e,t){var n;if(t instanceof hI)n={update:cS(e,t.key,t.value)};else if(t instanceof kI)n={delete:rS(e,t.key)};else if(t instanceof dI)n={update:cS(e,t.key,t.data),updateMask:ES(t.fieldMask)};else{if(!(t instanceof bI))return e_();n={verify:rS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof QE)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $E)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof XE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ZE)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw e_()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ZI(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:e_()}(e,t.precondition)),n}function dS(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?iI.updateTime(eS(e.updateTime)):void 0!==e.exists?iI.exists(e.exists):iI.none()}(t.currentDocument):iI.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)t_("REQUEST_TIME"===t.setToServerValue),n=new QE;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new $E(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new XE(i)}else"increment"in t?n=new ZE(e,t.increment):e_();var a=E_.fromServerFormat(t.fieldPath);return new nI(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=iS(e,t.update.name),a=new hE({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new fE(t.map((function(e){return E_.fromServerFormat(e)})))}(t.updateMask);return new dI(i,a,o,n,r)}return new hI(i,a,n,r)}if(t.delete){var u=iS(e,t.delete);return new kI(u,n)}if(t.verify){var s=iS(e,t.verify);return new bI(s,n)}return e_()}function pS(e,t){return{documents:[aS(e,t.path)]}}function vS(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=aS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=aS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return xS(Vx.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:wS(e.field),direction:gS(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.wt||rx(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function mS(e){var t=oS(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){t_(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=yS(e);return t instanceof Vx&&qx(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new rE(_S(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return rx(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Lx(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Lx(n,t)}(n.endAt)),EE(t,i,u,o,s,"F",c,l)}function yS(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_S(e.unaryFilter.field);return jx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_S(e.unaryFilter.field);return jx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_S(e.unaryFilter.field);return jx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_S(e.unaryFilter.field);return jx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return e_()}}(e):void 0!==e.fieldFilter?function(e){return jx.create(_S(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return e_()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Vx.create(e.compositeFilter.filters.map((function(e){return yS(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return e_()}}(e.compositeFilter.op))}(e):e_()}function gS(e){return WI[e]}function kS(e){return QI[e]}function bS(e){return $I[e]}function wS(e){return{fieldPath:e.canonicalString()}}function _S(e){return E_.fromServerFormat(e.fieldPath)}function xS(e){return e instanceof jx?function(e){if("=="===e.op){if(Tx(e.value))return{unaryFilter:{field:wS(e.field),op:"IS_NAN"}};if(Sx(e.value))return{unaryFilter:{field:wS(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Tx(e.value))return{unaryFilter:{field:wS(e.field),op:"IS_NOT_NAN"}};if(Sx(e.value))return{unaryFilter:{field:wS(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wS(e.field),op:kS(e.op),value:e.value}}}(e):e instanceof Vx?function(e){var t=e.getFilters().map((function(e){return xS(e)}));return 1===t.length?t[0]:{compositeFilter:{op:bS(e.op),filters:t}}}(e):e_()}function ES(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function IS(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function SS(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=CS(t)),t=TS(e.get(n),t);return CS(t)}function TS(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function CS(e){return e+"\x01\x01"}function NS(e){var t=e.length;if(t_(t>=2),2===t)return t_("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),__.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&e_(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:e_()}a=o+2}return new __(r)}var AS=["userId","batchId"];function RS(e,t){return[e,SS(t)]}function PS(e,t,n){return[e,SS(t),n]}var OS={},DS=["prefixPath","collectionGroup","readTime","documentId"],LS=["prefixPath","collectionGroup","documentId"],MS=["collectionGroup","readTime","prefixPath","documentId"],FS=["canonicalId","targetId"],US=["targetId","path"],jS=["path","targetId"],VS=["collectionId","parent"],BS=["indexId","uid"],zS=["uid","sequenceNumber"],qS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KS=["indexId","uid","orderedDocumentKey"],GS=["userId","collectionPath","documentId"],HS=["userId","collectionPath","largestBatchId"],WS=["userId","collectionGroup","largestBatchId"],QS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),$S=[].concat(ie(QS),["documentOverlays"]),YS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],XS=YS,JS=[].concat(XS,["indexConfiguration","indexState","indexEntries"]),ZS=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return p(n)}(M_);function eT(e,t){var n=n_(e);return B_.M(n.se,t)}var tT=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return p(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&sI(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=v(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=cI(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=v(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=cI(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=RI();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=uI(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(b_.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),LI())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&y_(this.mutations,e.mutations,(function(e,t){return fI(e,t)}))&&y_(this.baseMutations,e.baseMutations,(function(e,t){return fI(e,t)}))}}]),e}(),nT=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return p(e,null,[{key:"from",value:function(t,n,r){t_(t.mutations.length===r.length);for(var i=OI,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),rT=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return p(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),iT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b_.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b_.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ox.EMPTY_BYTE_STRING;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return p(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),aT=p((function e(t){h(this,e),this.ie=t}));function oT(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:uT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:rS(e,t.key),fields:t.data.value.mapValue.fields,updateTime:XI(e,t.version.toTimestamp()),createTime:XI(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:sT(t.version)};else{if(!t.isUnknownDocument())return e_();r.unknownDocument={path:n.path.toArray(),version:sT(t.version)}}return r}function uT(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function sT(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function cT(e){var t=new k_(e.seconds,e.nanoseconds);return b_.fromTimestamp(t)}function lT(e,t){for(var n=(t.baseMutations||[]).map((function(t){return dS(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return dS(e.ie,t)})),u=k_.fromMillis(t.localWriteTimeMs);return new tT(t.batchId,u,n,o)}function fT(e){var t,n,r=cT(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?cT(e.lastLimboFreeSnapshotVersion):b_.min();return void 0!==e.query.documents?(t_(1===(n=e.query).documents.length),t=RE(IE(oS(n.documents[0])))):t=function(e){return RE(mS(e))}(e.query),new iT(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ox.fromBase64String(e.resumeToken))}function hT(e,t){var n,r=sT(t.snapshotVersion),i=sT(t.lastLimboFreeSnapshotVersion);n=kE(t.target)?pS(e.ie,t.target):vS(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:yE(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function dT(e){var t=mS({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?OE(t,t.limit,"L"):t}function pT(e,t){return new rT(t.largestBatchId,dS(e.ie,t.overlayMutation))}function vT(e,t){var n=t.path.lastSegment();return[e,SS(t.path.popLast()),n]}function mT(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:sT(r.readTime),documentKey:SS(r.documentKey.path),largestBatchId:r.largestBatchId}}var yT=function(){function e(){h(this,e)}return p(e,[{key:"getBundleMetadata",value:function(e,t){return gT(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:cT(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return gT(e).put({bundleId:(n=t).id,createTime:sT(eS(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return kT(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:dT(t.bundledQuery),readTime:cT(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return kT(e).put(function(e){return{name:e.name,readTime:sT(eS(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function gT(e){return eT(e,"bundles")}function kT(e){return eT(e,"namedQueries")}var bT=function(){function e(t,n){h(this,e),this.yt=t,this.userId=n}return p(e,[{key:"getOverlay",value:function(e,t){var n=this;return wT(e).get(vT(this.userId,t)).next((function(e){return e?pT(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=AI();return j_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new rT(t,a);i.push(r.oe(e,o))})),j_.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(SS(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(wT(e).Y("collectionPathOverlayIndex",i))})),j_.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=AI(),a=SS(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return wT(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=pT(r.yt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=AI(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wT(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=pT(a.yt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return wT(e).put(function(e,t,n){var r=u(vT(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:hS(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function wT(e){return eT(e,"documentOverlays")}var _T=function(){function e(){h(this,e)}return p(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(cx(e.integerValue));else if("doubleValue"in e){var n=cx(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),ix(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(lx(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?Ax(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):e_()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),I_.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function xT(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ET(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=xT(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}_T.Ie=new _T;var IT=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return p(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=ET(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=ET(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),ST=function(){function e(t){h(this,e),this.$e=t}return p(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),TT=function(){function e(t){h(this,e),this.$e=t}return p(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),CT=function(){function e(){h(this,e),this.$e=new IT,this.Be=new ST(this.$e),this.Le=new TT(this.$e)}return p(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),NT=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return p(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function AT(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=RT(e.arrayValue,t.arrayValue))?n:0!==(n=RT(e.directionalValue,t.directionalValue))?n:I_.comparator(e.documentKey,t.documentKey)}function RT(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var PT=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=v(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return p(e,[{key:"je",value:function(e){t_(e.collectionGroup===this.collectionId);var t=T_(e);if(void 0!==t&&!this.We(t))return!1;for(var n=C_(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=v(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function OT(e){var t,n;if(t_(e instanceof jx||e instanceof Vx),e instanceof jx){if(e instanceof eE){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return jx.create(e.field,"==",t)})))||[];return Vx.create(r,"or")}return e}var i=e.filters.map((function(e){return OT(e)}));return Vx.create(i,e.op)}function DT(e){if(0===e.getFilters().length)return[];var t=UT(OT(e));return t_(FT(t)),LT(t)||MT(t)?[t]:t.getFilters()}function LT(e){return e instanceof jx}function MT(e){return e instanceof Vx&&qx(e)}function FT(e){return LT(e)||MT(e)||function(e){if(e instanceof Vx&&zx(e)){var t,n=v(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!LT(r)&&!MT(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function UT(e){if(t_(e instanceof jx||e instanceof Vx),e instanceof jx)return e;if(1===e.filters.length)return UT(e.filters[0]);var t=e.filters.map((function(e){return UT(e)})),n=Vx.create(t,e.op);return FT(n=BT(n))?n:(t_(n instanceof Vx),t_(Bx(n)),t_(n.filters.length>1),n.filters.reduce((function(e,t){return jT(e,t)})))}function jT(e,t){var n;return t_(e instanceof jx||e instanceof Vx),t_(t instanceof jx||t instanceof Vx),n=e instanceof jx?t instanceof jx?function(e,t){return Vx.create([e,t],"and")}(e,t):VT(e,t):t instanceof jx?VT(t,e):function(e,t){if(t_(e.filters.length>0&&t.filters.length>0),Bx(e)&&Bx(t))return Wx(e,t.getFilters());var n=zx(e)?e:t,r=zx(e)?t:e,i=n.filters.map((function(e){return jT(e,r)}));return Vx.create(i,"or")}(e,t),BT(n)}function VT(e,t){if(Bx(t))return Wx(t,e.getFilters());var n=t.filters.map((function(t){return jT(e,t)}));return Vx.create(n,"or")}function BT(e){if(t_(e instanceof jx||e instanceof Vx),e instanceof jx)return e;var t=e.getFilters();if(1===t.length)return BT(t[0]);if(Kx(e))return e;var n=t.map((function(e){return BT(e)})),r=[];return n.forEach((function(t){t instanceof jx?r.push(t):t instanceof Vx&&(t.op===e.op?r.push.apply(r,ie(t.filters)):r.push(t))})),1===r.length?r[0]:Vx.create(r,e.op)}var zT=function(){function e(){h(this,e),this.Je=new qT}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),j_.resolve()}},{key:"getCollectionParents",value:function(e,t){return j_.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return j_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return j_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return j_.resolve(null)}},{key:"getIndexType",value:function(e,t){return j_.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return j_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return j_.resolve(null)}},{key:"getMinOffset",value:function(e,t){return j_.resolve(O_.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return j_.resolve(O_.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return j_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return j_.resolve()}}]),e}(),qT=function(){function e(){h(this,e),this.index={}}return p(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sE(__.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new sE(__.comparator)).toArray()}}]),e}(),KT=new Uint8Array(0),GT=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.Ye=new qT,this.Xe=new EI((function(e){return yE(e)}),(function(e,t){return gE(e,t)})),this.uid=t.uid||""}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:SS(i)};return HT(e).put(a)}return j_.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[g_(t),""],!1,!0);return HT(e).W(r).next((function(e){var r,i=v(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(NS(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=QT(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=$T(e);return a.next((function(e){o.put(mT(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=QT(e),r=$T(e),i=WT(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=WT(e),i=!0,a=new Map;return j_.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=LI(),o=[];return j_.forEach(a,(function(i,a){var u;Yw("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(yE(t)));var s=function(e,t){var n=T_(t);if(void 0===n)return null;var r,i=v(bE(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=v(C_(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=v(bE(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=v(C_(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?wE(e,o.fieldPath,e.startAt):_E(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Lx(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=v(C_(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?_E(e,o.fieldPath,e.endAt):wE(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Lx(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),m=n.sn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return j_.forEach(m,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=I_.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return j_.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:DT(Vx.create(e.filters,"and")).map((function(t){return mE(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.rn(t[h/c]):KT,f=u.on(e,s,n[h%c],r),d=u.un(e,s,i[h%c],a),p=o.map((function(t){return u.on(e,s,t,!0)}));l.push.apply(l,ie(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"on",value:function(e,t,n,r){var i=new NT(e,I_.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new NT(e,I_.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new PT(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=v(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return j_.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new sE(E_.comparator),r=!1,i=v(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=v(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=v(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new CT,i=v(C_(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);_T.Ie.ue(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new CT;return _T.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new CT;return _T.Ie.ue(xx(this.databaseId,t),n.qe(function(e){var t=C_(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new CT);var i,a=0,o=v(C_(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=v(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.hn(t,s.fieldPath)&&Ix(c))r=this.ln(r,s,c);else{var h=f.qe(s.kind);_T.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=ie(e),a=[],o=v(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=v(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new CT;f.seed(l.Fe()),_T.Ie.ue(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof jx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=QT(e),i=$T(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return j_.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new A_(t.sequenceNumber,new O_(cT(t.readTime),new I_(NS(t.documentKey)),t.largestBatchId)):A_.empty(),r=e.fields.map((function(e){var t=u(e,2),n=t[0],r=t[1];return new N_(E_.fromServerFormat(n),r)}));return new S_(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:m_(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=QT(e),a=$T(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return j_.forEach(t,(function(t){return a.put(mT(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return j_.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?j_.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),j_.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?j_.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return WT(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return WT(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=WT(e),i=new sE(AT);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new NT(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new sE(AT),r=this.cn(t,e);if(null==r)return n;var i=T_(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ix(a)){var o,u=v(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new NT(t.indexId,e.key,this.rn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new NT(t.indexId,e.key,KT,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;Yw("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=lE(a),s=lE(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=lE(o)):l?(i(u),u=lE(a)):(u=lE(a),s=lE(o))}}(r,i,AT,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),j_.waitFor(o)}},{key:"dn",value:function(e){var t=1;return $T(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return AT(e,t)})).filter((function(e,t,n){return!t||0!==AT(e,n[t-1])}));var r=[];r.push(e);var i,a=v(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=AT(o,e),s=AT(o,t);if(0===u)r[0]=e.Ue();else if(u>0&&s<0)r.push(o),r.push(o.Ue());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,KT,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,KT,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return AT(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(YT)}},{key:"getMinOffset",value:function(e,t){var n=this;return j_.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||e_()}))})).next(YT)}}]),e}();function HT(e){return eT(e,"collectionParents")}function WT(e){return eT(e,"indexEntries")}function QT(e){return eT(e,"indexConfiguration")}function $T(e){return eT(e,"indexState")}function YT(e){t_(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;D_(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new O_(t.readTime,t.documentKey,n)}var XT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return p(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ZT(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){t_(1===u)})));var c,l=[],f=v(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=PS(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return j_.waitFor(a).next((function(){return l}))}function eC(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw e_();t=e.noDocument}return JSON.stringify(t).length}JT.DEFAULT_COLLECTION_PERCENTILE=10,JT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,JT.DEFAULT=new JT(41943040,JT.DEFAULT_COLLECTION_PERCENTILE,JT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),JT.DISABLED=new JT(-1,0,0);var tC=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return p(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rC(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=iC(e),o=rC(e);return o.add({}).next((function(u){t_("number"==typeof u);var s,c=new tT(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return hS(e.ie,t)})),i=n.mutations.map((function(t){return hS(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new sE((function(e,t){return m_(e.canonicalString(),t.canonicalString())})),d=v(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,m=PS(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(m,OS))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),j_.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return rC(e).get(t).next((function(e){return e?(t_(e.userId===n.userId),lT(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?j_.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return rC(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(t_(t.batchId>=r),a=lT(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return rC(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rC(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return lT(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=RS(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return iC(e).Z({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=NS(l);if(c===n.userId&&t.path.isEqual(h))return rC(e).get(f).next((function(e){if(!e)throw e_();t_(e.userId===n.userId),a.push(lT(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sE(m_),i=[];return t.forEach((function(t){var a=RS(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=iC(e).Z({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=NS(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),j_.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=RS(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new sE(m_);return iC(e).Z({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=NS(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(rC(e).get(t).next((function(e){if(null===e)throw e_();t_(e.userId===n.userId),r.push(lT(n.yt,e))})))})),j_.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ZT(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),j_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return j_.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return iC(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=NS(e[1]);i.push(a)}else r.done()})).next((function(){t_(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return nC(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return aC(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return t_(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function nC(e,t,n){var r=RS(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return iC(e).Z({range:a,X:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function rC(e){return eT(e,"mutations")}function iC(e){return eT(e,"documentMutations")}function aC(e){return eT(e,"mutationQueues")}var oC=function(){function e(t){h(this,e),this.bn=t}return p(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),uC=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.yt=n}return p(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new oC(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return b_.fromTimestamp(new k_(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return sC(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return t_(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return sC(e).Z((function(o,u){var s=fT(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return j_.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return sC(e).Z((function(e,n){var r=fT(n);t(r)}))}},{key:"Vn",value:function(e){return cC(e).get("targetGlobalKey").next((function(e){return t_(null!==e),e}))}},{key:"Sn",value:function(e,t){return cC(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return sC(e).put(hT(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=yE(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sC(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=fT(n);gE(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=lC(e);return t.forEach((function(t){var o=SS(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),j_.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=lC(e);return j_.forEach(t,(function(t){var a=SS(t.path);return j_.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=lC(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=lC(e),i=LI();return r.Z({range:n,X:!0},(function(e,t,n){var r=NS(e[1]),a=new I_(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=SS(t.path),r=IDBKeyRange.bound([n],[g_(n)],!1,!0),i=0;return lC(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return sC(e).get(t).next((function(e){return e?fT(e):null}))}}]),e}();function sC(e){return eT(e,"targets")}function cC(e){return eT(e,"targetGlobal")}function lC(e){return eT(e,"targetDocuments")}function fC(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=m_(r,o);return 0===c?m_(i,s):c}var hC=function(){function e(t){h(this,e),this.xn=t,this.buffer=new sE(fC),this.Nn=0}return p(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();fC(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),dC=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return p(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Yw("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!K_(e.t0)){e.next=12;break}Yw("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,F_(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),pC=function(){function e(t,n){h(this,e),this.$n=t,this.params=n}return p(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return j_.resolve(X_.at);var r=new hC(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Yw("LruGarbageCollector","Garbage collection skipped; disabled"),j_.resolve(XT)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Yw("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),XT):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Yw("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),$w()<=fe.DEBUG&&Yw("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),j_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),vC=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=function(e,t){return new pC(e,t)}(this,n)}return p(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return mC(e,n)}},{key:"removeReference",value:function(e,t,n){return mC(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return mC(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return aC(e).tt((function(r){return nC(e,r,t).next((function(e){return e&&(n=!0),j_.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,b_.min()),lC(e).delete([0,SS(o.path)])}))}));i.push(s)}})).next((function(){return j_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return mC(e,t)}},{key:"Kn",value:function(e,t){var n,r=lC(e),i=X_.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==X_.at&&t(new I_(NS(n)),i),i=c,n=s):i=X_.at})).next((function(){i!==X_.at&&t(new I_(NS(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function mC(e,t){return lC(e).put(function(e,t){return{targetId:0,path:SS(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var yC=function(){function e(){h(this,e),this.changes=new EI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return p(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,pE.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?j_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),gC=function(){function e(t){h(this,e),this.yt=t}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return _C(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return _C(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],uT(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=pE.newInvalidDocument(t);return _C(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xC(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:pE.newInvalidDocument(t)};return _C(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xC(t))},(function(e,i){r={document:n.jn(t,i),size:eC(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=SI();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=SI(),i=new aE(I_.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,eC(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return j_.resolve();var r=new sE(IC);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(xC(r.first()),xC(r.last())),a=r.getIterator(),o=a.getNext();return _C(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=I_.fromSegments([].concat(ie(t.prefixPath),[t.collectionGroup,t.documentId]));o&&IC(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(xC(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),uT(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _C(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=SI(),i=v(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(I_.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=SI(),o=EC(t,n),u=EC(t,O_.max());return _C(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(I_.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new bC(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return wC(e).get("remoteDocumentGlobalKey").next((function(e){return t_(!!e),e}))}},{key:"Qn",value:function(e,t){return wC(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=lS(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=I_.fromSegments(t.noDocument.path),i=cT(t.noDocument.readTime);n=pE.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return e_();var a=I_.fromSegments(t.unknownDocument.path),o=cT(t.unknownDocument.version);n=pE.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new k_(e[0],e[1]);return b_.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(b_.min()))return n}return pE.newInvalidDocument(e)}}]),e}();function kC(e){return new gC(e)}var bC=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new EI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new sE((function(e,t){return m_(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=oT(t.Yn.yt,o);i=i.add(a.path.popLast());var c=eC(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=oT(t.Yn.yt,o.convertToNoDocument(b_.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),j_.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(yC);function wC(e){return eT(e,"remoteDocumentGlobal")}function _C(e){return eT(e,"remoteDocumentsV14")}function xC(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function EC(e,t){var n=t.documentKey.path.toArray();return[e,uT(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function IC(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=m_(n[a],r[a]))return i;return(i=m_(n.length,r.length))||((i=m_(n[n.length-2],r[r.length-2]))||m_(n[n.length-1],r[r.length-1]))}var SC=p((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),TC=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return p(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&cI(r.mutation,e,fE.empty(),k_.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,LI()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LI(),i=AI();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=CI();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=AI();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,LI())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=SI(),a=PI(),o=PI();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof dI)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),cI(o.mutation,t,o.mutation.getFieldMask(),k_.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new SC(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=PI(),i=new aE((function(e,t){return e-t})),a=LI();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=v(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||fE.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||LI()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=RI();c.forEach((function(e){if(!a.has(e)){var n=uI(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return j_.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return I_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):NE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):j_.resolve(AI()),u=-1,s=a;return o.next((function(t){return j_.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?j_.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,LI())})).next((function(e){return{batchId:u,changes:NI(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new I_(t)).next((function(e){var t=CI();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=CI();return this.indexManager.getCollectionParents(e,i).next((function(o){return j_.forEach(o,(function(o){var u=function(e,t){return new xE(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,pE.newInvalidDocument(n)))}));var n=CI();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&cI(a.mutation,i,fE.empty(),k_.now()),FE(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),CC=function(){function e(t){h(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return p(e,[{key:"getBundleMetadata",value:function(e,t){return j_.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:eS(n.createTime)}),j_.resolve()}},{key:"getNamedQuery",value:function(e,t){return j_.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:dT(e.bundledQuery),readTime:eS(e.readTime)}}(t)),j_.resolve()}}]),e}(),NC=function(){function e(){h(this,e),this.overlays=new aE(I_.comparator),this.es=new Map}return p(e,[{key:"getOverlay",value:function(e,t){return j_.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=AI();return j_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),j_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),j_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=AI(),i=t.length+1,a=new I_(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return j_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new aE((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=AI(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=AI(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return j_.resolve(s)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new rT(t,n));var a=this.es.get(t);void 0===a&&(a=LI(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),AC=function(){function e(){h(this,e),this.ns=new sE(RC.ss),this.rs=new sE(RC.os)}return p(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new RC(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new RC(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new I_(new __([])),r=new RC(n,e),i=new RC(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new I_(new __([])),n=new RC(t,e),r=new RC(t,e+1),i=LI();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new RC(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),RC=function(){function e(t,n){h(this,e),this.key=t,this._s=n}return p(e,null,[{key:"ss",value:function(e,t){return I_.comparator(e.key,t.key)||m_(e._s,t._s)}},{key:"os",value:function(e,t){return m_(e._s,t._s)||I_.comparator(e.key,t.key)}}]),e}(),PC=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new sE(RC.ss)}return p(e,[{key:"checkEmpty",value:function(e){return j_.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new tT(i,t,n,r);this.mutationQueue.push(a);var o,u=v(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new RC(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return j_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return j_.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return j_.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return j_.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return j_.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new RC(t,0),i=new RC(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),j_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sE(m_);return t.forEach((function(e){var t=new RC(e,0),i=new RC(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),j_.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;I_.isDocumentKey(i)||(i=i.child(""));var a=new RC(new I_(i),0),o=new sE(m_);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),j_.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;t_(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return j_.forEach(t.mutations,(function(i){var a=new RC(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new RC(t,0),r=this.gs.firstAfterOrEqual(n);return j_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,j_.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),OC=function(){function e(t){h(this,e),this.Es=t,this.docs=new aE(I_.comparator),this.size=0}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return j_.resolve(n?n.document.mutableCopy():pE.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=SI();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():pE.newInvalidDocument(e))})),j_.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=SI(),i=new I_(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||D_(P_(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return j_.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){e_()}},{key:"As",value:function(e,t){return j_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new DC(this)}},{key:"getSize",value:function(e){return j_.resolve(this.size)}}]),e}(),DC=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).Yn=e,r}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),j_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(yC),LC=function(){function e(t){h(this,e),this.persistence=t,this.Rs=new EI((function(e){return yE(e)}),gE),this.lastRemoteSnapshotVersion=b_.min(),this.highestTargetId=0,this.bs=0,this.Ps=new AC,this.targetCount=0,this.vs=oC.Pn()}return p(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),j_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return j_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return j_.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),j_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),j_.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new oC(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,j_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),j_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,j_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),j_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return j_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return j_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),j_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),j_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),j_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return j_.resolve(n)}},{key:"containsKey",value:function(e,t){return j_.resolve(this.Ps.containsKey(t))}}]),e}(),MC=function(){function e(t,n){var r=this;h(this,e),this.Vs={},this.overlays={},this.Ss=new X_(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new LC(this),this.indexManager=new zT,this.remoteDocumentCache=new OC((function(e){return r.referenceDelegate.xs(e)})),this.yt=new aT(n),this.Ns=new CC(this.yt)}return p(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new NC,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new PC(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Yw("MemoryPersistence","Starting transaction:",e);var i=new FC(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return j_.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),FC=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return p(n)}(M_),UC=function(){function e(t){h(this,e),this.persistence=t,this.Fs=new AC,this.$s=null}return p(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw e_()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),j_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),j_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),j_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j_.forEach(this.Ls,(function(r){var i=I_.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,b_.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return j_.or([function(){return j_.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),jC=function(){function e(t){h(this,e),this.yt=t}return p(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new V_("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AS,{unique:!0}),e.createObjectStore("documentMutations")}(e),VC(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=j_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),VC(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:b_.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AS,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return j_.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:GS});t.createIndex("collectionPathOverlayIndex",HS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",WS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:DS});t.createIndex("documentKeyIndex",LS),t.createIndex("collectionGroupIndex",MS)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:BS}).createIndex("sequenceNumberIndex",zS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:qS}).createIndex("documentKeyIndex",KS,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=eC(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return j_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return j_.forEach(r,(function(r){t_(r.userId===n.userId);var i=lT(t.yt,r);return ZT(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new __(n),o=function(e){return[0,SS(e)]}(a);r.push(t.get(o).next((function(n){return n?j_.resolve():function(n){return t.put({targetId:0,path:SS(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return j_.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:VS});var n=t.store("collectionParents"),r=new qT,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:SS(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new __(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],NS(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=fT(r),a=hT(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new I_(__.fromString(i.document.name).popFirst(5)):i.noDocument?I_.fromSegments(i.noDocument.path):i.unknownDocument?I_.fromSegments(i.unknownDocument.path):e_()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return j_.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=kC(this.yt),a=new MC(UC.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:LI();lT(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),j_.forEach(r,(function(e,r){var o=new Hw(r),u=bT.re(n.yt,o),s=a.getIndexManager(o),c=tC.re(o,n.yt,s,a.referenceDelegate);return new TC(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new ZS(t,X_.at),e).next()}))}))}}]),e}();function VC(e){e.createObjectStore("targetDocuments",{keyPath:US}).createIndex("documentTargetsIndex",jS,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",FS,{unique:!0}),e.createObjectStore("targetGlobal")}var BC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zC=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new i_(r_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vC(this,i),this.ii=n+"main",this.yt=new aT(s),this.ri=new B_(this.ii,this.Xs,new jC(this.yt)),this.Cs=new uC(this.referenceDelegate,this.yt),this.remoteDocumentCache=kC(this.yt),this.Ns=new yT,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Xw("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return p(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new i_(r_.FAILED_PRECONDITION,BC);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new X_(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=oe(ne().mark((function n(r){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=oe(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return KC(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(K_(t))return Yw("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Yw("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return qC(e).get("owner").next((function(e){return j_.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return KC(e).delete(this.clientId)}},{key:"yi",value:function(){var e=oe(ne().mark((function e(){var t,n,r,i,a=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=eT(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return j_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=v(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?j_.resolve(!0):qC(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new i_(r_.FAILED_PRECONDITION,BC);return!1}}return!(!t.networkEnabled||!t.inForeground)||KC(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Yw("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=oe(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ZS(e,X_.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return KC(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return tC.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new GT(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return bT.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Yw("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?JS:14===i?XS:13===i?YS:12===i?$S:11===i?QS:void e_();return this.ri.runTransaction(e,o,u,(function(i){return a=new ZS(i,r.Ss?r.Ss.next():X_.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Xw("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new i_(r_.FAILED_PRECONDITION,L_);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return qC(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new i_(r_.FAILED_PRECONDITION,BC)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qC(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=qC(e);return n.get("owner").next((function(e){return t.mi(e)?(Yw("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):j_.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Xw("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!P()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Yw("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Xw("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(tg){Xw("Failed to set zombie client id.",tg)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(tg){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return B_.C()}}]),e}();function qC(e){return eT(e,"owner")}function KC(e){return eT(e,"clientMetadata")}function GC(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var HC=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return p(e,null,[{key:"Ci",value:function(t,n){var r,i=LI(),a=LI(),o=v(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),WC=function(){function e(){h(this,e),this.xi=!1}return p(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(SE(t))return j_.resolve(null);var r=RE(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=OE(t,null,"F"),r=RE(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=LI.apply(void 0,ie(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,OE(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return SE(t)||r.isEqual(b_.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):($w()<=fe.DEBUG&&Yw("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ME(t)),i.Bi(e,o,t,R_(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new sE(jE(e));return t.forEach((function(t,r){FE(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return $w()<=fe.DEBUG&&Yw("QueryEngine","Using full collection scan to execute query:",ME(t)),this.Ni.getDocumentsMatchingQuery(e,t,O_.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),QC=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new aE(m_),this.Ui=new EI((function(e){return yE(e)}),gE),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return p(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TC(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function $C(e,t,n,r){return new QC(e,t,n,r)}function YC(e,t){return XC.apply(this,arguments)}function XC(){return XC=oe(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n_(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=LI(),s=v(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=v(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=v(n);try{for(p.s();!(d=p.n()).done;){var m=d.value;o.push(m.batchId);var y,g=v(m.mutations);try{for(g.s();!(y=g.n()).done;){var k=y.value;u=u.add(k.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),XC.apply(this,arguments)}function JC(e,t){var n=n_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=j_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);t_(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=LI(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ZC(e){var t=n_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function eN(e,t){var n=n_(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ox.EMPTY_BYTE_STRING,b_.min()).withLastLimboFreeSnapshotVersion(b_.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=SI(),s=LI();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(tN(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(b_.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return j_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.qi=i,e}))}function tN(e,t,n){var r=LI(),i=LI();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=SI();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(b_.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Yw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function nN(e,t){var n=n_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function rN(e,t){var n=n_(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,j_.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new iT(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function iN(e,t,n){return aN.apply(this,arguments)}function aN(){return aN=oe(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n_(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),K_(e.t1)){e.next=12;break}throw e.t1;case 12:Yw("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),aN.apply(this,arguments)}function oN(e,t,n){var r=n_(e),i=b_.min(),a=LI();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=n_(e),i=r.Ui.get(n);return void 0!==i?j_.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,RE(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:b_.min(),n?a:LI())})).next((function(e){return cN(r,UE(t),e),{documents:e,Hi:a}}))}))}function uN(e,t){var n=n_(e),r=n_(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function sN(e,t){var n=n_(e),r=n.Ki.get(t)||b_.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,R_(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return cN(n,t,e),e}))}function cN(e,t,n){var r=e.Ki.get(t)||b_.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function lN(e,t,n,r){return fN.apply(this,arguments)}function fN(){return fN=oe(ne().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n_(t),o=LI(),u=SI(),s=v(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(m){s.e(m)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,rN(a,function(e){return RE(IE(__.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return tN(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),fN.apply(this,arguments)}function hN(e,t){return dN.apply(this,arguments)}function dN(){return dN=oe(ne().mark((function e(t,n){var r,i,a,o=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:LI(),e.next=3,rN(t,RE(dT(n.bundledQuery)));case 3:return i=e.sent,a=n_(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=eS(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(ox.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function pN(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function vN(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function mN(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var yN=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return p(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new i_(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Xw("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),gN=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return p(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new i_(i.error.code,i.error.message))),a?new e(t,i.state,r):(Xw("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),kN=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return p(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=FI(),o=0;i&&o<r.activeTargetIds.length;++o)i=ax(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Xw("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),bN=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return p(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Xw("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),wN=function(){function e(){h(this,e),this.activeTargetIds=FI()}return p(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),_N=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new aE(m_),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=pN(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new wN),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return p(e,[{key:"start",value:function(){var e=oe(ne().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=v(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(pN(this.persistenceKey,i)))&&(o=kN.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=v(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(mN(this.persistenceKey,e));if(n){var r=gN.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(mN(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Yw("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Yw("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Yw("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Yw("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Xw("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(oe(ne().mark((function e(){var r,i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=X_.at;if(null!=e)try{var n=JSON.parse(e);t_("number"==typeof n),t=n}catch(e){Xw("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==X_.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new yN(this.currentUser,e,t,n),i=vN(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=vN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=mN(this.persistenceKey,e),i=new gN(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return kN.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yN.Zi(new Hw(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return gN.Zi(r,t)}},{key:"yr",value:function(e){return bN.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Yw("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=FI();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),xN=function(){function e(){h(this,e),this.Lr=new wN,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return p(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new wN,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),EN=function(){function e(){h(this,e)}return p(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),IN=function(){function e(){var t=this;h(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return p(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Yw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=v(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Yw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=v(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),SN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},TN=function(){function e(t){h(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return p(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),CN=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return p(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Kw;o.setWithCredentials(!0),o.listenOnce(jw.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Uw.NO_ERROR:var t=o.getResponseJson();Yw("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Uw.TIMEOUT:Yw("Connection",'RPC "'+e+'" timed out'),a(new i_(r_.DEADLINE_EXCEEDED,"Request time out"));break;case Uw.HTTP_ERROR:var n=o.getStatus();if(Yw("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(r_).indexOf(t)>=0?t:r_.UNKNOWN}(u.status);a(new i_(s,u.message))}else a(new i_(r_.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new i_(r_.UNAVAILABLE,"Connection failed."));break;default:e_()}}finally{Yw("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Mw(),a=Fw(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new zw({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Yw("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new TN({Hr:function(e){l?Yw("Connection","Not sending because WebChannel is closed:",e):(c||(Yw("Connection","Opening WebChannel transport."),s.open(),c=!0),Yw("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,qw.EventType.OPEN,(function(){l||Yw("Connection","WebChannel transport opened.")})),h(s,qw.EventType.CLOSE,(function(){l||(l=!0,Yw("Connection","WebChannel transport closed"),f.io())})),h(s,qw.EventType.ERROR,(function(e){l||(l=!0,Jw("Connection","WebChannel transport errored:",e),f.io(new i_(r_.UNAVAILABLE,"The operation could not be completed")))})),h(s,qw.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];t_(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Yw("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=yI[e];if(void 0!==t)return xI(t)}(a),u=i.message;void 0===o&&(o=r_.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new i_(o,u)),s.close()}else Yw("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Vw.STAT_EVENT,(function(e){e.stat===Bw.PROXY?Yw("Connection","Detected buffering proxy"):e.stat===Bw.NOPROXY&&Yw("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return p(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Yw("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Yw("RestConnection","Received: ",e),e}),(function(t){throw Jw("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ww,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=SN[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function NN(){return"undefined"!=typeof window?window:null}function AN(){return"undefined"!=typeof document?document:null}function RN(e){return new YI(e,!0)}var PN=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return p(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Yw("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),ON=function(){function e(t,n,r,i,a,o,u,s){h(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new PN(t,n)}return p(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===r_.RESOURCE_EXHAUSTED?(Xw(n.toString()),Xw("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===r_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new i_(r_.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(oe(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Yw("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Yw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),DN=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s}return p(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:e_()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(t_(void 0===t||"string"==typeof t),ox.fromBase64String(t||"")):(t_(void 0===t||t instanceof Uint8Array),ox.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?r_.UNKNOWN:xI(e.code);return new i_(t,e.message||"")}(o);n=new zI(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=iS(e,s.document.name),l=eS(s.document.updateTime),f=s.document.createTime?eS(s.document.createTime):b_.min(),h=new hE({mapValue:{fields:s.document.fields}}),d=pE.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new VI(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=iS(e,m.document),g=m.readTime?eS(m.readTime):b_.min(),k=pE.newNoDocument(y,g),b=m.removedTargetIds||[];n=new VI([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=iS(e,w.document),x=w.removedTargetIds||[];n=new VI([],x,_,null)}else{if(!("filter"in t))return e_();t.filter;var E=t.filter;E.targetId;var I=E.count||0,S=new wI(I),T=E.targetId;n=new BI(T,S)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return b_.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?b_.min():t.readTime?eS(t.readTime):b_.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=uS(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=kE(r)?{documents:pS(e,r)}:{query:vS(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=JI(e,t.resumeToken):t.snapshotVersion.compareTo(b_.min())>0&&(n.readTime=XI(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return e_()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=uS(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(ON),LN=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).yt=o,s.Jo=!1,s}return p(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Dt(k(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(t_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(t_(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?eS(e.updateTime):eS(t);return n.isEqual(b_.min())&&(n=eS(t)),new rI(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=eS(e.commitTime);return this.listener.Zo(n,t)}return t_(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=uS(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return hS(t.yt,e)}))};this.Bo(n)}}]),n}(ON),MN=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return p(n,[{key:"su",value:function(){if(this.nu)throw new i_(r_.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===r_.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new i_(r_.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],c=o[1];return i.connection._o(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===r_.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new i_(r_.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return p((function e(){h(this,e)}))}());var FN=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return p(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Xw(t),this.ou=!1):Yw("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),UN=p((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$N(o),!e.t0){e.next=5;break}return Yw("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=n_(t))._u.add(4),e.next=4,BN(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,jN(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new FN(r,i)}));function jN(e){return VN.apply(this,arguments)}function VN(){return VN=oe(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$N(t)){e.next=18;break}n=v(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),VN.apply(this,arguments)}function BN(e){return zN.apply(this,arguments)}function zN(){return zN=oe(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=v(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),zN.apply(this,arguments)}function qN(e,t){var n=n_(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),QN(n)?WN(n):EA(n).ko()&&GN(n,t))}function KN(e,t){var n=n_(e),r=EA(n);n.du.delete(t),r.ko()&&HN(n,t),0===n.du.size&&(r.ko()?r.Fo():$N(n)&&n.gu.set("Unknown"))}function GN(e,t){e.yu.Ot(t.targetId),EA(e).zo(t)}function HN(e,t){e.yu.Ot(t),EA(e).Ho(t)}function WN(e){e.yu=new KI({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),EA(e).start(),e.gu.uu()}function QN(e){return $N(e)&&!EA(e).No()&&e.du.size>0}function $N(e){return 0===n_(e)._u.size}function YN(e){e.yu=void 0}function XN(e){return JN.apply(this,arguments)}function JN(){return JN=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){GN(t,e)}));case 1:case"end":return e.stop()}}),e)}))),JN.apply(this,arguments)}function ZN(e,t){return eA.apply(this,arguments)}function eA(){return eA=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:YN(t),QN(t)?(t.gu.hu(n),WN(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(e,t,n){return nA.apply(this,arguments)}function nA(){return nA=oe(ne().mark((function e(t,n,r){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof zI&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=oe(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=v(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Yw("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,rA(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof VI?t.yu.Kt(n):n instanceof BI?t.yu.Jt(n):t.yu.jt(n),r.isEqual(b_.min())){e.next=29;break}return e.prev=14,e.next=17,ZC(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(ox.EMPTY_BYTE_STRING,n.snapshotVersion)),HN(e,t);var r=new iT(n.target,t,1,n.sequenceNumber);GN(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Yw("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,rA(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),nA.apply(this,arguments)}function rA(e,t,n){return iA.apply(this,arguments)}function iA(){return iA=oe(ne().mark((function e(t,n,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K_(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,BN(t);case 5:t.gu.set("Offline"),r||(r=function(){return ZC(t.localStore)}),t.asyncQueue.enqueueRetryable(oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yw("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,jN(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e,t){return t().catch((function(n){return rA(e,n,t)}))}function oA(e){return uA.apply(this,arguments)}function uA(){return uA=oe(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=n_(t),r=IA(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!sA(n)){e.next=19;break}return e.prev=3,e.next=6,nN(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,cA(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,rA(n,e.t0);case 17:e.next=2;break;case 19:lA(n)&&fA(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),uA.apply(this,arguments)}function sA(e){return $N(e)&&e.fu.length<10}function cA(e,t){e.fu.push(t);var n=IA(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function lA(e){return $N(e)&&!IA(e).No()&&e.fu.length>0}function fA(e){IA(e).start()}function hA(e){return dA.apply(this,arguments)}function dA(){return dA=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:IA(t).eu();case 1:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e){return vA.apply(this,arguments)}function vA(){return vA=oe(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=IA(t),r=v(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t,n){return yA.apply(this,arguments)}function yA(){return yA=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=nT.from(i,n,r),e.next=3,aA(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,oA(t);case 5:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t){return kA.apply(this,arguments)}function kA(){return kA=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&IA(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=oe(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_I(i=n.code)||i===r_.ABORTED){e.next=7;break}return r=t.fu.shift(),IA(t).Mo(),e.next=5,aA(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,oA(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:lA(t)&&fA(t);case 5:case"end":return e.stop()}}),e)}))),kA.apply(this,arguments)}function bA(e,t){return wA.apply(this,arguments)}function wA(){return wA=oe(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n_(t)).asyncQueue.verifyOperationInProgress(),Yw("RemoteStore","RemoteStore received new credentials"),i=$N(r),r._u.add(3),e.next=6,BN(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,jN(r);case 12:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function _A(e,t){return xA.apply(this,arguments)}function xA(){return xA=oe(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n_(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,jN(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,BN(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),xA.apply(this,arguments)}function EA(e){return e.pu||(e.pu=function(e,t,n){var r=n_(e);return r.su(),new DN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:XN.bind(null,e),Zr:ZN.bind(null,e),Wo:tA.bind(null,e)}),e.wu.push(function(){var t=oe(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),QN(e)?WN(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:YN(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function IA(e){return e.Iu||(e.Iu=function(e,t,n){var r=n_(e);return r.su(),new LN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:hA.bind(null,e),Zr:gA.bind(null,e),tu:pA.bind(null,e),Zo:mA.bind(null,e)}),e.wu.push(function(){var t=oe(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,oA(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Yw("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var SA=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new a_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return p(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new i_(r_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function TA(e,t){if(Xw("AsyncQueue","".concat(t,": ").concat(e)),K_(e))return new i_(r_.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var CA=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||I_.comparator(e.key,n.key)}:function(e,t){return I_.comparator(e.key,t.key)},this.keyedMap=CI(),this.sortedSet=new aE(this.comparator)}return p(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),NA=function(){function e(){h(this,e),this.Tu=new aE(I_.comparator)}return p(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):e_():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),AA=function(){function e(t,n,r,i,a,o,u,s,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return p(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&DE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,CA.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),RA=p((function e(){h(this,e),this.Au=void 0,this.listeners=[]})),PA=p((function e(){h(this,e),this.queries=new EI((function(e){return LE(e)}),DE),this.onlineState="Unknown",this.Ru=new Set}));function OA(e,t){return DA.apply(this,arguments)}function DA(){return DA=oe(ne().mark((function e(t,n){var r,i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n_(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new RA),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=TA(e.t0,"Initialization of query '".concat(ME(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&jA(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),DA.apply(this,arguments)}function LA(e,t){return MA.apply(this,arguments)}function MA(){return MA=oe(ne().mark((function e(t,n){var r,i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n_(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),MA.apply(this,arguments)}function FA(e,t){var n,r=n_(e),i=!1,a=v(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=v(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&jA(r)}function UA(e,t,n){var r=n_(e),i=r.queries.get(t);if(i){var a,o=v(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function jA(e){e.Ru.forEach((function(e){e.next()}))}var VA=function(){function e(t,n,r){h(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return p(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=v(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new AA(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=AA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),BA=function(){function e(t,n){h(this,e),this.ku=t,this.byteLength=n}return p(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),zA=function(){function e(t){h(this,e),this.yt=t}return p(e,[{key:"Ji",value:function(e){return iS(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?lS(this.yt,e.document,!1):pE.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return eS(e)}}]),e}(),qA=function(){function e(t,n,r){h(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KA(t)}return p(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=__.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new zA(this.yt),i=v(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=v(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||LI()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=oe(ne().mark((function e(){var t,n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lN(this.localStore,new zA(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=v(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,hN(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function KA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var GA=p((function e(t){h(this,e),this.key=t})),HA=p((function e(t){h(this,e),this.key=t})),WA=function(){function e(t,n){h(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=LI(),this.mutatedKeys=LI(),this.Gu=jE(t),this.Qu=new CA(this.Gu)}return p(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new NA,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=FE(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return e_()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new AA(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new NA,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=LI(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new HA(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new GA(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=LI();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return AA.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),QA=p((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),$A=p((function e(t){h(this,e),this.key=t,this.nc=!1})),YA=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new EI((function(e){return LE(e)}),DE),this.rc=new Map,this.oc=new Set,this.uc=new aE(I_.comparator),this.cc=new Map,this.ac=new AC,this.hc={},this.lc=new Map,this.fc=oC.vn(),this.onlineState="Unknown",this.dc=void 0}return p(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function XA(e,t){return JA.apply(this,arguments)}function JA(){return JA=oe(ne().mark((function e(t,n){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=KR(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,rN(r.localStore,RE(n));case 8:return u=e.sent,r.isPrimaryClient&&qN(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,ZA(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),JA.apply(this,arguments)}function ZA(e,t,n,r,i){return eR.apply(this,arguments)}function eR(){return eR=oe(ne().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=oe(ne().mark((function e(t,n,r,i){var a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,oN(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(bR(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,oN(t.localStore,n,!0);case 3:return o=e.sent,u=new WA(n,o.Hi),s=u.Wu(o.documents),c=jI.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),bR(t,r,l.Xu),f=new QA(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),eR.apply(this,arguments)}function tR(e,t){return nR.apply(this,arguments)}function nR(){return nR=oe(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n_(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!DE(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,iN(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),KN(r.remoteStore,i.targetId),gR(r,i.targetId)})).catch(F_);case 9:e.next=14;break;case 11:return gR(r,i.targetId),e.next=14,iN(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),nR.apply(this,arguments)}function rR(e,t,n){return iR.apply(this,arguments)}function iR(){return iR=oe(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=GR(t),e.prev=1,e.next=4,function(e,t){var n,r,i=n_(e),a=k_.now(),o=t.reduce((function(e,t){return e.add(t.key)}),LI());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=SI(),s=LI();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=v(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=lI(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new dI(c.key,l,dE(l.value.mapValue),iI.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:NI(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new aE(m_)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,xR(i,a.changes);case 9:return e.next=11,oA(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=TA(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),iR.apply(this,arguments)}function aR(e,t){return oR.apply(this,arguments)}function oR(){return oR=oe(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n_(t),e.prev=1,e.next=4,eN(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(t_(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?t_(n.nc):e.removedDocuments.size>0&&(t_(n.nc),n.nc=!1))})),e.next=8,xR(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,F_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),oR.apply(this,arguments)}function uR(e,t,n){var r=n_(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=n_(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=v(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&jA(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function sR(e,t,n){return cR.apply(this,arguments)}function cR(){return cR=oe(ne().mark((function e(t,n,r){var i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=n_(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new aE(I_.comparator)).insert(o,pE.newNoDocument(o,b_.min())),s=LI().add(o),c=new UI(b_.min(),new Map,new sE(m_),u,s),e.next=9,aR(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),_R(i),e.next=16;break;case 14:return e.next=16,iN(i.localStore,n,!1).then((function(){return gR(i,n,r)})).catch(F_);case 16:case"end":return e.stop()}}),e)}))),cR.apply(this,arguments)}function lR(e,t){return fR.apply(this,arguments)}function fR(){return fR=oe(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n_(t),i=n.batch.batchId,e.prev=1,e.next=4,JC(r.localStore,n);case 4:return a=e.sent,yR(r,i,null),mR(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,xR(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,F_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),fR.apply(this,arguments)}function hR(e,t,n){return dR.apply(this,arguments)}function dR(){return dR=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n_(t),e.prev=1,e.next=4,function(e,t){var n=n_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return t_(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,yR(i,n,r),mR(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,xR(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,F_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),dR.apply(this,arguments)}function pR(e,t){return vR.apply(this,arguments)}function vR(){return vR=oe(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $N((r=n_(t)).remoteStore)||Yw("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=n_(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=TA(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),vR.apply(this,arguments)}function mR(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function yR(e,t,n){var r=n_(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function gR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=v(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||kR(e,t)}))}function kR(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(KN(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),_R(e))}function bR(e,t,n){var r,i=v(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof GA?(e.ac.addReference(a.key,t),wR(e,a)):a instanceof HA?(Yw("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||kR(e,a.key)):e_()}}catch(o){i.e(o)}finally{i.f()}}function wR(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Yw("SyncEngine","New document in limbo: "+n),e.oc.add(r),_R(e))}function _R(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new I_(__.fromString(t)),r=e.fc.next();e.cc.set(r,new $A(n)),e.uc=e.uc.insert(n,r),qN(e.remoteStore,new iT(RE(IE(n.path)),r,2,X_.at))}}function xR(e,t,n){return ER.apply(this,arguments)}function ER(){return ER=oe(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n_(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=HC.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.Wo(a),e.next=9,function(){var e=oe(ne().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n_(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return j_.forEach(n,(function(t){return j_.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return j_.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),K_(e.t0)){e.next=10;break}throw e.t0;case 10:Yw("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=v(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ER.apply(this,arguments)}function IR(e,t){return SR.apply(this,arguments)}function SR(){return SR=oe(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n_(t)).currentUser.isEqual(n)){e.next=11;break}return Yw("SyncEngine","User change. New user:",n.toKey()),e.next=5,YC(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new i_(r_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,xR(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),SR.apply(this,arguments)}function TR(e,t){var n=n_(e),r=n.cc.get(t);if(r&&r.nc)return LI().add(r.key);var i=LI(),a=n.rc.get(t);if(!a)return i;var o,u=v(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function CR(e,t){return NR.apply(this,arguments)}function NR(){return NR=oe(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n_(t),e.next=3,oN(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&bR(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),NR.apply(this,arguments)}function AR(e,t){return RR.apply(this,arguments)}function RR(){return RR=oe(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n_(t),e.abrupt("return",sN(r.localStore,n).then((function(e){return xR(r,e)})));case 2:case"end":return e.stop()}}),e)}))),RR.apply(this,arguments)}function PR(e,t,n,r){return OR.apply(this,arguments)}function OR(){return OR=oe(ne().mark((function e(t,n,r,i){var a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n_(t),e.next=3,function(e,t){var n=n_(e),r=n_(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):j_.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,oA(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(yR(a,n,i||null),mR(a,n),function(e,t){n_(n_(e).mutationQueue).An(t)}(a.localStore,n)):e_();case 11:return e.next=13,xR(a,o);case 13:e.next=16;break;case 15:Yw("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),OR.apply(this,arguments)}function DR(e,t){return LR.apply(this,arguments)}function LR(){return LR=oe(ne().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(KR(r=n_(t)),GR(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,MR(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,_A(r.remoteStore,!0);case 9:o=v(a);try{for(o.s();!(u=o.n()).done;)s=u.value,qN(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return gR(r,t),iN(r.localStore,t,!0)})),KN(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,MR(r,c);case 21:return function(e){var t=n_(e);t.cc.forEach((function(e,n){KN(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new aE(I_.comparator)}(r),r.dc=!1,e.next=25,_A(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),LR.apply(this,arguments)}function MR(e,t,n){return FR.apply(this,arguments)}function FR(){return FR=oe(ne().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,m,y,g;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n_(t),a=[],o=[],u=v(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,rN(i.localStore,RE(f[0]));case 11:l=e.sent,h=v(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,m=i.ic.get(p),e.next=20,CR(i,m);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,uN(i.localStore,c);case 36:return g=e.sent,e.next=39,rN(i.localStore,g);case 39:return l=e.sent,e.next=42,ZA(i,UR(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),FR.apply(this,arguments)}function UR(e){return EE(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function jR(e){var t=n_(e);return n_(n_(t.localStore).persistence).vi()}function VR(e,t,n,r){return BR.apply(this,arguments)}function BR(){return BR=oe(ne().mark((function e(t,n,r,i){var a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n_(t)).dc){e.next=3;break}return e.abrupt("return",void Yw("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,sN(a.localStore,UE(o[0]));case 10:return u=e.sent,s=UI.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,ox.EMPTY_BYTE_STRING),e.next=14,xR(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,iN(a.localStore,n,!0);case 17:return gR(a,n,i),e.abrupt("break",20);case 19:e_();case 20:case"end":return e.stop()}}),e)}))),BR.apply(this,arguments)}function zR(e,t,n){return qR.apply(this,arguments)}function qR(){return qR=oe(ne().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=KR(t)).dc){e.next=45;break}a=v(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return Yw("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,uN(i.localStore,u);case 12:return s=e.sent,e.next=15,rN(i.localStore,s);case 15:return c=e.sent,e.next=18,ZA(i,UR(s),c.targetId,!1,c.resumeToken);case 18:qN(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=v(r),e.prev=30,h=ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,iN(i.localStore,t,!1).then((function(){KN(i.remoteStore,t),gR(i,t)})).catch(F_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),qR.apply(this,arguments)}function KR(e){var t=n_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sR.bind(null,t),t.sc.Wo=FA.bind(null,t.eventManager),t.sc.wc=UA.bind(null,t.eventManager),t}function GR(e){var t=n_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hR.bind(null,t),t}function HR(e,t,n){var r=n_(e);(function(){var e=oe(ne().mark((function e(t,n,r){var i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=n_(e),r=eS(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(KA(i)),a=new qA(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,xR(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=n_(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Jw("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var WR=function(){function e(){h(this,e),this.synchronizeTabs=!1}return p(e,[{key:"initialize",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=RN(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return $C(this.persistence,new WC,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new MC(UC.Bs,this.yt)}},{key:"gc",value:function(e){return new xN}},{key:"terminate",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),QR=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return p(n,[{key:"initialize",value:function(){var e=oe(ne().mark((function e(t){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,GR(this.Ac.syncEngine);case 6:return e.next=8,oA(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return $C(this.persistence,new WC,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new dC(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Y_(t,this.persistence);return new $_(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=GC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?JT.withCacheSize(this.cacheSizeBytes):JT.DEFAULT;return new zC(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,NN(),AN(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new xN}}]),n}(WR),$R=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return p(n,[{key:"initialize",value:function(){var e=oe(ne().mark((function e(t){var r,i=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof _N,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:PR.bind(null,r),$r:VR.bind(null,r),Br:zR.bind(null,r),vi:jR.bind(null,r),Mr:AR.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DR(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=NN();if(!_N.C(t))throw new i_(r_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=GC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _N(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(QR),YR=function(){function e(){h(this,e)}return p(e,[{key:"initialize",value:function(){var e=oe(ne().mark((function e(t,n){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return uR(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=IR.bind(null,this.syncEngine),e.next=12,_A(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new PA}},{key:"createDatastore",value:function(e){var t,n=RN(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new CN(t));return function(e,t,n,r){return new MN(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return uR(o.syncEngine,e,0)},a=IN.C()?new IN:new EN,new UN(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new YA(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=n_(t),Yw("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,BN(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function XR(e,t,n){if(!n)throw new i_(r_.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function JR(e,t,n,r){if(!0===t&&!0===r)throw new i_(r_.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ZR(e){if(!I_.isDocumentKey(e))throw new i_(r_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function eP(e){if(I_.isDocumentKey(e))throw new i_(r_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function tP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":e_()}function nP(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new i_(r_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=tP(e);throw new i_(r_.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function rP(e,t){if(t<=0)throw new i_(r_.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var iP=new Map,aP=function(){function e(t){var n;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new i_(r_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new i_(r_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,JR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return p(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),oP=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aP({}),this._settingsFrozen=!1}return p(e,[{key:"app",get:function(){if(!this._app)throw new i_(r_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new i_(r_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aP(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new u_;switch(e.type){case"gapi":var t=e.client;return new f_(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new i_(r_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=iP.get(e);t&&(Yw("ComponentProvider","Removing Datastore"),iP.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function uP(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=nP(e,oP))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Jw("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Hw.MOCK_USER;else{o=B(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new i_(r_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Hw(s)}e._authCredentials=new s_(new o_(o,u))}}var sP=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return p(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new lP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),cP=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return p(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),lP=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,IE(i)))._path=i,a.type="collection",a}return p(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new sP(this.firestore,null,new I_(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(cP);function fP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=te(e),XR("collection","path",t),e instanceof oP){var a=__.fromString.apply(__,[t].concat(r));return eP(a),new lP(e,null,a)}if(!(e instanceof sP||e instanceof lP))throw new i_(r_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(__.fromString.apply(__,[t].concat(r)));return eP(o),new lP(e.firestore,null,o)}function hP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=te(e),1===arguments.length&&(t=v_.R()),XR("doc","path",t),e instanceof oP){var a=__.fromString.apply(__,[t].concat(r));return ZR(a),new sP(e,null,new I_(a))}if(!(e instanceof sP||e instanceof lP))throw new i_(r_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(__.fromString.apply(__,[t].concat(r)));return ZR(o),new sP(e.firestore,e instanceof lP?e.converter:null,new I_(o))}function dP(e,t){return e=te(e),t=te(t),(e instanceof sP||e instanceof lP)&&(t instanceof sP||t instanceof lP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pP(e,t){return e=te(e),t=te(t),e instanceof cP&&t instanceof cP&&e.firestore===t.firestore&&DE(e._query,t._query)&&e.converter===t.converter}function vP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return oe(ne().mark((function r(){var i;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var mP=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return p(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Xw("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),yP=function(){function e(t,n){var r=this;h(this,e),this.Pc=t,this.yt=n,this.metadata=new a_,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return p(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=oe(ne().mark((function e(){var t,n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new BA(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=oe(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=oe(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gP=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return p(e,[{key:"lookup",value:function(){var e=oe(ne().mark((function e(t){var n,r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new i_(r_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=oe(ne().mark((function e(t,n){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n_(t),i=uS(r.yt)+"/documents",a={documents:n.map((function(e){return rS(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=fS(r.yt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());t_(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new kI(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=oe(ne().mark((function e(){var t,n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=I_.fromPath(t);n.mutations.push(new bI(r,n.precondition(r)))})),e.next=7,function(){var e=oe(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n_(t),i=uS(r.yt)+"/documents",a={writes:n.map((function(e){return hS(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw e_();t=b_.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new i_(r_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(b_.min())?iI.exists(!1):iI.updateTime(t):iI.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(b_.min()))throw new i_(r_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return iI.updateTime(t)}return iI.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),kP=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new PN(this.asyncQueue,"transaction_retry")}return p(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(oe(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new gP(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!rx(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!_I(t)}return!1}}]),e}(),bP=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hw.UNAUTHENTICATED,this.clientId=v_.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yw("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Yw("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return p(e,[{key:"getConfiguration",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new i_(r_.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new a_;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(oe(ne().mark((function n(){var r;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=TA(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function wP(e,t){return _P.apply(this,arguments)}function _P(){return _P=oe(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Yw("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,YC(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),_P.apply(this,arguments)}function xP(e,t){return EP.apply(this,arguments)}function EP(){return EP=oe(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,IP(t);case 3:return r=e.sent,Yw("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return bA(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return bA(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),EP.apply(this,arguments)}function IP(e){return SP.apply(this,arguments)}function SP(){return SP=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Yw("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,wP(t,new WR);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),SP.apply(this,arguments)}function TP(e){return CP.apply(this,arguments)}function CP(){return CP=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Yw("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,xP(t,new YR);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),CP.apply(this,arguments)}function NP(e){return IP(e).then((function(e){return e.persistence}))}function AP(e){return IP(e).then((function(e){return e.localStore}))}function RP(e){return TP(e).then((function(e){return e.remoteStore}))}function PP(e){return TP(e).then((function(e){return e.syncEngine}))}function OP(e){return TP(e).then((function(e){return e.datastore}))}function DP(e){return LP.apply(this,arguments)}function LP(){return LP=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TP(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=XA.bind(null,n.syncEngine),r.onUnlisten=tR.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),LP.apply(this,arguments)}function MP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new a_;return e.asyncQueue.enqueueAndForget(oe(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mP({next:function(a){t.enqueueAndForget((function(){return LA(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new i_(r_.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new i_(r_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new VA(IE(n.path),a,{includeMetadataChanges:!0,Nu:!0});return OA(e,o)},i.next=3,DP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function FP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new a_;return e.asyncQueue.enqueueAndForget(oe(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mP({next:function(n){t.enqueueAndForget((function(){return LA(e,o)})),n.fromCache&&"server"===r.source?i.reject(new i_(r_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new VA(n,a,{includeMetadataChanges:!0,Nu:!0});return OA(e,o)},i.next=3,DP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var UP=function(){function e(){var t=this;h(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new PN(this,"async_queue_retry"),this.Wc=function(){var e=AN();e&&Yw("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=AN();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return p(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=AN();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new a_;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=oe(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),K_(e.t0)){e.next=12;break}throw e.t0;case 12:Yw("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Xw("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=SA.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&e_()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=v(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=v(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function jP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=v(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var VP=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new a_,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return p(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),BP=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new UP,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return p(n,[{key:"_terminate",value:function(){return this._firestoreClient||qP(this),this._firestoreClient.terminate()}}]),n}(oP);function zP(e){return e._firestoreClient||qP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qP(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new J_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new bP(e._authCredentials,e._appCheckCredentials,e._queue,r)}function KP(e,t,n){var r=new a_;return e.asyncQueue.enqueue(oe(ne().mark((function i(){var a;return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wP(e,n);case 3:return i.next=5,xP(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===r_.FAILED_PRECONDITION||e.code===r_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Jw("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function GP(e){return function(e){return e.asyncQueue.enqueue(oe(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,NP(e);case 2:return n=t.sent,t.next=5,RP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=n_(e);return t._u.delete(0),jN(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(zP(e=nP(e,BP)))}function HP(e){return function(e){return e.asyncQueue.enqueue(oe(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,NP(e);case 2:return n=t.sent,t.next=5,RP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=n_(t))._u.add(0),e.next=4,BN(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(zP(e=nP(e,BP)))}function WP(e,t){var n=zP(e=nP(e,BP)),r=new VP;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new yP(e,t)}(function(e,t){if(e instanceof Uint8Array)return vP(e,t);if(e instanceof ArrayBuffer)return vP(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,RN(t));e.asyncQueue.enqueueAndForget(oe(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=HR,t.next=3,PP(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function QP(e,t){return function(e,t){return e.asyncQueue.enqueue(oe(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=n_(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,AP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(zP(e=nP(e,BP)),t).then((function(t){return t?new cP(e,null,t.query):null}))}function $P(e){if(e._initialized||e._terminated)throw new i_(r_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var YP=function(){function e(t){h(this,e),this._byteString=t}return p(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ox.fromBase64String(t))}catch(t){throw new i_(r_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ox.fromUint8Array(t))}}]),e}(),XP=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new i_(r_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new E_(n)}return p(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var JP=p((function e(t){h(this,e),this._methodName=t})),ZP=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new i_(r_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new i_(r_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return p(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return m_(this._lat,e._lat)||m_(this._long,e._long)}}]),e}(),eO=/^__.*__$/,tO=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new dI(e,this.data,this.fieldMask,t,this.fieldTransforms):new hI(e,this.data,t,this.fieldTransforms)}}]),e}(),nO=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return new dI(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function rO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw e_()}}var iO=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return p(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return EO(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(rO(this.sa)&&eO.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),aO=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||RN(t)}return p(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new iO({sa:e,methodName:t,fa:n,path:E_.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function oO(e){var t=e._freezeSettings(),n=RN(e._databaseId);return new aO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uO(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);bO("Data must be an object, but it was:",o,r);var u,s,c=gO(r,o);if(a.merge)u=new fE(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=v(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=wO(t,d,n);if(!o.contains(p))throw new i_(r_.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));IO(f,p)||f.push(p)}}catch(m){h.e(m)}finally{h.f()}u=new fE(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new tO(new hE(c),u,s)}var sO=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JP);function cO(e,t,n){return new iO({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var lO=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){return new nI(e.path,new QE)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JP),fO=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e))._a=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=cO(this,e,!0),n=this._a.map((function(e){return yO(e,t)})),r=new $E(n);return new nI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JP),hO=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e))._a=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=cO(this,e,!0),n=this._a.map((function(e){return yO(e,t)})),r=new XE(n);return new nI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JP),dO=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).wa=r,i}return p(n,[{key:"_toFieldTransform",value:function(e){var t=new ZE(e.yt,qE(e.yt,this.wa));return new nI(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JP);function pO(e,t,n,r){var i=e.da(1,t,n);bO("Data must be an object, but it was:",i,r);var a=[],o=hE.empty();tx(r,(function(e,r){var u=xO(t,e,n);r=te(r);var s=i.ca(u);if(r instanceof sO)a.push(u);else{var c=yO(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new fE(a);return new nO(o,u,i.fieldTransforms)}function vO(e,t,n,r,i,a){var o=e.da(1,t,n),u=[wO(t,r,n)],s=[i];if(a.length%2!=0)throw new i_(r_.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(wO(t,a[c])),s.push(a[c+1]);for(var l=[],f=hE.empty(),h=u.length-1;h>=0;--h)if(!IO(l,u[h])){var d=u[h],p=s[h];p=te(p);var v=o.ca(d);if(p instanceof sO)l.push(d);else{var m=yO(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new fE(l);return new nO(f,y,o.fieldTransforms)}function mO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return yO(n,e.da(r?4:3,t))}function yO(e,t){if(kO(e=te(e)))return bO("Unsupported field value:",t,e),gO(e,t);if(e instanceof JP)return function(e,t){if(!rO(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=v(e);try{for(a.s();!(n=a.n()).done;){var o=yO(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=te(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return qE(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=k_.fromDate(e);return{timestampValue:XI(t.yt,n)}}if(e instanceof k_){var r=new k_(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:XI(t.yt,r)}}if(e instanceof ZP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof YP)return{bytesValue:JI(t.yt,e._byteString)};if(e instanceof sP){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:tS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(tP(e)))}(e,t)}function gO(e,t){var n={};return nx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tx(e,(function(e,r){var i=yO(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function kO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof k_||e instanceof ZP||e instanceof YP||e instanceof sP||e instanceof JP)}function bO(e,t,n){if(!kO(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=tP(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function wO(e,t,n){if((t=te(t))instanceof XP)return t._internalPath;if("string"==typeof t)return xO(e,t);throw EO("Field path arguments must be of type string or ",e,!1,void 0,n)}var _O=new RegExp("[~\\*/\\[\\]]");function xO(e,t,n){if(t.search(_O)>=0)throw EO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return x(XP,ie(t.split(".")))._internalPath}catch(r){throw EO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function EO(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new i_(r_.INVALID_ARGUMENT,u+e+s)}function IO(e,t){return e.some((function(e){return e.isEqual(t)}))}var SO=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return p(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new sP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new TO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(CO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),TO=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){return Dt(k(n.prototype),"data",this).call(this)}}]),n}(SO);function CO(e,t){return"string"==typeof t?xO(e,t):t instanceof XP?t._internalPath:t._delegate._internalPath}function NO(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new i_(r_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var AO=p((function e(){h(this,e)})),RO=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n)}(AO);function PO(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof AO&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof DO})).length,n=e.filter((function(e){return e instanceof OO})).length;if(t>1||t>0&&n>0)throw new i_(r_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=v(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var OO=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return p(n,[{key:"_apply",value:function(e){var t=this._parse(e);return HO(e._query,t),new cP(e.firestore,e.converter,PE(e._query,t))}},{key:"_parse",value:function(e){var t=oO(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new i_(r_.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){GO(o,a);var s,c=[],l=v(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(KO(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=KO(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||GO(o,a),u=mO(n,"where",o,"in"===a||"not-in"===a);return jx.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(RO);var DO=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return p(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Vx.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=v(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;HO(r,a),r=PE(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new cP(e.firestore,e.converter,PE(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(AO);var LO=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return p(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new i_(r_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new i_(r_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new rE(t,n);return function(e,t){if(null===TE(e)){var n=CE(e);null!==n&&WO(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new cP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new xE(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(RO);var MO=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return p(n,[{key:"_apply",value:function(e){return new cP(e.firestore,e.converter,OE(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(RO);var FO=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return p(n,[{key:"_apply",value:function(e){var t=qO(e,this.type,this._docOrFields,this._inclusive);return new cP(e.firestore,e.converter,function(e,t){return new xE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(RO);function UO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return FO._create("startAt",t,!0)}function jO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return FO._create("startAfter",t,!1)}var VO=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return p(n,[{key:"_apply",value:function(e){var t=qO(e,this.type,this._docOrFields,this._inclusive);return new cP(e.firestore,e.converter,function(e,t){return new xE(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(RO);function BO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return VO._create("endBefore",t,!1)}function zO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return VO._create("endAt",t,!0)}function qO(e,t,n,r){if(n[0]=te(n[0]),n[0]instanceof SO)return function(e,t,n,r,i){if(!r)throw new i_(r_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=v(AE(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(xx(t,r.key));else{var c=r.data.field(s.field);if(fx(c))throw new i_(r_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new i_(r_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Lx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=oO(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new i_(r_.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new i_(r_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!NE(e)&&-1!==c.indexOf("/"))throw new i_(r_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(__.fromString(c));if(!I_.isDocumentKey(l))throw new i_(r_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new I_(l);u.push(xx(t,f))}else{var h=mO(n,r,c);u.push(h)}}return new Lx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function KO(e,t,n){if("string"==typeof(n=te(n))){if(""===n)throw new i_(r_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NE(t)&&-1!==n.indexOf("/"))throw new i_(r_.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(__.fromString(n));if(!I_.isDocumentKey(r))throw new i_(r_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return xx(e,new I_(r))}if(n instanceof sP)return xx(e,n._key);throw new i_(r_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(tP(n),"."))}function GO(e,t){if(!Array.isArray(e)||0===e.length)throw new i_(r_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new i_(r_.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function HO(e,t){if(t.isInequality()){var n=CE(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new i_(r_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=TE(e);null!==i&&WO(e,r,i)}var a=function(e,t){var n,r=v(e);try{for(r.s();!(n=r.n()).done;){var i,a=v(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new i_(r_.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new i_(r_.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function WO(e,t,n){if(!n.isEqual(t))throw new i_(r_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var QO=function(){function e(){h(this,e)}return p(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(mx(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cx(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lx(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw e_()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return tx(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ZP(cx(e.latitude),cx(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=hx(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(dx(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=sx(e);return new k_(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=__.fromString(e);t_(IS(n));var r=new Z_(n.get(1),n.get(3)),i=new I_(n.popFirst(5));return r.isEqual(t)||Xw("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function $O(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var YO=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new YP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new sP(this.firestore,null,t)}}]),n}(QO),XO=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return p(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),JO=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return p(n,[{key:"exists",value:function(){return Dt(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ZO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(CO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(SO),ZO=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Dt(k(n.prototype),"data",this).call(this,e)}}]),n}(JO),eD=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new XO(i.hasPendingWrites,i.fromCache),this.query=r}return p(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ZO(n._firestore,n._userDataWriter,r.key,r,new XO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new i_(r_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ZO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ZO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:tD(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function tD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return e_()}}function nD(e,t){return e instanceof JO&&t instanceof JO?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof eD&&t instanceof eD&&e._firestore===t._firestore&&pP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var rD=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new YP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new sP(this.firestore,null,t)}}]),n}(QO);function iD(e){e=nP(e,sP);var t=nP(e.firestore,BP),n=zP(t),r=new rD(t);return function(e,t){var n=new a_;return e.asyncQueue.enqueueAndForget(oe(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=oe(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=n_(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new i_(r_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=TA(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,AP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new JO(t,r,e._key,n,new XO(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function aD(e){e=nP(e,cP);var t=nP(e.firestore,BP),n=zP(t),r=new rD(t);return function(e,t){var n=new a_;return e.asyncQueue.enqueueAndForget(oe(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=oe(ne().mark((function e(t,n,r){var i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oN(t,n,!0);case 3:i=e.sent,a=new WA(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=TA(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,AP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new eD(t,r,e,n)}))}function oD(e,t,n){e=nP(e,sP);var r=nP(e.firestore,BP),i=$O(e.converter,t,n);return lD(r,[uO(oO(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,iI.none())])}function uD(e,t,n){e=nP(e,sP);for(var r=nP(e.firestore,BP),i=oO(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return lD(r,[("string"==typeof(t=te(t))||t instanceof XP?vO(i,"updateDoc",e._key,t,n,o):pO(i,"updateDoc",e._key,t)).toMutation(e._key,iI.exists(!0))])}function sD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=te(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||jP(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(jP(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof sP)l=nP(e.firestore,BP),f=IE(e._key.path),c={next:function(t){n[s]&&n[s](fD(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=nP(e,cP);l=nP(p.firestore,BP),f=p._query;var v=new rD(l);c={next:function(e){n[s]&&n[s](new eD(l,v,p,e))},error:n[s+1],complete:n[s+2]},NO(e._query)}return function(e,t,n,r){var i=new mP(r),a=new VA(t,i,n);return e.asyncQueue.enqueueAndForget(oe(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=OA,t.next=3,DP(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(oe(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=LA,t.next=3,DP(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zP(l),f,h,c)}function cD(e,t){return function(e,t){var n=new mP(t);return e.asyncQueue.enqueueAndForget(oe(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){n_(e).Ru.add(t),t.next()},t.next=3,DP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(oe(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){n_(e).Ru.delete(t)},t.next=3,DP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zP(e=nP(e,BP)),jP(t)?t:{next:t})}function lD(e,t){return function(e,t){var n=new a_;return e.asyncQueue.enqueueAndForget(oe(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=rR,r.next=3,PP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(zP(e),t)}function fD(e,t,n){var r=n.docs.get(t._key),i=new rD(e);return new JO(e,i,t._key,r,new XO(n.hasPendingWrites,n.fromCache),t.converter)}var hD={maxAttempts:5},dD=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=oO(t)}return p(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=pD(e,this._firestore),i=$O(r.converter,t,n),a=uO(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,iI.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=pD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=te(t))||t instanceof XP?vO(this._dataReader,"WriteBatch.update",i._key,t,n,o):pO(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,iI.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=pD(e,this._firestore);return this._mutations=this._mutations.concat(new kI(t._key,iI.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new i_(r_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function pD(e,t){if((e=te(e)).firestore!==t)throw new i_(r_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var vD=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return p(n,[{key:"get",value:function(e){var t=this,r=pD(e,this._firestore),i=new rD(this._firestore);return Dt(k(n.prototype),"get",this).call(this,e).then((function(e){return new JO(t._firestore,i,r._key,e._document,new XO(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=oO(t)}return p(e,[{key:"get",value:function(e){var t=this,n=pD(e,this._firestore),r=new YO(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return e_();var i=e[0];if(i.isFoundDocument())return new SO(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new SO(t._firestore,r,n._key,null,n.converter);throw e_()}))}},{key:"set",value:function(e,t,n){var r=pD(e,this._firestore),i=$O(r.converter,t,n),a=uO(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=pD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=te(t))||t instanceof XP?vO(this._dataReader,"Transaction.update",i._key,t,n,o):pO(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=pD(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function mD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new fO("arrayUnion",t)}function yD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hO("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ww=e}(nt),$e(new ue("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new BP(new c_(e.getProvider("auth-internal")),new d_(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new i_(r_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Z_(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),st(Gw,"3.8.0",e),st(Gw,"3.8.0","esm2017")}();function gD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new i_("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function kD(){if("undefined"===typeof Uint8Array)throw new i_("unimplemented","Uint8Arrays are not available in this environment.")}function bD(){if("undefined"==typeof atob)throw new i_("unimplemented","Blobs are unavailable in Firestore in this environment.")}var wD=function(){function e(t){h(this,e),this._delegate=t}return p(e,[{key:"toBase64",value:function(){return bD(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return kD(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return bD(),new e(YP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return kD(),new e(YP.fromUint8Array(t))}}]),e}();function _D(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=v(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var xD=function(){function e(){h(this,e)}return p(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){$P(e=nP(e,BP));var n=zP(e),r=e._freezeSettings(),i=new YR;return KP(n,i,new QR(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){$P(e=nP(e,BP));var t=zP(e),n=e._freezeSettings(),r=new YR;return KP(t,r,new $R(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new i_(r_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new a_;return e._queue.enqueueAndForgetEvenWhileRestricted(oe(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B_.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,B_.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(GC(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),ED=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Z_||(this._appCompat=t)}return p(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Jw("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};uP(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return GP(this._delegate)}},{key:"disableNetwork",value:function(){return HP(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&JR("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new a_;return e.asyncQueue.enqueueAndForget(oe(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=pR,n.next=3,PP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(zP(e=nP(e,BP)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return cD(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new i_("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new UD(this,fP(this._delegate,e))}catch(t){throw AD(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new ND(this,hP(this._delegate,e))}catch(t){throw AD(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new LD(this,function(e,t){if(e=nP(e,oP),XR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new i_(r_.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new cP(e,null,function(e){return new xE(__.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw AD(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=nP(e,BP);var r=Object.assign(Object.assign({},hD),n);return function(e){if(e.maxAttempts<1)throw new i_(r_.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new a_;return e.asyncQueue.enqueueAndForget(oe(ne().mark((function i(){var a;return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,OP(e);case 2:a=i.sent,new kP(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(zP(e),(function(n){return t(new vD(e,n))}),r)}(this._delegate,(function(n){return e(new SD(t,n))}))}},{key:"batch",value:function(){var e=this;return zP(this._delegate),new TD(new dD(this._delegate,(function(t){return lD(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return WP(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return QP(this._delegate,e).then((function(e){return e?new LD(t,e):null}))}}]),e}(),ID=function(e){g(n,e);var t=_(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new wD(new YP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ND.forKey(t,this.firestore,null)}}]),n}(QO);var SD=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ID(t)}return p(e,[{key:"get",value:function(e){var t=this,n=jD(e);return this._delegate.get(n).then((function(e){return new OD(t._firestore,new JO(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=jD(e);return n?(gD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=jD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=jD(e);return this._delegate.delete(t),this}}]),e}(),TD=function(){function e(t){h(this,e),this._delegate=t}return p(e,[{key:"set",value:function(e,t,n){var r=jD(e);return n?(gD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=jD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=jD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),CD=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return p(e,[{key:"fromFirestore",value:function(e,t){var n=new ZO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new DD(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ID(t),n),i.set(n,a)),a}}]),e}();CD.INSTANCES=new WeakMap;var ND=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ID(t)}return p(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new UD(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new UD(this.firestore,fP(this._delegate,e))}catch(t){throw AD(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=te(e))instanceof sP&&dP(this._delegate,e)}},{key:"set",value:function(e,t){t=gD("DocumentReference.set",t);try{return t?oD(this._delegate,e,t):oD(this._delegate,e)}catch(n){throw AD(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?uD(this._delegate,e):uD.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw AD(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return lD(nP(e.firestore,BP),[new kI(e._key,iI.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=RD(n),a=PD(n,(function(t){return new OD(e.firestore,new JO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return sD(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?iD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=nP(e,sP);var t=nP(e.firestore,BP);return MP(zP(t),e._key,{source:"server"}).then((function(n){return fD(t,e,n)}))}(this._delegate):function(e){e=nP(e,sP);var t=nP(e.firestore,BP);return MP(zP(t),e._key).then((function(n){return fD(t,e,n)}))}(this._delegate),t.then((function(e){return new OD(n.firestore,new JO(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(CD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new i_("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new sP(n._delegate,r,new I_(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new sP(n._delegate,r,t))}}]),e}();function AD(e,t,n){return e.message=e.message.replace(t,n),e}function RD(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!_D(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function PD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=_D(e[0])?e[0]:_D(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var OD=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"ref",get:function(){return new ND(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return nD(this._delegate,e._delegate)}}]),e}(),DD=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||e_()}(void 0!==t),t}}]),n}(OD),LD=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ID(t)}return p(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,PO(this._delegate,function(e,t,n){var r=t,i=CO("where",e);return OO._create(i,r,n)}(t,n,r)))}catch(i){throw AD(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,PO(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=CO("orderBy",e);return LO._create(r,n)}(t,n)))}catch(r){throw AD(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,PO(this._delegate,function(e){return rP("limit",e),MO._create("limit",e,"F")}(t)))}catch(n){throw AD(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,PO(this._delegate,function(e){return rP("limitToLast",e),MO._create("limitToLast",e,"L")}(t)))}catch(n){throw AD(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,PO(this._delegate,UO.apply(void 0,arguments)))}catch(t){throw AD(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,PO(this._delegate,jO.apply(void 0,arguments)))}catch(t){throw AD(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,PO(this._delegate,BO.apply(void 0,arguments)))}catch(t){throw AD(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,PO(this._delegate,zO.apply(void 0,arguments)))}catch(t){throw AD(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return pP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?aD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=nP(e,cP);var t=nP(e.firestore,BP),n=zP(t),r=new rD(t);return FP(n,e._query,{source:"server"}).then((function(n){return new eD(t,r,e,n)}))}(this._delegate):function(e){e=nP(e,cP);var t=nP(e.firestore,BP),n=zP(t),r=new rD(t);return NO(e._query),FP(n,e._query).then((function(n){return new eD(t,r,e,n)}))}(this._delegate),t.then((function(e){return new FD(n.firestore,new eD(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=RD(n),a=PD(n,(function(t){return new FD(e.firestore,new eD(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return sD(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(CD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),MD=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new DD(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),FD=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return p(e,[{key:"query",get:function(){return new LD(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new DD(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new MD(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new DD(n._firestore,r))}))}},{key:"isEqual",value:function(e){return nD(this._delegate,e._delegate)}}]),e}(),UD=function(e){g(n,e);var t=_(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return p(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new ND(this.firestore,e):null}},{key:"doc",value:function(e){try{return new ND(this.firestore,void 0===e?hP(this._delegate):hP(this._delegate,e))}catch(t){throw AD(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=nP(e.firestore,BP),r=hP(e),i=$O(e.converter,t);return lD(n,[uO(oO(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,iI.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ND(t.firestore,e)}))}},{key:"isEqual",value:function(e){return dP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(CD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(LD);function jD(e){return nP(e,sP)}var VD,BD=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=x(XP,n)}return p(e,[{key:"isEqual",value:function(e){return(e=te(e))instanceof XP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(E_.keyField().canonicalString())}}]),e}(),zD=function(){function e(t){h(this,e),this._delegate=t}return p(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new lO("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new sO("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=mD.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=yD.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new dO("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),qD={Firestore:ED,GeoPoint:ZP,Timestamp:k_,Blob:wD,Transaction:SD,WriteBatch:TD,DocumentReference:ND,DocumentSnapshot:OD,Query:LD,QueryDocumentSnapshot:DD,QuerySnapshot:FD,CollectionReference:UD,FieldPath:BD,FieldValue:zD,setLogLevel:function(e){!function(e){Qw.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function KD(e){var t=e.children,n=e.className,r=e.content,i=sc(n,"description"),a=gc(KD,e),o=kc(KD,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}(function(e,t){e.INTERNAL.registerComponent(new ue("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},qD)))})(VD=Pt,(function(e,t){return new ED(e,t,new xD)})),VD.registerVersion("@firebase/firestore-compat","0.3.0"),KD.handledProps=["as","children","className","content"],KD.propTypes={},KD.create=yd(KD,(function(e){return{content:e}}));var GD=KD;function HD(e){var t=e.children,n=e.className,r=e.content,i=sc("header",n),a=gc(HD,e),o=kc(HD,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}HD.handledProps=["as","children","className","content"],HD.propTypes={},HD.create=yd(HD,(function(e){return{content:e}}));var WD=HD;function QD(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.floated,o=e.header,u=e.verticalAlign,c=sc(hc(a,"floated"),mc(u),"content",n),l=gc(QD,e),f=kc(QD,e);return Gh(t)?s.createElement(f,Qu({},l,{className:c}),WD.create(o),GD.create(i),r):s.createElement(f,Qu({},l,{className:c}),t)}QD.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],QD.propTypes={},QD.create=yd(QD,(function(e){return{content:e}}));var $D=QD;function YD(e){var t=e.className,n=e.verticalAlign,r=sc(mc(n),t),i=gc(YD,e);return s.createElement(tv,Qu({},i,{className:r}))}YD.handledProps=["className","verticalAlign"],YD.propTypes={},YD.create=yd(YD,(function(e){return{name:e}}));var XD=YD,JD=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||Kd(t.props,"onClick",e,t.props)},t}return Gu(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.description,u=e.disabled,c=e.header,l=e.icon,f=e.image,h=e.value,d=kc(t,this.props),p=sc(fc(n,"active"),fc(u,"disabled"),fc("li"!==d,"item"),i),v=gc(t,this.props),m="li"===d?{value:h}:{"data-value":h};if(!Gh(r))return s.createElement(d,Qu({},m,{role:"listitem",className:p,onClick:this.handleClick},v),r);var y=XD.create(l,{autoGenerateKey:!1}),g=dy.create(f,{autoGenerateKey:!1});if(!(0,s.isValidElement)(a)&&fd(a))return s.createElement(d,Qu({},m,{role:"listitem",className:p,onClick:this.handleClick},v),y||g,$D.create(a,{autoGenerateKey:!1,defaultProps:{header:c,description:o}}));var k=WD.create(c,{autoGenerateKey:!1}),b=GD.create(o,{autoGenerateKey:!1});return y||g?s.createElement(d,Qu({},m,{role:"listitem",className:p,onClick:this.handleClick},v),y||g,(a||k||b)&&s.createElement($D,null,k,b,a)):s.createElement(d,Qu({},m,{role:"listitem",className:p,onClick:this.handleClick},v),k,b,a)},t}(s.Component);JD.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],JD.propTypes={},JD.create=yd(JD,(function(e){return{content:e}}));var ZD=JD;function eL(e){var t=e.children,n=e.className,r=e.content,i=gc(eL,e),a=kc(eL,e),o=sc(fc("ul"!==a&&"ol"!==a,"list"),n);return s.createElement(a,Qu({},i,{className:o}),Gh(t)?r:t)}eL.handledProps=["as","children","className","content"],eL.propTypes={};var tL=eL,nL=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){Kd(e,"onClick",n,r),Kd(t.props,"onItemClick",n,r)}}},t}return Gu(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.animated,i=n.bulleted,a=n.celled,o=n.children,u=n.className,c=n.content,l=n.divided,f=n.floated,h=n.horizontal,d=n.inverted,p=n.items,v=n.link,m=n.ordered,y=n.relaxed,g=n.selection,k=n.size,b=n.verticalAlign,w=sc("ui",k,fc(r,"animated"),fc(i,"bulleted"),fc(a,"celled"),fc(l,"divided"),fc(h,"horizontal"),fc(d,"inverted"),fc(v,"link"),fc(m,"ordered"),fc(g,"selection"),dc(y,"relaxed"),hc(f,"floated"),mc(b),"list",u),_=gc(t,this.props),x=kc(t,this.props);return Gh(o)?Gh(c)?s.createElement(x,Qu({role:"list",className:w},_),Nd(p,(function(t){return ZD.create(t,{overrideProps:e.handleItemOverrides})}))):s.createElement(x,Qu({role:"list",className:w},_),c):s.createElement(x,Qu({role:"list",className:w},_),o)},t}(s.Component);nL.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],nL.propTypes={},nL.Content=$D,nL.Description=GD,nL.Header=WD,nL.Icon=XD,nL.Item=ZD,nL.List=tL;var rL=nL;var iL=function(){var e=Xs();return(0,jy.jsxs)(rL,{animated:!0,selection:!0,children:[" ",[{name:"\u6211\u7684\u6587\u7ae0",path:"/my/posts"},{name:"\u6211\u7684\u6536\u85cf",path:"/my/collections"},{name:"\u6703\u54e1\u8cc7\u6599",path:"/my/settings"}].map((function(t){return(0,jy.jsx)(rL.Item,{as:ic,to:t.path,active:t.path===e.pathname,children:(0,jy.jsx)("h2",{children:t.name})},t.name)}))]})};var aL=function(){var e=Xs(),t=new URLSearchParams(e.search).get("topic"),n=u(s.useState([]),2),r=n[0],i=n[1];return s.useEffect((function(){Ku.firestore().collection("topics").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));i(t)}))}),[]),(0,jy.jsxs)(rL,{animated:!0,selection:!0,children:[" ",r.map((function(e){return(0,jy.jsx)(rL.Item,{as:ic,to:"/posts?topic=".concat(e.name),active:t===e.name,children:(0,jy.jsx)("h2",{children:e.name})},e.name)}))]})};var oL=function(e,t,n){"__proto__"==t&&Ud?Ud(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},uL=Object.prototype.hasOwnProperty;var sL=function(e,t,n){var r=e[t];uL.call(e,t)&&_c(r,n)&&(void 0!==n||t in e)||oL(e,t,n)};var cL=function(e,t,n,r){if(!Qc(e))return e;for(var i=-1,a=(t=Sh(t,e)).length,o=a-1,u=e;null!=u&&++i<a;){var s=Th(t[i]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=o){var l=u[s];void 0===(c=r?r(l,s,u):void 0)&&(c=Qc(l)?l:pf(t[i+1])?[]:{})}sL(u,s,c),u=u[s]}return e};var lL=function(e,t,n){return null==e?e:cL(e,t,n)},fL=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).inputRef=(0,s.createRef)(),t.labelRef=(0,s.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,i=e.readOnly,a=t.state.checked;return!n&&!i&&!(r&&a)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return vd(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,r=t.state,i=r.checked,a=r.indeterminate,o=Kd(t.inputRef.current,"contains",e.target),u=Kd(t.labelRef.current,"contains",e.target),s=!u&&!o,c=!vd(n);u&&c||Kd(t.props,"onClick",e,Qu({},t.props,{checked:!i,indeterminate:!!a})),t.isClickFromMouse&&(t.isClickFromMouse=!1,u&&!c&&t.handleChange(e),s&&t.handleChange(e),u&&c&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(Kd(t.props,"onChange",e,Qu({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,r=n.checked,i=n.indeterminate;Kd(t.props,"onMouseDown",e,Qu({},t.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||Kd(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,r=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,Kd(t.props,"onMouseUp",e,Qu({},t.props,{checked:!!r,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;lL(t.inputRef,"current.indeterminate",!!e)},t}Gu(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,r=e.disabled,i=e.label,a=e.id,o=e.name,u=e.radio,c=e.readOnly,l=e.slider,f=e.toggle,h=e.type,d=e.value,p=this.state,v=p.checked,m=p.indeterminate,y=sc("ui",fc(v,"checked"),fc(r,"disabled"),fc(m,"indeterminate"),fc(vd(i),"fitted"),fc(u,"radio"),fc(c,"read-only"),fc(l,"slider"),fc(f,"toggle"),"checkbox",n),g=gc(t,this.props),k=kc(t,this.props),b=Gm(g,{htmlProps:zm}),w=b[0],_=b[1],x=bd(i,{defaultProps:{htmlFor:a},autoGenerateKey:!1})||s.createElement("label",{htmlFor:a});return s.createElement(k,Qu({},_,{className:y,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),s.createElement(Zm,{innerRef:this.inputRef},s.createElement("input",Qu({},w,{checked:v,className:"hidden",disabled:r,id:a,name:o,readOnly:!0,tabIndex:this.computeTabIndex(),type:h,value:d}))),s.createElement(Zm,{innerRef:this.labelRef},x))},t}(Wd);function hL(e){var t=e.slider,n=e.toggle,r=e.type,i=gc(hL,e),a=!(t||n)||void 0;return s.createElement(fL,Qu({},i,{type:r,radio:a,slider:t,toggle:n}))}fL.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],fL.propTypes={},fL.defaultProps={type:"checkbox"},fL.autoControlledProps=["checked","indeterminate"],hL.handledProps=["slider","toggle","type"],hL.propTypes={},hL.defaultProps={type:"radio"};var dL=hL;function pL(e){var t=e.children,n=e.className,r=e.content,i=e.control,a=e.disabled,o=e.error,u=e.inline,c=e.label,l=e.required,f=e.type,h=e.width,d=e.id,p=sc(fc(a,"disabled"),fc(o,"error"),fc(u,"inline"),fc(l,"required"),yc(h,"wide"),"field",n),v=gc(pL,e),m=kc(pL,e),y=Nh(o,"pointing","above"),g=gy.create(o,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:y,id:d?d+"-error-message":void 0,role:"alert","aria-atomic":!0}}),k=("below"===y||"right"===y)&&g,b=("above"===y||"left"===y)&&g;if(vd(i))return vd(c)?s.createElement(m,Qu({},v,{className:p,id:d}),Gh(t)?r:t):s.createElement(m,Qu({},v,{className:p,id:d}),k,bd(c,{autoGenerateKey:!1}),b);var w={"aria-describedby":d&&o?d+"-error-message":null,"aria-invalid":!!o||void 0},_=Qu({},v,{content:r,children:t,disabled:a,required:l,type:f,id:d});return"input"!==i||"checkbox"!==f&&"radio"!==f?i===fL||i===dL?s.createElement(m,{className:p},k,(0,s.createElement)(i,Qu({},w,_,{label:c})),b):s.createElement(m,{className:p},bd(c,{defaultProps:{htmlFor:d},autoGenerateKey:!1}),k,(0,s.createElement)(i,Qu({},w,_)),b):s.createElement(m,{className:p},s.createElement("label",null,k,(0,s.createElement)(i,Qu({},w,_))," ",c,b))}pL.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],pL.propTypes={};var vL=pL;function mL(e){var t=e.control,n=gc(mL,e),r=kc(mL,e);return s.createElement(r,Qu({},n,{control:t}))}mL.handledProps=["as","control"],mL.propTypes={},mL.defaultProps={as:vL,control:Sy};var yL=mL;function gL(e){var t=e.control,n=gc(gL,e),r=kc(gL,e);return s.createElement(r,Qu({},n,{control:t}))}gL.handledProps=["as","control"],gL.propTypes={},gL.defaultProps={as:vL,control:fL};var kL=gL;var bL=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i};var wL=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};var _L=function(e,t){var n=!0;return Bh(e,(function(e,r,i){return n=!!t(e,r,i)})),n};var xL=function(e,t,n){var r=Hl(e)?wL:_L;return n&&qh(e,t,n)&&(t=void 0),r(e,Uh(t,3))};var EL=function(e,t,n,r){var i=-1,a=Jh,o=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=wh(t,gf(n))),r?(a=Zh,o=!1):t.length>=200&&(a=Fl,o=!1,t=new Ml(t));e:for(;++i<u;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;s.push(l)}else a(t,f,r)||s.push(l)}return s};var IL=function(e){return ef(e)&&Of(e)},SL=qd((function(e,t){return IL(e)?EL(e,t):[]})),TL=SL;var CL=function(e){return function(t,n,r){var i=Object(t);if(!Of(t)){var a=Uh(n,3);t=Df(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}},NL=Math.max;var AL=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vm(n);return i<0&&(i=NL(r+i,0)),Qh(e,Uh(t,3),i)},RL=CL(AL);var PL=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:vm(t),Pd(e,0,(t=r-t)<0?0:t)):[]},OL=Lh("length"),DL="\\ud800-\\udfff",LL="["+DL+"]",ML="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",FL="\\ud83c[\\udffb-\\udfff]",UL="[^"+DL+"]",jL="(?:\\ud83c[\\udde6-\\uddff]){2}",VL="[\\ud800-\\udbff][\\udc00-\\udfff]",BL="(?:"+ML+"|"+FL+")"+"?",zL="[\\ufe0e\\ufe0f]?",qL=zL+BL+("(?:\\u200d(?:"+[UL,jL,VL].join("|")+")"+zL+BL+")*"),KL="(?:"+[UL+ML+"?",ML,jL,VL,LL].join("|")+")",GL=RegExp(FL+"(?="+FL+")|"+KL+qL,"g");var HL=function(e){for(var t=GL.lastIndex=0;GL.test(e);)++t;return t};var WL=function(e){return Dp(e)?HL(e):OL(e)};var QL=function(e){if(null==e)return 0;if(Of(e))return dd(e)?WL(e):e.length;var t=Zf(e);return"[object Map]"==t||"[object Set]"==t?e.size:Pf(e).length},$L=Uc?Uc.isConcatSpreadable:void 0;var YL=function(e){return Hl(e)||uf(e)||!!($L&&e&&e[$L])};var XL=function e(t,n,r,i,a){var o=-1,u=t.length;for(r||(r=YL),a||(a=[]);++o<u;){var s=t[o];n>0&&r(s)?n>1?e(s,n-1,r,i,a):Gl(a,s):i||(a[a.length]=s)}return a},JL=qd((function(e,t){return IL(e)?EL(e,XL(t,1,IL,!0)):[]})),ZL=JL,eM=qd((function(e){return rd(XL(e,1,IL,!0))}));var tM=function(e,t){return ah(e,t)};var nM=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=Ch(e,o);n(u,o)&&cL(a,Sh(o,e),u)}return a};var rM=function(e,t){return nM(e,t,(function(t,n){return Ph(e,n)}))};var iM=function(e){return(null==e?0:e.length)?XL(e,1):[]};var aM=function(e){return zd(Md(e,void 0,iM),e+"")}((function(e,t){return null==e?{}:rM(e,t)})),oM=function(e){function t(){return e.apply(this,arguments)||this}return Gu(t,e),t.prototype.render=function(){var e=this.props,n=e.className,r=e.name,i=sc(r,"flag",n),a=gc(t,this.props),o=kc(t,this.props);return s.createElement(o,Qu({},a,{className:i}))},t}(s.PureComponent);oM.handledProps=["as","className","name"],oM.propTypes={},oM.defaultProps={as:"i"},oM.create=yd(oM,(function(e){return{name:e}}));var uM=oM;function sM(e){var t=e.className,n=sc("divider",t),r=gc(sM,e),i=kc(sM,e);return s.createElement(i,Qu({},r,{className:n}))}sM.handledProps=["as","className"],sM.propTypes={};var cM=sM,lM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){Kd(t.props,"onClick",e,t.props)},t}return Gu(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,i=e.className,a=e.content,o=e.disabled,u=e.description,c=e.flag,l=e.icon,f=e.image,h=e.label,d=e.selected,p=e.text,v=sc(fc(n,"active"),fc(o,"disabled"),fc(d,"selected"),"item",i),m=vd(l)?function(e,t){return Kh(s.Children.toArray(e),{type:t})}(r,"DropdownMenu")&&"dropdown":l,y=gc(t,this.props),g=kc(t,this.props),k={role:"option","aria-disabled":o,"aria-checked":n,"aria-selected":d};if(!Gh(r))return s.createElement(g,Qu({},y,k,{className:v,onClick:this.handleClick}),r);var b=uM.create(c,{autoGenerateKey:!1}),w=tv.create(m,{autoGenerateKey:!1}),_=dy.create(f,{autoGenerateKey:!1}),x=gy.create(h,{autoGenerateKey:!1}),E=md("span",(function(e){return{children:e}}),u,{defaultProps:{className:"description"},autoGenerateKey:!1}),I=md("span",(function(e){return{children:e}}),Gh(a)?p:a,{defaultProps:{className:"text"},autoGenerateKey:!1});return s.createElement(g,Qu({},y,k,{className:v,onClick:this.handleClick}),_,w,b,x,E,I)},t}(s.Component);lM.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],lM.propTypes={},lM.create=yd(lM,(function(e){return e}));var fM=lM;function hM(e){var t=e.children,n=e.className,r=e.content,i=e.icon,a=sc("header",n),o=gc(hM,e),u=kc(hM,e);return Gh(t)?s.createElement(u,Qu({},o,{className:a}),tv.create(i,{autoGenerateKey:!1}),r):s.createElement(u,Qu({},o,{className:a}),t)}hM.handledProps=["as","children","className","content","icon"],hM.propTypes={},hM.create=yd(hM,(function(e){return{content:e}}));var dM=hM;function pM(e){var t=e.children,n=e.className,r=e.content,i=e.direction,a=e.open,o=e.scrolling,u=sc(i,fc(a,"visible"),fc(o,"scrolling"),"menu transition",n),c=gc(pM,e),l=kc(pM,e);return s.createElement(l,Qu({},c,{className:u}),Gh(t)?r:t)}pM.handledProps=["as","children","className","content","direction","open","scrolling"],pM.propTypes={};var vM=pM,mM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=Nh(e,"target.value");Kd(t.props,"onChange",e,Qu({},t.props,{value:n}))},t}return Gu(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,r=e.className,i=e.tabIndex,a=e.type,o=e.value,u=sc("search",r),c=gc(t,this.props);return s.createElement("input",Qu({},c,{"aria-autocomplete":"list",autoComplete:n,className:u,onChange:this.handleChange,tabIndex:i,type:a,value:o}))},t}(s.Component);mM.handledProps=["as","autoComplete","className","tabIndex","type","value"],mM.propTypes={},mM.defaultProps={autoComplete:"off",type:"text"},mM.create=yd(mM,(function(e){return{type:e}}));var yM=mM;function gM(e){var t=e.children,n=e.className,r=e.content,i=sc("divider",n),a=gc(gM,e),o=kc(gM,e);return s.createElement(o,Qu({"aria-atomic":!0,"aria-live":"polite",role:"alert"},a,{className:i}),Gh(t)?r:t)}gM.handledProps=["as","children","className","content"],gM.propTypes={},gM.create=yd(gM,(function(e){return{content:e}}));var kM=gM,bM=/[\\^$.*+?()[\]{}|]/g,wM=RegExp(bM.source);var _M=function(e){return(e=Ih(e))&&wM.test(e)?e.replace(bM,"\\$&"):e};var xM=function(e,t){var n=[];return Bh(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};var EM=function(e,t){return(Hl(e)?Ql:xM)(e,Uh(t,3))};function IM(e){var t=e.additionLabel,n=e.additionPosition,r=e.allowAdditions,i=e.deburr,a=e.multiple,o=e.options,u=e.search,c=e.searchQuery,l=e.value,f=o;if(a&&(f=EM(f,(function(e){return!jm(l,e.value)}))),u&&c)if($c(u))f=u(f,c);else{var h=i?tp(c):c,d=new RegExp(_M(h),"i");f=EM(f,(function(e){return d.test(i?tp(e.text):e.text)}))}if(r&&u&&c&&!Kh(f,{text:c})){var p={key:"addition",text:[s.isValidElement(t)?s.cloneElement(t,{key:"addition-label"}):t||"",s.createElement("b",{key:"addition-query"},c)],value:c,className:"addition","data-additional":!0};"top"===n?f.unshift(p):f.push(p)}return f}function SM(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,a=e.deburr,o=e.multiple,u=e.options,s=e.search,c=e.searchQuery,l=e.selectedIndex,f=e.value,h=IM({value:f,options:u,searchQuery:c,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:a,multiple:o,search:s}),d=Im(h,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!l||l<0){var p=d[0];t=o?p:AL(h,["value",f])||d[0]}else if(o)t=RL(d,(function(e){return e>=l})),l>=h.length-1&&(t=d[d.length-1]);else{var v=AL(h,["value",f]);t=jm(d,v)?v:void 0}return(!t||t<0)&&(t=d[0]),t}IM.handledProps=[];var TM=function(e,t){return vd(e)?t:e},CM=function(e){return e?e.map((function(e){return aM(e,["key","value"])})):e};function NM(e){var t=e.flag,n=e.image,r=e.text;return $c(r)?r:{content:s.createElement(s.Fragment,null,uM.create(t),dy.create(n),r)}}var AM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).searchRef=(0,s.createRef)(),t.sizerRef=(0,s.createRef)(),t.ref=(0,s.createRef)(),t.handleChange=function(e,n){Kd(t.props,"onChange",e,Qu({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,i=n.multiple;(Gd(r)?!i:r)&&t.close(e,ed)},t.closeOnEscape=function(e){t.props.closeOnEscape&&Tm().getCode(e)===Tm().Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,i=r.multiple,a=r.selectOnNavigation;if(t.state.open){var o=((n={})[Tm().ArrowDown]=1,n[Tm().ArrowUp]=-1,n)[Tm().getCode(e)];if(void 0!==o){e.preventDefault();var u=t.getSelectedIndexAfterMove(o);!i&&a&&t.makeSelectedItemActive(e,u),t.setState({selectedIndex:u})}}},t.openOnSpace=function(e){var n,r,i,a=t.state.focus&&!t.state.open&&Tm().getCode(e)===Tm().Spacebar,o="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);a&&(o&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,i=n.open;if(r&&!i){var a=Tm().getCode(e);a!==Tm().ArrowDown&&a!==Tm().ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var r=t.state,i=r.open,a=r.value,o=t.props.multiple,u=t.getSelectedItem(n),s=Nh(u,"value"),c=Nh(u,"disabled");if(vd(s)||!i||c)return a;var l=o?eM(a,[s]):s;return(o?!!ZL(l,a).length:l!==a)&&(t.setState({value:l}),t.handleChange(e,l),u["data-additional"]&&Kd(t.props,"onAddItem",e,Qu({},t.props,{value:s}))),a},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,i=r.open,a=r.selectedIndex;if(i&&(Tm().getCode(e)===Tm().Enter||!n&&Tm().getCode(e)===Tm().Spacebar)){e.preventDefault();var o=QL(IM({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==o){var u=t.makeSelectedItemActive(e,a);t.setState({selectedIndex:SM({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:a,value:u,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&Kd(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,i=n.search,a=t.state,o=a.searchQuery,u=a.value;if(Tm().getCode(e)===Tm().Backspace&&!o&&i&&r&&!sv(u)){e.preventDefault();var s=PL(u);t.setState({value:s}),t.handleChange(e,s)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&ty(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,Kd(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,i=n.search,a=t.state,o=a.open,u=a.searchQuery;if(Kd(t.props,"onClick",e,t.props),e.stopPropagation(),!i)return t.toggle(e);o?Kd(t.searchRef.current,"focus"):u.length>=r||1===r?t.open(e):Kd(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();Kd(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var r=t.props,i=r.multiple,a=r.search,o=t.state.value,u=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var s=n["data-additional"],c=i?eM(t.state.value,[u]):u;(i?!!ZL(c,o).length:c!==o)&&(t.setState({value:c}),t.handleChange(e,c)),t.clearSearchQuery(),Kd(a?t.searchRef.current:t.ref.current,"focus"),t.closeOnChange(e),s&&Kd(t.props,"onAddItem",e,Qu({},t.props,{value:u}))}},t.handleFocus=function(e){t.state.focus||(Kd(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=Nh(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,i=r.closeOnBlur,a=r.multiple,o=r.selectOnBlur;t.isMouseDown||(Kd(t.props,"onBlur",e,t.props),o&&!a&&(t.makeSelectedItemActive(e,t.state.selectedIndex),i&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var r=n.value;e.stopPropagation();var i=t.props.minCharacters,a=t.state.open,o=r;Kd(t.props,"onSearchChange",e,Qu({},t.props,{searchQuery:o})),t.setState({searchQuery:o,selectedIndex:0}),!a&&o.length>=i?t.open():a&&1!==i&&o.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),Kd(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=IM({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return Nh(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return RL(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,i=e.search,a=e.multiple,o={role:i?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===o.role&&(o["aria-multiselectable"]=a),o},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),Kd(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,i=TL(r,n.value);t.setState({value:i}),t.handleChange(e,i)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=IM({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!xL(r,"disabled")){var i=r.length-1,a=n+e;return!t.props.wrapSelection&&(a>i||a<0)?a=n:a>i?a=0:a<0&&(a=i),r[a].disabled?t.getSelectedIndexAfterMove(e,a):a}},t.handleIconOverrides=function(e){var n=t.props.clearable;return{className:sc(n&&t.hasValue()&&"clear",e.className),onClick:function(n){Kd(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return vd(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,i=e.tabIndex;if(!r)return n?-1:vd(i)?0:i},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){Kd(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!sv(n):!vd(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,i=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:i&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-n.top-n.height-r,a=n.top-r,o=i<0&&a>i;!o!==!t.state.upward&&t.setState({upward:o})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,i=r.disabled,a=r.search;i||(a&&Kd(t.searchRef.current,"focus"),Kd(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(Kd(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,i=n.placeholder,a=n.search,o=n.text,u=t.state,s=u.searchQuery,c=u.selectedIndex,l=u.value,f=u.open,h=t.hasValue(),d=sc(i&&!h&&"default","text",a&&s&&"filtered"),p=i;return o?p=o:f&&!r?e=t.getSelectedItem(c):h&&(e=t.getItemByValue(l)),kM.create(e?NM(e):p,{defaultProps:{className:d}})},t.renderSearchInput=function(){var e=t.props,n=e.search,r=e.searchInput,i=t.state.searchQuery;return n&&s.createElement(Zm,{innerRef:t.searchRef},yM.create(r,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:i},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,r=e.multiple;return n&&r&&s.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,i=t.state,a=i.selectedLabel,o=i.value;if(n&&!sv(o)){var u=Nd(o,t.getItemByValue);return Nd(bL(u),(function(e,n){var i={active:e.value===a,as:"a",key:TM(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return gy.create(r(e,n,i),{defaultProps:i})}))}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,r=e.multiple,i=e.search,a=e.noResultsMessage,o=t.state,u=o.open,c=o.selectedIndex,l=o.value;if(n&&!u)return null;var f=IM({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==a&&i&&sv(f))return s.createElement("div",{className:"message"},a);var h=r?function(e){return jm(l,e)}:function(e){return e===l};return Nd(f,(function(e,n){return fM.create(Qu({active:h(e.value),selected:c===n},e,{key:TM(e.key,e.value),style:Qu({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})}))},t.renderMenu=function(){var e=t.props,n=e.children,r=e.direction,i=e.header,a=t.state.open,o=t.getDropdownMenuAriaOptions();if(!Gh(n)){var u=s.Children.only(n),c=sc(r,fc(a,"visible"),u.props.className);return(0,s.cloneElement)(u,Qu({className:c},o))}return s.createElement(vM,Qu({},o,{direction:r,open:a}),dM.create(i,{autoGenerateKey:!1}),t.renderOptions())},t}Gu(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!Nm()(n.__value,t.value)||!tM(CM(e.options),CM(n.__options)))&&(r.selectedIndex=SM({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!Nm()(e,this.props)||!Nm()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,a=n.openOnFocus,o=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var u=!o||o&&1===i&&!this.state.open;a&&u&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,r=e.button,i=e.className,a=e.compact,o=e.disabled,u=e.error,c=e.fluid,l=e.floating,f=e.icon,h=e.inline,d=e.item,p=e.labeled,v=e.loading,m=e.multiple,y=e.pointing,g=e.search,k=e.selection,b=e.scrolling,w=e.simple,_=e.trigger,x=this.state,E=x.focus,I=x.open,S=x.upward,T=sc("ui",fc(I,"active visible"),fc(o,"disabled"),fc(u,"error"),fc(v,"loading"),fc(n,"basic"),fc(r,"button"),fc(a,"compact"),fc(c,"fluid"),fc(l,"floating"),fc(h,"inline"),fc(p,"labeled"),fc(d,"item"),fc(m,"multiple"),fc(g,"search"),fc(k,"selection"),fc(w,"simple"),fc(b,"scrolling"),fc(S,"upward"),dc(y,"pointing"),"dropdown",i),C=gc(t,this.props),N=kc(t,this.props),A=this.getDropdownAriaOptions(N,this.props);return s.createElement(Zm,{innerRef:this.ref},s.createElement(N,Qu({},C,A,{className:T,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),_||this.renderText(),tv.create(f,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),I&&s.createElement(Rm(),{name:"keydown",on:this.closeOnEscape}),I&&s.createElement(Rm(),{name:"click",on:this.closeOnDocumentClick}),E&&s.createElement(Rm(),{name:"keydown",on:this.removeItemOnBackspace})))},t}(Wd);function RM(e){var t=e.control,n=gc(RM,e),r=kc(RM,e);return s.createElement(r,Qu({},n,{control:t}))}AM.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],AM.propTypes={},AM.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:NM,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},AM.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],AM.Divider=cM,AM.Header=dM,AM.Item=fM,AM.Menu=vM,AM.SearchInput=yM,AM.Text=kM,RM.handledProps=["as","control"],RM.propTypes={},RM.defaultProps={as:vL,control:AM};var PM=RM;function OM(e){var t=e.children,n=e.className,r=e.grouped,i=e.inline,a=e.unstackable,o=e.widths,u=sc(fc(r,"grouped"),fc(i,"inline"),fc(a,"unstackable"),yc(o,null,!0),"fields",n),c=gc(OM,e),l=kc(OM,e);return s.createElement(l,Qu({},c,{className:u}),t)}OM.handledProps=["as","children","className","grouped","inline","unstackable","widths"],OM.propTypes={};var DM=OM;function LM(e){var t=e.control,n=gc(LM,e),r=kc(LM,e);return s.createElement(r,Qu({},n,{control:t}))}LM.handledProps=["as","control"],LM.propTypes={},LM.defaultProps={as:vL,control:Cy};var MM=LM;function FM(e){var t=e.control,n=gc(FM,e),r=kc(FM,e);return s.createElement(r,Qu({},n,{control:t}))}FM.handledProps=["as","control"],FM.propTypes={},FM.defaultProps={as:vL,control:dL};var UM=FM;function jM(e){return s.createElement(AM,Qu({},e,{selection:!0}))}jM.handledProps=["options"],jM.propTypes={},jM.Divider=AM.Divider,jM.Header=AM.Header,jM.Item=AM.Item,jM.Menu=AM.Menu;var VM=jM;function BM(e){var t=e.control,n=e.options,r=gc(BM,e),i=kc(BM,e);return s.createElement(i,Qu({},r,{control:t,options:n}))}BM.handledProps=["as","control","options"],BM.propTypes={},BM.defaultProps={as:vL,control:VM};var zM=BM,qM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,s.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=Nh(e,"target.value");Kd(t.props,"onChange",e,Qu({},t.props,{value:n}))},t.handleInput=function(e){var n=Nh(e,"target.value");Kd(t.props,"onInput",e,Qu({},t.props,{value:n}))},t}return Gu(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,r=e.value,i=gc(t,this.props),a=kc(t,this.props);return s.createElement(Zm,{innerRef:this.ref},s.createElement(a,Qu({},i,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:r})))},t}(s.Component);qM.handledProps=["as","onChange","onInput","rows","value"],qM.propTypes={},qM.defaultProps={as:"textarea",rows:3};var KM=qM;function GM(e){var t=e.control,n=gc(GM,e),r=kc(GM,e);return s.createElement(r,Qu({},n,{control:t}))}GM.handledProps=["as","control"],GM.propTypes={},GM.defaultProps={as:vL,control:KM};var HM=GM,WM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){var n=t.props.action;"string"!==typeof n&&Kd(e,"preventDefault");for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];Kd.apply(void 0,[t.props,"onSubmit",e,t.props].concat(i))},t}return Gu(t,e),t.prototype.render=function(){var e=this.props,n=e.action,r=e.children,i=e.className,a=e.error,o=e.inverted,u=e.loading,c=e.reply,l=e.size,f=e.success,h=e.unstackable,d=e.warning,p=e.widths,v=sc("ui",l,fc(a,"error"),fc(o,"inverted"),fc(u,"loading"),fc(c,"reply"),fc(f,"success"),fc(h,"unstackable"),fc(d,"warning"),yc(p,null,!0),"form",i),m=gc(t,this.props),y=kc(t,this.props);return s.createElement(y,Qu({},m,{action:n,className:v,onSubmit:this.handleSubmit}),r)},t}(s.Component);WM.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],WM.propTypes={},WM.defaultProps={as:"form"},WM.Field=vL,WM.Button=yL,WM.Checkbox=kL,WM.Dropdown=PM,WM.Group=DM,WM.Input=MM,WM.Radio=UM,WM.Select=zM,WM.TextArea=HM;var QM=WM;function $M(e){var t=e.children,n=e.className,r=e.content,i=sc("content",n),a=gc($M,e),o=kc($M,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}$M.handledProps=["as","children","className","content"],$M.propTypes={};var YM=$M;function XM(e){var t=e.children,n=e.className,r=e.content,i=sc("header",n),a=gc(XM,e),o=kc(XM,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}XM.handledProps=["as","children","className","content"],XM.propTypes={},XM.create=yd(XM,(function(e){return{content:e}}));var JM=XM;function ZM(e){var t=e.children,n=e.className,r=e.content,i=sc("content",n),a=gc(ZM,e),o=kc(ZM,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}ZM.handledProps=["as","children","className","content"],ZM.propTypes={},ZM.defaultProps={as:"li"},ZM.create=yd(ZM,(function(e){return{content:e}}));var eF=ZM;function tF(e){var t=e.children,n=e.className,r=e.items,i=sc("list",n),a=gc(tF,e),o=kc(tF,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?Nd(r,eF.create):t)}tF.handledProps=["as","children","className","items"],tF.propTypes={},tF.defaultProps={as:"ul"},tF.create=yd(tF,(function(e){return{items:e}}));var nF=tF,rF=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return Gu(t,e),t.prototype.render=function(){var e=this.props,n=e.attached,r=e.children,i=e.className,a=e.color,o=e.compact,u=e.content,c=e.error,l=e.floating,f=e.header,h=e.hidden,d=e.icon,p=e.info,v=e.list,m=e.negative,y=e.onDismiss,g=e.positive,k=e.size,b=e.success,w=e.visible,_=e.warning,x=sc("ui",a,k,fc(o,"compact"),fc(c,"error"),fc(l,"floating"),fc(h,"hidden"),fc(d,"icon"),fc(p,"info"),fc(m,"negative"),fc(g,"positive"),fc(b,"success"),fc(w,"visible"),fc(_,"warning"),dc(n,"attached"),"message",i),E=y&&s.createElement(tv,{name:"close",onClick:this.handleDismiss}),I=gc(t,this.props),S=kc(t,this.props);return Gh(r)?s.createElement(S,Qu({},I,{className:x}),E,tv.create(d,{autoGenerateKey:!1}),(!vd(f)||!vd(u)||!vd(v))&&s.createElement(YM,null,JM.create(f,{autoGenerateKey:!1}),nF.create(v,{autoGenerateKey:!1}),wd(u,{autoGenerateKey:!1}))):s.createElement(S,Qu({},I,{className:x}),E,r)},t}(s.Component);function iF(){return window}rF.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],rF.propTypes={},rF.Content=YM,rF.Header=JM,rF.List=nF,rF.Item=eF;function aF(e,t,n){return oF.apply(this,arguments)}function oF(){return oF=oe(ne().mark((function e(t,n,r){var i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=iF(),o=a.BuildInfo,sn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,hF(n.sessionId);case 4:return u=e.sent,s={},hr()?s.ibi=o.packageName:cr()?s.apn=o.packageName:en(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Du(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),oF.apply(this,arguments)}function uF(){return(uF=oe(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=iF(),r=n.BuildInfo,i={},hr()?i.iosBundleId=r.packageName:cr()?i.androidPackageName=r.packageName:en(t,"operation-not-supported-in-this-environment"),e.next=5,lu(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sF(e){var t=iF().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function cF(e,t,n){return lF.apply(this,arguments)}function lF(){return lF=oe(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=iF(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(tn(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),cr()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),lF.apply(this,arguments)}function fF(e){var t,n,r,i,a,o,u,s,c,l,f=iF();on("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),on("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),on("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),on("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),on("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function hF(e){return dF.apply(this,arguments)}function dF(){return(dF=oe(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pF(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pF(e){if(sn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var vF=function(e){g(n,e);var t=_(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return p(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Dt(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(uu);function mF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:wF(),postBody:null,tenantId:e.tenantId,error:tn(e,"no-auth-event")}}function yF(e,t){return _F()._set(xF(e),t)}function gF(e){return kF.apply(this,arguments)}function kF(){return(kF=oe(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_F()._get(xF(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,_F()._remove(xF(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bF(e,t){var n,r,i=function(e){var t=EF(e),n=t.link?decodeURIComponent(t.link):void 0,r=EF(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return EF(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=EF(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?tn(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function wF(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function _F(){return ln(Sa)}function xF(e){return nr("authEvent",e.config.apiKey,e.name)}function EF(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),i=r(t=n)||re(t)||a(t)||o();i[0];return Y(i.slice(1).join("?"))}var IF=function(){function e(){h(this,e),this._redirectPersistence=Ca,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ru,this._overrideRedirectResult=Ho}return p(e,[{key:"_initialize",value:function(){var e=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new vF(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){en(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=oe(ne().mark((function e(t,n,r,i){var a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fF(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Vo.clear(),e.next=10,this._originValidation(t);case 10:return o=mF(t,r,i),e.next=13,yF(t,o);case 13:return e.next=15,aF(t,o,n);case 15:return u=e.sent,e.next=18,sF(u);case 18:return s=e.sent,e.abrupt("return",cF(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return uF.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=iF(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(oe(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,gF(e);case 2:t.onEvent(TF());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=oe(ne().mark((function n(r){var i,a;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,gF(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=bF(i,r.url)),t.onEvent(a||TF());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");iF().handleOpenURL=function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),SF=IF;function TF(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tn("no-auth-event")}}function CF(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function NF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return!("file:"!==CF()&&"ionic:"!==CF()&&"capacitor:"!==CF()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function AF(){return L()&&11===(null===document||void 0===document?void 0:document.documentMode)}function RF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return/Edge\/\d+/.test(e)}function PF(){try{var e=self.localStorage,t=Ra();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R();return AF()||RF(e)}()||M()}catch(n){return OF()&&M()}return!1}function OF(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function DF(){return("http:"===CF()||"https:"===CF()||O()||NF())&&!(D()||P())&&PF()&&!OF()}function LF(){return NF()&&"undefined"!==typeof document}function MF(){return FF.apply(this,arguments)}function FF(){return(FF=oe(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(LF()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var UF={LOCAL:"local",NONE:"none",SESSION:"session"},jF=on,VF="persistence";function BF(e,t){jF(Object.values(UF).includes(t),e,"invalid-persistence-type"),D()?jF(t!==UF.SESSION,e,"unsupported-persistence-type"):P()?jF(t===UF.NONE,e,"unsupported-persistence-type"):OF()?jF(t===UF.NONE||t===UF.LOCAL&&M(),e,"unsupported-persistence-type"):jF(t===UF.NONE||PF(),e,"unsupported-persistence-type")}function zF(e){return qF.apply(this,arguments)}function qF(){return qF=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=KF(),r=nr(VF,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),qF.apply(this,arguments)}function KF(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var GF=on,HF=function(){function e(){h(this,e),this.browserResolver=ln(Fu),this.cordovaResolver=ln(SF),this.underlyingResolver=null,this._redirectPersistence=Ca,this._completeRedirectFn=ru,this._overrideRedirectResult=Ho}return p(e,[{key:"_initialize",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=oe(ne().mark((function e(t,n,r,i){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=oe(ne().mark((function e(t,n,r,i){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return LF()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return GF(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,MF();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function WF(e){return e.unwrap()}function QF(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new ZF(e,function(e,t){var n,r=te(e),i=t;return on(t.customData.operationType,r,"argument-error"),on(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ka._fromError(r,i)}(e,t));else if(r){var i=$F(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function $F(e){var t=(e instanceof z?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof z)&&"temporaryProof"in t&&"phoneNumber"in t)return Io.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Vt)return null;switch(r){case jt:n=li;break;case Ft:n=ci;break;case Ut:n=fi;break;case Bt:n=pi;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?hi._create(r,u):Yr._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new si(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof z?n.credentialFromError(e):n.credentialFromResult(e)}function YF(e,t){return t.catch((function(t){throw t instanceof z&&QF(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,$F(t)),additionalUserInfo:ya(e),user:eU.getOrCreate(r)}}))}function XF(e,t){return JF.apply(this,arguments)}function JF(){return(JF=oe(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return YF(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ZF=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=t.wrapped()}return p(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return YF(WF(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),eU=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=te(e);return _a.has(t)||_a.set(t,wa._fromUser(t)),_a.get(t)}(t)}return p(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YF(this.auth,Li(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",XF(this.auth,ko(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YF(this.auth,Fo(this._delegate,t,HF)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zF(kr(this.auth));case 2:return e.abrupt("return",Zo(this._delegate,t,HF));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YF(this.auth,Fi(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return XF(this.auth,function(e,t,n){return wo.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return YF(this.auth,function(e,t,n){return Mo.apply(this,arguments)}(this._delegate,e,HF))}},{key:"reauthenticateWithRedirect",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zF(kr(this.auth));case 2:return e.abrupt("return",Xo(this._delegate,t,HF));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return ia.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xi(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ca(te(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ca(te(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Eo.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return sa.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return aa.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();eU.USER_MAP=new WeakMap;var tU=on,nU=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;tU(r,"invalid-api-key",{appName:t.name}),tU(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?HF:void 0;this._delegate=n.initialize({options:{persistence:iU(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap($t),this.linkUnderlyingAuth()}return p(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?eU.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){wr(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Wi.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Qi(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Hi.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=oe(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YF(this._delegate,Xi(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ra.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ii.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=oe(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tU(DF(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,tu(this._delegate,HF);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",YF(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){kr(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=rU(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=rU(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Zi.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Gi.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=oe(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:BF(this._delegate,t),e.t0=t,e.next=e.t0===UF.SESSION?4:e.t0===UF.LOCAL?6:e.t0===UF.NONE?11:13;break;case 4:return n=Ca,e.abrupt("break",14);case 6:return e.next=8,ln(Xa)._isAvailable();case 8:return r=e.sent,n=r?Xa:Sa,e.abrupt("break",14);case 11:return n=tr,e.abrupt("break",14);case 13:return e.abrupt("return",en("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return YF(this._delegate,function(e){return ki.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return YF(this._delegate,Oi(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return YF(this._delegate,function(e,t){return Bi.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return YF(this._delegate,function(e,t,n){return Oi(te(e),ai.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return YF(this._delegate,function(e,t,n){return ea.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return XF(this._delegate,function(e,t,n){return go.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tU(DF(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",YF(this._delegate,Do(this._delegate,t,HF)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=oe(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tU(DF(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,zF(this._delegate);case 3:return e.abrupt("return",$o(this._delegate,t,HF));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Yi.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function rU(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&eU.getOrCreate(e))},error:t,complete:n}}function iU(e,t){var n=function(e,t){var n=KF();if(!n)return[];var r=nr(VF,e,t);switch(n.getItem(r)){case UF.NONE:return[tr];case UF.LOCAL:return[Xa,Ca];case UF.SESSION:return[Ca];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Xa)||n.push(Xa),"undefined"!==typeof window)for(var r=0,i=[Sa,Ca];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(tr)||n.push(tr),n}nU.Persistence=UF;var aU=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new Io(WF(Pt.auth()))}return p(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Io.credential(e,t)}}]),e}();aU.PHONE_SIGN_IN_METHOD=Io.PHONE_SIGN_IN_METHOD,aU.PROVIDER_ID=Io.PROVIDER_ID;var oU=on,uU=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pt.app();h(this,e),oU(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new vo(t,n,i.auth()),this.type=this._delegate.type}return p(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new ue("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new nU(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:zt,PASSWORD_RESET:qt,RECOVER_EMAIL:Kt,REVERT_SECOND_FACTOR_ADDITION:Gt,VERIFY_AND_CHANGE_EMAIL:Ht,VERIFY_EMAIL:Wt}},EmailAuthProvider:ai,FacebookAuthProvider:ci,GithubAuthProvider:fi,GoogleAuthProvider:li,OAuthProvider:si,SAMLAuthProvider:di,PhoneAuthProvider:aU,PhoneMultiFactorGenerator:ju,RecaptchaVerifier:uU,TwitterAuthProvider:pi,Auth:nU,AuthCredential:Er,Error:z}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.3.0")}(Pt);var sU=function(){var e=Ys(),t=u(s.useState(!1),2),n=t[0],r=t[1],i=u(s.useState("signin"),2),a=i[0],o=i[1],c=u(s.useState(""),2),l=c[0],f=c[1],h=u(s.useState(""),2),d=h[0],p=h[1],v=u(s.useState(""),2),m=v[0],y=v[1];return(0,jy.jsxs)(Wh,{children:[(0,jy.jsx)(QM,{onSubmit:function(){var t=new Ku.auth.GoogleAuthProvider;Ku.auth().signInWithPopup(t).then((function(){e.push("/posts")})).catch((function(e){console.log(e)}))},children:(0,jy.jsx)(QM.Button,{children:"\u4f7f\u7528 Google \u767b\u5165"})}),(0,jy.jsxs)(ov,{widths:"2",size:"large",children:[(0,jy.jsx)(ov.Item,{active:"register"===a,onClick:function(){y(""),o("register")},children:"\u8a3b\u518a\u65b0\u5e33\u865f"}),(0,jy.jsx)(ov.Item,{active:"signin"===a,onClick:function(){y(""),o("signin")},children:"\u767b\u5165"})]}),(0,jy.jsxs)(QM,{onSubmit:function(){r(!0),"register"===a?Ku.auth().createUserWithEmailAndPassword(l,d).then((function(){e.push("/posts"),r(!1)})).catch((function(e){switch(e.code){case"auth/email-already-in-use":y("\u4fe1\u7bb1\u5df2\u5b58\u5728\uff0c\u4e0d\u53ef\u91cd\u8907");break;case"auth/invalid-email":y("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/weak-password":y("\u5bc6\u78bc\u5f37\u5ea6\u4e0d\u8db3")}r(!1)})):"signin"===a&&Ku.auth().signInWithEmailAndPassword(l,d).then((function(){e.push("/posts"),r(!1)})).catch((function(e){switch(e.code){case"auth/invalid-email":y("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/user-not-found":y("\u4fe1\u7bb1\u4e0d\u5b58\u5728");break;case"auth/wrong-password":y("\u5bc6\u78bc\u932f\u8aa4")}r(!1)}))},children:[(0,jy.jsx)(QM.Input,{label:"\u4fe1\u7bb1",value:l,onChange:function(e){return f(e.target.value)},placeholder:"\u8acb\u8f38\u5165\u4fe1\u7bb1"}),(0,jy.jsx)(QM.Input,{label:"\u5bc6\u78bc",value:d,onChange:function(e){return p(e.target.value)},placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc"}),m&&(0,jy.jsx)(rF,{negative:!0,children:m}),(0,jy.jsxs)(QM.Button,{loading:n,children:["register"===a&&"\u8a3b\u518a","signin"===a&&"\u767b\u5165"]})]})]})};function cU(e){var t=e.children,n=e.className,r=e.content,i=sc("sub header",n),a=gc(cU,e),o=kc(cU,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}cU.handledProps=["as","children","className","content"],cU.propTypes={},cU.create=yd(cU,(function(e){return{content:e}}));var lU=cU;function fU(e){var t=e.children,n=e.className,r=e.content,i=sc("content",n),a=gc(fU,e),o=kc(fU,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}fU.handledProps=["as","children","className","content"],fU.propTypes={};var hU=fU;function dU(e){var t=e.attached,n=e.block,r=e.children,i=e.className,a=e.color,o=e.content,u=e.disabled,c=e.dividing,l=e.floated,f=e.icon,h=e.image,d=e.inverted,p=e.size,v=e.sub,m=e.subheader,y=e.textAlign,g=sc("ui",a,p,fc(n,"block"),fc(u,"disabled"),fc(c,"dividing"),hc(l,"floated"),fc(!0===f,"icon"),fc(!0===h,"image"),fc(d,"inverted"),fc(v,"sub"),dc(t,"attached"),vc(y),"header",i),k=gc(dU,e),b=kc(dU,e);if(!Gh(r))return s.createElement(b,Qu({},k,{className:g}),r);var w=tv.create(f,{autoGenerateKey:!1}),_=dy.create(h,{autoGenerateKey:!1}),x=lU.create(m,{autoGenerateKey:!1});return w||_?s.createElement(b,Qu({},k,{className:g}),w||_,(o||x)&&s.createElement(hU,null,o,x)):s.createElement(b,Qu({},k,{className:g}),o,x)}dU.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],dU.propTypes={},dU.Content=hU,dU.Subheader=lU;var pU=dU;function vU(e){var t=e.children,n=e.className,r=e.compact,i=e.content,a=e.horizontal,o=e.piled,u=e.raised,c=e.size,l=e.stacked,f=sc("ui",c,fc(r,"compact"),fc(a,"horizontal"),fc(o,"piled"),fc(u,"raised"),fc(l,"stacked"),"segments",n),h=gc(vU,e),d=kc(vU,e);return s.createElement(d,Qu({},h,{className:f}),Gh(t)?i:t)}vU.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],vU.propTypes={};var mU=vU;function yU(e){var t=e.children,n=e.className,r=e.content,i=sc("inline",n),a=gc(yU,e),o=kc(yU,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}yU.handledProps=["as","children","className","content"],yU.propTypes={};var gU=yU;function kU(e){var t=e.attached,n=e.basic,r=e.children,i=e.circular,a=e.className,o=e.clearing,u=e.color,c=e.compact,l=e.content,f=e.disabled,h=e.floated,d=e.inverted,p=e.loading,v=e.placeholder,m=e.padded,y=e.piled,g=e.raised,k=e.secondary,b=e.size,w=e.stacked,_=e.tertiary,x=e.textAlign,E=e.vertical,I=sc("ui",u,b,fc(n,"basic"),fc(i,"circular"),fc(o,"clearing"),fc(c,"compact"),fc(f,"disabled"),fc(d,"inverted"),fc(p,"loading"),fc(v,"placeholder"),fc(y,"piled"),fc(g,"raised"),fc(k,"secondary"),fc(w,"stacked"),fc(_,"tertiary"),fc(E,"vertical"),dc(t,"attached"),dc(m,"padded"),vc(x),hc(h,"floated"),"segment",a),S=gc(kU,e),T=kc(kU,e);return s.createElement(T,Qu({},S,{className:I}),Gh(r)?l:r)}kU.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],kU.Group=mU,kU.Inline=gU,kU.propTypes={};var bU=kU;function wU(e){var t=e.active,n=e.className,r=e.children,i=e.content,a=sc(fc(t,"active"),n),o=gc(wU,e),u=kc(wU,e);return s.createElement(u,Qu({},o,{className:a}),Gh(r)?i:r)}wU.handledProps=["active","as","children","className","content"],wU.defaultProps={as:"a"},wU.propTypes={};var _U=wU;function xU(e){var t=e.className,n=e.children,r=e.content,i=sc("actions",t),a=gc(xU,e),o=kc(xU,e);return s.createElement(o,Qu({},a,{className:i}),Gh(n)?r:n)}xU.handledProps=["as","children","className","content"],xU.propTypes={};var EU=xU;function IU(e){var t=e.className,n=e.children,r=e.content,i=sc("author",t),a=gc(IU,e),o=kc(IU,e);return s.createElement(o,Qu({},a,{className:i}),Gh(n)?r:n)}IU.handledProps=["as","children","className","content"],IU.propTypes={};var SU=IU;function TU(e){var t=e.className,n=e.src,r=sc("avatar",t),i=gc(TU,e),a=Gm(i,{htmlProps:Km}),o=a[0],u=a[1],c=kc(TU,e);return s.createElement(c,Qu({},u,{className:r}),gd(n,{autoGenerateKey:!1,defaultProps:o}))}TU.handledProps=["as","className","src"],TU.propTypes={};var CU=TU;function NU(e){var t=e.className,n=e.children,r=e.content,i=sc(t,"content"),a=gc(NU,e),o=kc(NU,e);return s.createElement(o,Qu({},a,{className:i}),Gh(n)?r:n)}NU.handledProps=["as","children","className","content"],NU.propTypes={};var AU=NU;function RU(e){var t=e.className,n=e.children,r=e.collapsed,i=e.content,a=e.minimal,o=e.size,u=e.threaded,c=sc("ui",o,fc(r,"collapsed"),fc(a,"minimal"),fc(u,"threaded"),"comments",t),l=gc(RU,e),f=kc(RU,e);return s.createElement(f,Qu({},l,{className:c}),Gh(n)?i:n)}RU.handledProps=["as","children","className","collapsed","content","minimal","size","threaded"],RU.propTypes={};var PU=RU;function OU(e){var t=e.className,n=e.children,r=e.content,i=sc("metadata",t),a=gc(OU,e),o=kc(OU,e);return s.createElement(o,Qu({},a,{className:i}),Gh(n)?r:n)}OU.handledProps=["as","children","className","content"],OU.propTypes={};var DU=OU;function LU(e){var t=e.className,n=e.children,r=e.content,i=sc(t,"text"),a=gc(LU,e),o=kc(LU,e);return s.createElement(o,Qu({},a,{className:i}),Gh(n)?r:n)}LU.handledProps=["as","children","className","content"],LU.propTypes={};var MU=LU;function FU(e){var t=e.className,n=e.children,r=e.collapsed,i=e.content,a=sc(fc(r,"collapsed"),"comment",t),o=gc(FU,e),u=kc(FU,e);return s.createElement(u,Qu({},o,{className:a}),Gh(n)?i:n)}FU.handledProps=["as","children","className","collapsed","content"],FU.propTypes={},FU.Author=SU,FU.Action=_U,FU.Actions=EU,FU.Avatar=CU,FU.Content=AU,FU.Group=PU,FU.Metadata=DU,FU.Text=MU;var UU=FU;var jU=function(){var e,t,n,r,i,a=function(){var e=$s(Ps).match;return e?e.params:{}}().postId,o=u(s.useState({author:{}}),2),c=o[0],l=o[1],h=u(s.useState(""),2),d=h[0],p=h[1],v=u(s.useState(!1),2),m=v[0],y=v[1],g=u(s.useState([]),2),k=g[0],b=g[1];function w(e,t){var n=Ku.auth().currentUser.uid;Ku.firestore().collection("posts").doc(a).update(f({},t,e?Ku.firestore.FieldValue.arrayRemove(n):Ku.firestore.FieldValue.arrayUnion(n)))}s.useEffect((function(){Ku.firestore().collection("posts").doc(a).onSnapshot((function(e){var t=e.data();l(t)}))}),[]),s.useEffect((function(){Ku.firestore().collection("posts").doc(a).collection("comments").orderBy("createAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));b(t)}))}),[]);var _=null===(e=c.collectedBy)||void 0===e?void 0:e.includes(Ku.auth().currentUser.uid),x=null===(t=c.likedBy)||void 0===t?void 0:t.includes(Ku.auth().currentUser.uid);return(0,jy.jsxs)(jy.Fragment,{children:[c.author.photoURL?(0,jy.jsx)(dy,{src:c.author.photoURL,avatar:!0}):(0,jy.jsx)(tv,{name:"user circle"}),c.topic,"/",c.author.displayName||"\u5e33\u865f\u540d\u7a31\u672a\u986f\u793a",(0,jy.jsxs)(pU,{children:[c.title,(0,jy.jsxs)(pU.Subheader,{children:[c.topic," . ",null===(n=c.createAt)||void 0===n?void 0:n.toDate().toLocaleDateString()]})]}),(0,jy.jsx)(dy,{src:c.imageUrl||"https://react.semantic-ui.com/images/wireframe/image.png",size:"medium"}),(0,jy.jsx)(bU,{basic:!0,vertical:!0,children:c.content}),(0,jy.jsxs)(bU,{basic:!0,vertical:!0,children:["\u7559\u8a00 ",c.commentCount||0," ....\u6536\u85cf\u6587\u7ae0\u4eba\u6578 ",(null===(r=c.collectedBy)||void 0===r?void 0:r.length)||0," ....\u8b9a ",(null===(i=c.likedBy)||void 0===i?void 0:i.length)||0,(0,jy.jsx)(tv,{name:"thumbs up".concat(x?"":" outline"),color:x?"blue":"grey",link:!0,onClick:function(){return w(x,"likedBy")}}),(0,jy.jsx)(tv,{name:"bookmark".concat(_?"":" outline"),color:_?"blue":"grey",link:!0,onClick:function(){return w(_,"collectedBy")}})]}),(0,jy.jsxs)(UU.Group,{children:[(0,jy.jsxs)(QM,{reply:!0,children:[(0,jy.jsx)(QM.TextArea,{value:d,onChange:function(e){return p(e.target.value)}}),(0,jy.jsx)(QM.Button,{onClick:function(){y(!0);var e=Ku.firestore(),t=e.batch(),n=e.collection("posts").doc(a);t.update(n,{commentCount:Ku.firestore.FieldValue.increment(1)});var r=n.collection("comments").doc();t.set(r,{content:d,createAt:Ku.firestore.Timestamp.now(),author:{uid:Ku.auth().currentUser.uid,displayName:Ku.auth().currentUser.displayName||"",photoURL:Ku.auth().currentUser.photoURL||""}}),t.commit().then((function(){p(""),y(!1)}))},loading:m,children:"\u7559\u8a00"})]}),(0,jy.jsxs)(pU,{children:["\u5171 ",c.commentCount||0," \u5247\u7559\u8a00"]}),k.map((function(e){var t;return(0,jy.jsxs)(UU,{children:[(0,jy.jsx)(UU.Avatar,{src:e.author.photoURL||""}),(0,jy.jsxs)(UU.Content,{children:[(0,jy.jsx)(UU.Author,{as:"span",children:e.author.displayName||"\u5e33\u865f\u540d\u7a31\u672a\u986f\u793a"}),(0,jy.jsxs)(UU.Metadata,{children:[" ",null===(t=e.createAt)||void 0===t?void 0:t.toDate().toLocaleString(),"  "]}),(0,jy.jsxs)(UU.Text,{children:[" ",e.content," "]})]})]})}))]})]})},VU=!("undefined"===typeof window||!window.document||!window.document.createElement);var BU=void 0;function zU(){return void 0===BU&&(BU=function(){if(!VU)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(r){}return e}()),BU}function qU(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function KU(e){this.target=e,this.events={}}KU.prototype.getEventHandlers=function(e,t){var n,r=String(e)+" "+String((n=t)?!0===n?100:(n.capture<<0)+(n.passive<<1)+(n.once<<2):0);return this.events[r]||(this.events[r]={handlers:[],handleEvent:void 0},this.events[r].nextHandlers=this.events[r].handlers),this.events[r]},KU.prototype.handleEvent=function(e,t,n){var r=this.getEventHandlers(e,t);r.handlers=r.nextHandlers,r.handlers.forEach((function(e){e&&e(n)}))},KU.prototype.add=function(e,t,n){var r=this,i=this.getEventHandlers(e,n);qU(i),0===i.nextHandlers.length&&(i.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,i.handleEvent,n)),i.nextHandlers.push(t);var a=!0;return function(){if(a){a=!1,qU(i);var o=i.nextHandlers.indexOf(t);i.nextHandlers.splice(o,1),0===i.nextHandlers.length&&(r.target&&r.target.removeEventListener(e,i.handleEvent,n),i.handleEvent=void 0)}}};var GU="__consolidated_events_handlers__";function HU(e,t,n,r){e[GU]||(e[GU]=new KU(e));var i=function(e){if(e)return zU()?e:!!e.capture}(r);return e[GU].add(t,n,i)}var WU=n(441);function QU(e,t){var n,r=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):"px"===n.slice(-2)?parseFloat(n.slice(0,-2)):void 0);if("number"===typeof r)return r;var i=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"===typeof i?i*t:void 0}var $U="above",YU="inside",XU="below",JU="invisible";function ZU(e){return"string"===typeof e.type}var ej;var tj=[];function nj(e){tj.push(e),ej||(ej=setTimeout((function(){var e;for(ej=null;e=tj.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var n=tj.indexOf(e);-1!==n&&(tj.splice(n,1),!tj.length&&ej&&(clearTimeout(ej),ej=null))}}}var rj="undefined"!==typeof window,ij={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},aj=function(e){function t(t){var n;return(n=e.call(this,t)||this).refElement=function(e){n._ref=e},n}Gu(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this;rj&&(this.cancelOnNextTick=nj((function(){e.cancelOnNextTick=null;var t=e.props,n=t.children;t.debug;!function(e,t){if(e&&!ZU(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(n,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=HU(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=HU(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))},r.componentDidUpdate=function(){var e=this;rj&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=nj((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))},r.componentWillUnmount=function(){rj&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())},r._findScrollableAncestor=function(){var e=this.props,t=e.horizontal,r=e.scrollableAncestor;if(r)return function(e){return"window"===e?n.g.window:e}(r);for(var i=this._ref;i.parentNode;){if((i=i.parentNode)===document.body)return window;var a=window.getComputedStyle(i),o=(t?a.getPropertyValue("overflow-x"):a.getPropertyValue("overflow-y"))||a.getPropertyValue("overflow");if("auto"===o||"scroll"===o||"overlay"===o)return i}return window},r._handleScroll=function(e){if(this._ref){var t=this._getBounds(),n=function(e){return e.viewportBottom-e.viewportTop===0?JU:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?YU:e.viewportBottom<e.waypointTop?XU:e.waypointTop<e.viewportTop?$U:JU}(t),r=this._previousPosition,i=this.props,a=(i.debug,i.onPositionChange),o=i.onEnter,u=i.onLeave,s=i.fireOnRapidScroll;if(this._previousPosition=n,r!==n){var c={currentPosition:n,previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};a.call(this,c),n===YU?o.call(this,c):r===YU&&u.call(this,c),s&&(r===XU&&n===$U||r===$U&&n===XU)&&(o.call(this,{currentPosition:YU,previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),u.call(this,{currentPosition:n,previousPosition:YU,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}},r._getBounds=function(){var e,t,n=this.props,r=n.horizontal,i=(n.debug,this._ref.getBoundingClientRect()),a=i.left,o=i.top,u=i.right,s=i.bottom,c=r?a:o,l=r?u:s;this.scrollableAncestor===window?(e=r?window.innerWidth:window.innerHeight,t=0):(e=r?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=r?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var f=this.props,h=f.bottomOffset;return{waypointTop:c,waypointBottom:l,viewportTop:t+QU(f.topOffset,e),viewportBottom:t+e-QU(h,e)}},r.render=function(){var e=this,t=this.props.children;if(!t)return s.createElement("span",{ref:this.refElement,style:{fontSize:0}});if(ZU(t)||(0,WU.isForwardRef)(t)){return s.cloneElement(t,{ref:function(n){e.refElement(n),t.ref&&("function"===typeof t.ref?t.ref(n):t.ref.current=n)}})}return s.cloneElement(t,{innerRef:this.refElement})},t}(s.PureComponent);function oj(e){var t=e.children,n=e.className,r=e.content,i=sc("header",n),a=gc(oj,e),o=kc(oj,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}aj.above=$U,aj.below=XU,aj.inside=YU,aj.invisible=JU,aj.defaultProps=ij,aj.displayName="Waypoint",oj.handledProps=["as","children","className","content"],oj.propTypes={},oj.create=yd(oj,(function(e){return{content:e}}));var uj=oj;function sj(e){var t=e.children,n=e.className,r=e.content,i=sc("description",n),a=gc(sj,e),o=kc(sj,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}sj.handledProps=["as","children","className","content"],sj.propTypes={},sj.create=yd(sj,(function(e){return{content:e}}));var cj=sj;function lj(e){var t=e.children,n=e.className,r=e.content,i=sc("extra",n),a=gc(lj,e),o=kc(lj,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}lj.handledProps=["as","children","className","content"],lj.propTypes={},lj.create=yd(lj,(function(e){return{content:e}}));var fj=lj;function hj(e){var t=e.children,n=e.className,r=e.content,i=sc("meta",n),a=gc(hj,e),o=kc(hj,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}hj.handledProps=["as","children","className","content"],hj.propTypes={},hj.create=yd(hj,(function(e){return{content:e}}));var dj=hj;function pj(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.extra,o=e.header,u=e.meta,c=e.verticalAlign,l=sc(mc(c),"content",n),f=gc(pj,e),h=kc(pj,e);return Gh(t)?s.createElement(h,Qu({},f,{className:l}),uj.create(o,{autoGenerateKey:!1}),dj.create(u,{autoGenerateKey:!1}),cj.create(i,{autoGenerateKey:!1}),fj.create(a,{autoGenerateKey:!1}),r):s.createElement(h,Qu({},f,{className:l}),t)}pj.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],pj.propTypes={};var vj=pj;function mj(e){var t=e.children,n=e.className,r=e.content,i=e.divided,a=e.items,o=e.link,u=e.relaxed,c=e.unstackable,l=sc("ui",fc(i,"divided"),fc(o,"link"),fc(c,"unstackable"),dc(u,"relaxed"),"items",n),f=gc(mj,e),h=kc(mj,e);if(!Gh(t))return s.createElement(h,Qu({},f,{className:l}),t);if(!Gh(r))return s.createElement(h,Qu({},f,{className:l}),r);var d=Nd(a,(function(e){var t=e.childKey,n=Is(e,["childKey"]),r=null!=t?t:[n.content,n.description,n.header,n.meta].join("-");return s.createElement(wj,Qu({},n,{key:r}))}));return s.createElement(h,Qu({},f,{className:l}),d)}mj.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],mj.propTypes={};var yj=mj;function gj(e){var t=e.size,n=gc(gj,e);return s.createElement(dy,Qu({},n,{size:t,ui:!!t,wrapped:!0}))}gj.handledProps=["size"],gj.propTypes={},gj.create=yd(gj,(function(e){return{src:e}}));var kj=gj;function bj(e){var t=e.children,n=e.className,r=e.content,i=e.description,a=e.extra,o=e.header,u=e.image,c=e.meta,l=sc("item",n),f=gc(bj,e),h=kc(bj,e);return Gh(t)?s.createElement(h,Qu({},f,{className:l}),kj.create(u,{autoGenerateKey:!1}),s.createElement(vj,{content:r,description:i,extra:a,header:o,meta:c})):s.createElement(h,Qu({},f,{className:l}),t)}bj.handledProps=["as","children","className","content","description","extra","header","image","meta"],bj.Content=vj,bj.Description=cj,bj.Extra=fj,bj.Group=yj,bj.Header=uj,bj.Image=kj,bj.Meta=dj,bj.propTypes={};var wj=bj;var _j=function(e){var t,n,r=e.post;return(0,jy.jsxs)(wj,{as:ic,to:"/posts/".concat(r.id),children:[(0,jy.jsx)(wj.Image,{src:r.imageUrl||"https://react.semantic-ui.com/images/wireframe/image.png"}),(0,jy.jsxs)(wj.Content,{children:[(0,jy.jsxs)(wj.Meta,{children:[r.author.photoURL?(0,jy.jsx)(dy,{src:r.author.photoURL,avatar:!0}):(0,jy.jsx)(tv,{name:"user circle"}),r.topic,"/",r.author.displayName||"\u5e33\u865f\u540d\u7a31\u672a\u986f\u793a"]}),(0,jy.jsx)(wj.Header,{children:r.title}),(0,jy.jsx)(wj.Description,{children:r.content}),(0,jy.jsxs)(wj.Extra,{children:["\u7559\u8a00 ",r.commentCount||0," ....\u6536\u85cf\u6587\u7ae0\u4eba\u6578 ",(null===(t=r.collectedBy)||void 0===t?void 0:t.length)||0," ....\u8b9a ",(null===(n=r.likedBy)||void 0===n?void 0:n.length)||0]})]})]})};var xj=function(){var e=Xs(),t=new URLSearchParams(e.search).get("topic"),n=u(s.useState([]),2),r=n[0],i=n[1];return s.useRef(),s.useEffect((function(){t?Ku.firestore().collection("posts").where("topic","==",t).orderBy("createAt","desc").get().then((function(e){var t=e.docs.map((function(e){var t=e.id;return be(be({},e.data()),{},{id:t})}));i(t)})):Ku.firestore().collection("posts").orderBy("createAt","desc").get().then((function(e){var t=e.docs.map((function(e){var t=e.id;return be(be({},e.data()),{},{id:t})}));i(t)}))}),[t]),(0,jy.jsx)(wj.Group,{children:r.map((function(e){return(0,jy.jsx)(_j,{post:e},e.id)}))})},Ej="firebasestorage.googleapis.com",Ij="storageBucket",Sj=function(e){g(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=t.call(this,Tj(e),"Firebase Storage: ".concat(r," (").concat(Tj(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(m(i),n.prototype),i}return p(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Tj(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(z);function Tj(e){return"storage/"+e}function Cj(){return new Sj("unknown","An unknown error occurred, please check the error payload for server response.")}function Nj(){return new Sj("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Aj(){return new Sj("canceled","User canceled the upload/download.")}function Rj(){return new Sj("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Pj(e){return new Sj("invalid-argument",e)}function Oj(){return new Sj("app-deleted","The Firebase app was deleted.")}function Dj(e){return new Sj("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lj(e,t){return new Sj("invalid-format","String does not match format '"+e+"': "+t)}function Mj(e){throw new Sj("internal-error","Internal error: "+e)}var Fj,Uj=function(){function e(t,n){h(this,e),this.bucket=t,this.path_=n}return p(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Sj("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Ej?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Sj("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),jj=function(){function e(t){h(this,e),this.promise_=Promise.reject(t)}return p(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Vj(e){return"string"===typeof e||e instanceof String}function Bj(e){return zj()&&e instanceof Blob}function zj(){return"undefined"!==typeof Blob&&!P()}function qj(e,t,n,r){if(r<t)throw Pj("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Pj("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Kj(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Gj(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function Hj(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Fj||(Fj={}));var Wj=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];h(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return p(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=Cj();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?Oj():Aj());else i(Nj())}};this.canceled_?t(0,new Qj(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Qj(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Fj.NO_ERROR,a=r.getStatus();if(n&&!Hj(a,e.additionalRetryCodes_)||!e.retry){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Qj(o,r))}else{var u=r.getErrorCode()===Fj.ABORT;t(!1,new Qj(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Qj=p((function e(t,n,r){h(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function $j(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function Yj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function Xj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Jj(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function Zj(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=Gj(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return Xj(c,t),$j(c,n),Yj(c,a),Jj(c,r),new Wj(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function eV(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function tV(){for(var e=eV(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(zj())return new Blob(n);throw new Sj("unsupported-environment","This browser doesn't seem to support creating Blobs")}function nV(e){if("undefined"===typeof atob)throw new Sj("unsupported-environment","".concat("base-64"," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));return atob(e)}var rV={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},iV=p((function e(t,n){h(this,e),this.data=t,this.contentType=n||null}));function aV(e,t){switch(e){case rV.RAW:return new iV(oV(t));case rV.BASE64:case rV.BASE64URL:return new iV(uV(e,t));case rV.DATA_URL:return new iV(function(e){var t=new sV(e);return t.base64?uV(rV.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Lj(rV.DATA_URL,"Malformed data URL.")}return oV(t)}(t.rest)}(t),new sV(t).contentType)}throw Cj()}function oV(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function uV(e,t){switch(e){case rV.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Lj(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case rV.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Lj(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=nV(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw Lj(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var sV=p((function e(t){h(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Lj(rV.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var cV=function(){function e(t,n){h(this,e);var r=0,i="";Bj(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return p(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Bj(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(zj()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(tV.apply(null,i))}var a=n.map((function(e){return Vj(e)?aV(rV.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function lV(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function fV(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function hV(e,t){return t}var dV=p((function e(t,n,r,i){h(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||hV})),pV=null;function vV(){if(pV)return pV;var e=[];e.push(new dV("bucket")),e.push(new dV("generation")),e.push(new dV("metageneration")),e.push(new dV("name","fullPath",!0));var t=new dV("name");t.xform=function(e,t){return function(e){return!Vj(e)||e.length<2?e:fV(e)}(t)},e.push(t);var n=new dV("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new dV("timeCreated")),e.push(new dV("updated")),e.push(new dV("md5Hash",null,!0)),e.push(new dV("cacheControl",null,!0)),e.push(new dV("contentDisposition",null,!0)),e.push(new dV("contentEncoding",null,!0)),e.push(new dV("contentLanguage",null,!0)),e.push(new dV("contentType",null,!0)),e.push(new dV("metadata","customMetadata",!0)),pV=e}function mV(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Uj(n,r);return t._makeStorageReference(i)}})}(r,e),r}function yV(e,t,n){var r=lV(t);return null===r?null:mV(e,r,n)}function gV(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var kV="prefixes",bV="items";function wV(e,t,n){var r=lV(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[kV]){var i,a=v(n[kV]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new Uj(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n[bV]){var s,c=v(n[bV]);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new Uj(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var _V=p((function e(t,n,r,i){h(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function xV(e){if(!e)throw Cj()}function EV(e,t){return function(n,r){var i=yV(e,r,t);return xV(null!==i),i}}function IV(e,t){return function(n,r){var i=yV(e,r,t);return xV(null!==i),function(e,t,n,r){var i=lV(t);if(null===i)return null;if(!Vj(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Kj("/b/"+o(i)+"/o/"+o(a),n,r)+Gj({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function SV(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Sj("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Sj("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Sj("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Sj("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function TV(e){var t=SV(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Sj("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function CV(e,t,n){var r=Kj(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _V(r,"GET",EV(e,n),i);return a.errorHandler=TV(t),a}function NV(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=Kj(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new _V(o,"GET",function(e,t){return function(n,r){var i=wV(e,t,r);return xV(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=SV(t),s}function AV(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function RV(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=AV(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+gV(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=cV.getBlob(c,r,l);if(null===f)throw Rj();var h={name:s.fullPath},d=Kj(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new _V(d,"POST",EV(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=SV(t),v}var PV=p((function e(t,n,r,i){h(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function OV(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){xV(!1)}return xV(!!n&&-1!==(t||["active"]).indexOf(n)),n}var DV=262144;function LV(e,t,n,r,i,a,o,u){var s=new PV(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new Sj("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw Rj();var v=t.maxUploadRetryTime,m=new _V(n,"POST",(function(e,n){var i,o=OV(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?EV(t,a)(e,n):null,new PV(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=SV(e),m}var MV={STATE_CHANGED:"state_changed"},FV={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function UV(e){switch(e){case"running":case"pausing":case"canceling":return FV.RUNNING;case"paused":return FV.PAUSED;case"success":return FV.SUCCESS;case"canceled":return FV.CANCELED;default:return FV.ERROR}}var jV=p((function e(t,n,r){h(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function VV(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var BV=function(){function e(){var t=this;h(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fj.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Fj.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Fj.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return p(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Mj("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Mj("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Mj("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Mj("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Mj("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),zV=function(e){g(n,e);var t=_(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(BV);function qV(){return new zV}var KV=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=vV(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled"))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(Hj(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=Nj()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return p(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=u(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=AV(t,r,i),u={name:o.fullPath},s=Kj(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=gV(o,n),f=e.maxUploadRetryTime,h=new _V(s,"POST",(function(e){var t;OV(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){xV(!1)}return xV(Vj(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=SV(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,qV,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new _V(n,"POST",(function(e){var t=OV(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){xV(!1)}n||xV(!1);var i=Number(n);return xV(!isNaN(i)),new PV(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=SV(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,qV,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=DV*this._chunkMultiplier,n=new PV(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=LV(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,qV,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(DV*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=CV(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,qV,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=RV(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,qV,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Aj(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=UV(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new jV(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(UV(this._state)){case FV.SUCCESS:VV(this._resolve.bind(null,this.snapshot))();break;case FV.CANCELED:case FV.ERROR:VV(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(UV(this._state)){case FV.RUNNING:case FV.PAUSED:e.next&&VV(e.next.bind(e,this.snapshot))();break;case FV.SUCCESS:e.complete&&VV(e.complete.bind(e))();break;default:e.error&&VV(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),GV=function(){function e(t,n){h(this,e),this._service=t,this._location=n instanceof Uj?n:Uj.makeFromUrl(n,t.host)}return p(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Uj(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return fV(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Uj(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw Dj(e)}}]),e}();function HV(e,t,n){return WV.apply(this,arguments)}function WV(){return(WV=oe(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,QV(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,ie(u.prefixes)),(a=n.items).push.apply(a,ie(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,HV(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QV(e,t){null!=t&&"number"===typeof t.maxResults&&qj("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=NV(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,qV)}function $V(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=Kj(t.fullServerUrl(),e.host,e._protocol),a=gV(n,r),o=e.maxOperationRetryTime,u=new _V(i,"PATCH",EV(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=TV(t),u}(e.storage,e._location,t,vV());return e.storage.makeRequestWithTokens(n,qV)}function YV(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Kj(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _V(r,"GET",IV(e,n),i);return a.errorHandler=TV(t),a}(e.storage,e._location,vV());return e.storage.makeRequestWithTokens(t,qV).then((function(e){if(null===e)throw new Sj("no-download-url","The given file does not have any download URLs.");return e}))}function XV(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=Kj(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new _V(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=TV(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,qV)}function JV(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Uj(e._location.bucket,n);return new GV(e.storage,r)}function ZV(e,t){if(e instanceof rB){var n=e;if(null==n._bucket)throw new Sj("no-default-bucket","No default bucket found. Did you set the '"+Ij+"' property when initializing the app?");var r=new GV(n,n._bucket);return null!=t?ZV(r,t):r}return void 0!==t?JV(e,t):e}function eB(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof rB)return new GV(e,t);throw Pj("To use ref(service, url), the first argument must be a Storage instance.")}return ZV(e,t)}function tB(e,t){var n=null===t||void 0===t?void 0:t[Ij];return null==n?null:Uj.makeFromBucketSpec(n,e)}function nB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:B(i,e.app.options.projectId))}var rB=function(){function e(t,n,r,i,a){h(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Ej,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Uj.makeFromBucketSpec(i,this._host):tB(this._host,this.app.options)}return p(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Uj.makeFromBucketSpec(this._url,e):this._bucket=tB(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){qj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){qj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=oe(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=oe(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new GV(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new jj(Oj());var o=Zj(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=oe(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),iB="@firebase/storage",aB="0.10.0",oB="storage";function uB(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new KV(e,new cV(t),n)}(e=te(e),t,n)}function sB(e){return function(e){e._throwIfRoot("getMetadata");var t=CV(e.storage,e._location,vV());return e.storage.makeRequestWithTokens(t,qV)}(e=te(e))}function cB(e){return function(e){var t={prefixes:[],items:[]};return HV(e,t).then((function(){return t}))}(e=te(e))}function lB(e,t){return eB(e=te(e),t)}function fB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};nB(e,t,n,r)}function hB(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new rB(r,i,a,n,nt)}$e(new ue(oB,hB,"PUBLIC").setMultipleInstances(!0)),st(iB,aB,""),st(iB,aB,"esm2017");var dB=function(){function e(t,n,r){h(this,e),this._delegate=t,this.task=n,this.ref=r}return p(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),pB=function(){function e(t,n){h(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return p(e,[{key:"snapshot",get:function(){return new dB(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new dB(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new dB(e,i,i._ref))}:{next:t.next?function(e){return t.next(new dB(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),vB=function(){function e(t,n){h(this,e),this._delegate=t,this._service=n}return p(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new mB(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new mB(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),mB=function(){function e(t,n){h(this,e),this._delegate=t,this.storage=n}return p(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return JV(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new pB(uB(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rV.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=aV(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new pB(new KV(this._delegate,new cV(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return cB(this._delegate).then((function(t){return new vB(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return QV(e=te(e),t)}(this._delegate,e||void 0).then((function(e){return new vB(e,t.storage)}))}},{key:"getMetadata",value:function(){return sB(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return $V(e=te(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return YV(te(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),XV(te(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw Dj(e)}}]),e}(),yB=function(){function e(t,n){h(this,e),this.app=t,this._delegate=n}return p(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(gB(e))throw Pj("ref() expected a child path but got a URL, use refFromURL instead.");return new mB(lB(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!gB(e))throw Pj("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Uj.makeFromUrl(e,this._delegate.host)}catch(t){throw Pj("refFromUrl() expected a valid full URL but got an invalid one.")}return new mB(lB(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fB(this._delegate,e,t,n)}}]),e}();function gB(e){return/^[A-Za-z]+:\/\//.test(e)}function kB(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new yB(r,i)}!function(e){var t={TaskState:FV,TaskEvent:MV,StringFormat:rV,Storage:yB,Reference:mB};e.INTERNAL.registerComponent(new ue("storage-compat",kB,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.2.0")}(Pt);var bB=function(){var e=u(s.useState(""),2),t=e[0],n=e[1],r=u(s.useState(""),2),i=r[0],a=r[1],o=u(s.useState([]),2),c=o[0],l=o[1],f=u(s.useState(""),2),h=f[0],d=f[1],p=u(s.useState(!1),2),v=p[0],m=p[1],y=u(s.useState(null),2),g=y[0],k=y[1],b=u((0,s.useState)(""),2),w=(b[0],b[1],Ys()),_=u(s.useState(!1),2),x=_[0],E=_[1];s.useEffect((function(){Ku.firestore().collection("topics").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));l(t)}))}),[]);var I=c.map((function(e){return{text:e.name,value:e.name}})),S=g?URL.createObjectURL(g):"https://react.semantic-ui.com/images/wireframe/image.png";return(0,jy.jsxs)(Wh,{children:[(0,jy.jsxs)(pU,{children:["\u767c\u8868\u6587\u7ae0 ",(0,jy.jsx)("p",{color:"blue",children:"\u8acb\u5148\u9078\u64c7\u4e3b\u984c"})," "]}),(0,jy.jsxs)(QM,{onSubmit:function(){E(!0);var e=Ku.firestore().collection("posts").doc(),n=Ku.storage().ref("post-images/"+e.id),r={contentType:g.type};n.put(g,r).then((function(){n.getDownloadURL().then((function(n){e.set({title:t,content:i,topic:h,createAt:Ku.firestore.Timestamp.now(),author:{displayName:Ku.auth().currentUser.displayName||"",photoURL:Ku.auth().currentUser.photoURL||"",uid:Ku.auth().currentUser.uid,email:Ku.auth().currentUser.email},imageUrl:n}).then((function(){E(!1),w.push("/posts")}))}))}))},children:[(0,jy.jsx)(QM.Dropdown,{placeholder:"\u9078\u64c7\u6587\u7ae0\u4e3b\u984c",options:I,selection:!0,value:h,onChange:function(e,t){var n=t.value;m(!0),d(n)}}),v&&(0,jy.jsx)(QM.Input,{placeholder:"\u8f38\u5165\u6587\u7ae0\u6a19\u984c",value:t,onChange:function(e){return n(e.target.value)}}),v&&(0,jy.jsx)(QM.TextArea,{placeholder:"\u8f38\u5165\u6587\u7ae0\u5167\u5bb9",value:i,onChange:function(e){return a(e.target.value)}}),(0,jy.jsxs)(jy.Fragment,{children:[(0,jy.jsx)(Sy,{basic:!0,as:"label",htmlFor:"post-image",children:"\u4e0a\u50b3\u6587\u7ae0\u5716\u7247"}),(0,jy.jsx)(QM.Button,{loading:x,floated:"right",children:"\u9001\u51fa\u6587\u7ae0"})]}),(0,jy.jsx)(dy,{src:S,size:"midium",floted:"left"}),(0,jy.jsx)(QM.Input,{type:"file",id:"post-image",style:{display:"none"},onChange:function(e){return k(e.target.files[0])}})]})]})};var wB=function(){var e=u(s.useState([]),2),t=e[0],n=e[1];return s.useEffect((function(){Ku.firestore().collection("posts").where("author.uid","==",Ku.auth().currentUser.uid).get().then((function(e){var t=e.docs.map((function(e){var t=e.id;return be(be({},e.data()),{},{id:t})}));n(t)}))}),[]),(0,jy.jsx)(wj.Group,{children:t.map((function(e){return(0,jy.jsx)(_j,{post:e},postMessage.id)}))})};var _B=function(){var e=u(s.useState([]),2),t=e[0],n=e[1];return s.useEffect((function(){Ku.firestore().collection("posts").where("collectedBy","array-contains",Ku.auth().currentUser.uid).get().then((function(e){var t=e.docs.map((function(e){var t=e.id;return be(be({},e.data()),{},{id:t})}));n(t)}))}),[]),(0,jy.jsx)(wj.Group,{children:t.map((function(e){return(0,jy.jsx)(_j,{post:e},postMessage.id)}))})},xB=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonOverrides=function(e){return{onClick:function(n,r){Kd(e,"onClick",n,r),Kd(t.props,"onActionClick",n,r)}}},t}return Gu(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.actions,i=n.children,a=n.className,o=n.content,u=sc("actions",a),c=gc(t,this.props),l=kc(t,this.props);return Gh(i)?Gh(o)?s.createElement(l,Qu({},c,{className:u}),Nd(r,(function(t){return Sy.create(t,{overrideProps:e.handleButtonOverrides})}))):s.createElement(l,Qu({},c,{className:u}),o):s.createElement(l,Qu({},c,{className:u}),i)},t}(s.Component);function EB(e){var t=e.children,n=e.className,r=e.content,i=e.image,a=e.scrolling,o=sc(n,fc(i,"image"),fc(a,"scrolling"),"content"),u=gc(EB,e),c=kc(EB,e);return s.createElement(c,Qu({},u,{className:o}),Gh(t)?r:t)}xB.handledProps=["actions","as","children","className","content","onActionClick"],xB.propTypes={},xB.create=yd(xB,(function(e){return{actions:e}})),EB.handledProps=["as","children","className","content","image","scrolling"],EB.propTypes={},EB.create=yd(EB,(function(e){return{content:e}}));var IB=EB;function SB(e){var t=e.children,n=e.className,r=e.content,i=sc("description",n),a=gc(SB,e),o=kc(SB,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}SB.handledProps=["as","children","className","content"],SB.propTypes={};var TB=SB,CB=Lm()?s.useLayoutEffect:s.useEffect,NB=/\s+/;var AB=new Map,RB=function(e,t){var n=function(e){var t=[];return e?(e.forEach((function(e){"string"===typeof e.current&&e.current.split(NB).forEach((function(e){t.push(e)}))})),t.filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))):[]}(t),r=function(e,t){return[t.filter((function(t){return-1===e.indexOf(t)})),e.filter((function(e){return-1===t.indexOf(e)}))]}(AB.get(e)||[],n),i=r[0],a=r[1];e&&(i.forEach((function(t){return e.classList.add(t)})),a.forEach((function(t){return e.classList.remove(t)}))),AB.set(e,n)},PB=new function(){var e=this;this.add=function(t,n){if(e.nodes.has(t)){e.nodes.get(t).add(n)}else{var r=new Set;r.add(n),e.nodes.set(t,r)}},this.del=function(t,n){if(e.nodes.has(t)){var r=e.nodes.get(t);1!==r.size?r.delete(n):e.nodes.delete(t)}},this.emit=function(t,n){n(t,e.nodes.get(t))},this.nodes=new Map};function OB(e){var t=e.blurring,n=e.children,r=e.className,i=e.centered,a=e.content,o=e.inverted,u=e.mountNode,c=e.scrolling,l=s.useRef(),f=sc("ui",fc(o,"inverted"),fc(!i,"top aligned"),"page modals dimmer transition visible active",r),h=sc("dimmable dimmed",fc(t,"blurring"),fc(c,"scrolling")),d=gc(OB,e),p=kc(OB,e);return function(e,t){var n=s.useRef(),r=s.useRef(!1);CB((function(){if(n.current=t,r.current){var i=Wm(e)?e.current:e;PB.emit(i,RB)}r.current=!0}),[t]),CB((function(){var t=Wm(e)?e.current:e;return PB.add(t,n),PB.emit(t,RB),function(){PB.del(t,n),PB.emit(t,RB)}}),[e])}(u,h),s.useEffect((function(){l.current&&l.current.style&&l.current.style.setProperty("display","flex","important")}),[]),s.createElement(Zm,{innerRef:l},s.createElement(p,Qu({},d,{className:f}),Gh(n)?a:n))}OB.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"],OB.propTypes={},OB.create=yd(OB,(function(e){return{content:e}}));var DB=OB;function LB(e){var t=e.children,n=e.className,r=e.content,i=sc("header",n),a=gc(LB,e),o=kc(LB,e);return s.createElement(o,Qu({},a,{className:i}),Gh(t)?r:t)}LB.handledProps=["as","children","className","content"],LB.propTypes={},LB.create=yd(LB,(function(e){return{content:e}}));var MB=LB,FB=function(e){var t=e.height+0,n=e.height+0,r=window.innerHeight;return r/2+-n/2+t+50<r},UB=function(e,t,n){var r=t&&e?-n.height/2:0;return{marginLeft:-n.width/2,marginTop:r}},jB=function(){return!window.ActiveXObject&&"ActiveXObject"in window},VB=function(e){function t(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).legacy=Lm()&&jB(),n.ref=(0,s.createRef)(),n.dimmerRef=(0,s.createRef)(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return Lm()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(e){return{onActionClick:function(t,r){Kd(e,"onActionClick",t,r),Kd(n.props,"onActionClick",t,n.props),n.handleClose(t)}}},n.handleClose=function(e){n.setState({open:!1}),Kd(n.props,"onClose",e,Qu({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDimmerClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!t||ty(n.ref.current,r)||ty(n.ref.current,e)||(n.setState({open:!1}),Kd(n.props,"onClose",e,Qu({},n.props,{open:!1})))},n.handleIconOverrides=function(e){return{onClick:function(t){Kd(e,"onClick",t),n.handleClose(t)}}},n.handleOpen=function(e){Kd(n.props,"onOpen",e,Qu({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(e){var t=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),Pm.sub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),Pm.sub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),Kd(n.props,"onMount",e,n.props)},n.handlePortalUnmount=function(e){var t=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),Pm.unsub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),Pm.unsub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),Kd(n.props,"onUnmount",e,n.props)},n.setPositionAndClassNames=function(){var e,t=n.props.centered,r={};if(n.ref.current){var i=n.ref.current.getBoundingClientRect(),a=FB(i);e=!a;var o=n.legacy?UB(a,t,i):{};Nm()(n.state.legacyStyles,o)||(r.legacyStyles=o),n.state.scrolling!==e&&(r.scrolling=e)}sv(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(e){var r=n.props,i=r.actions,a=r.basic,o=r.children,u=r.className,c=r.closeIcon,l=r.content,f=r.header,h=r.size,d=r.style,p=n.state,v=p.legacyStyles,m=p.scrolling,y=sc("ui",h,fc(a,"basic"),fc(n.legacy,"legacy"),fc(m,"scrolling"),"modal transition visible active",u),g=kc(t,n.props),k=!0===c?"close":c,b=tv.create(k,{overrideProps:n.handleIconOverrides});return s.createElement(Zm,{innerRef:n.ref},s.createElement(g,Qu({},e,{className:y,style:Qu({},v,d)}),b,Gh(o)?s.createElement(s.Fragment,null,MB.create(f,{autoGenerateKey:!1}),IB.create(l,{autoGenerateKey:!1}),xB.create(i,{overrideProps:n.handleActionsOverrides})):o))},n}Gu(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.handlePortalUnmount()},n.render=function(){var e=this.props,n=e.centered,r=e.closeOnDocumentClick,i=e.dimmer,a=e.eventPool,o=e.trigger,u=this.state,c=u.open,l=u.scrolling,f=this.getMountNode();if(!Lm())return(0,s.isValidElement)(o)?o:null;var h=gc(t,this.props),d=ay.handledProps,p=Im(h,(function(e,t,n){return jm(d,n)||(e[n]=t),e}),{}),v=aM(h,d);return s.createElement(ay,Qu({closeOnDocumentClick:r},v,{trigger:o,eventPool:a,mountNode:f,open:c,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),s.createElement(Zm,{innerRef:this.dimmerRef},DB.create(fd(i)?i:{},{autoGenerateKey:!1,defaultProps:{blurring:"blurring"===i,inverted:"inverted"===i},overrideProps:{children:this.renderContent(p),centered:n,mountNode:f,scrolling:l}})))},t}(Wd);VB.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"],VB.propTypes={},VB.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"},VB.autoControlledProps=["open"],VB.Actions=xB,VB.Content=IB,VB.Description=TB,VB.Dimmer=DB,VB.Header=MB;var BB=VB;function zB(e){var t=e.user,n=u(s.useState(!1),2),r=n[0],i=n[1],a=u(s.useState(""),2),o=a[0],c=a[1],l=u(s.useState(!1),2),f=l[0],h=l[1];return(0,jy.jsxs)(jy.Fragment,{children:[(0,jy.jsxs)(pU,{size:"small",children:["\u6703\u54e1\u540d\u7a31",(0,jy.jsx)(Sy,{floated:"right",onClick:function(){return i(!0)},children:"\u4fee\u6539"})]}),(0,jy.jsx)(bU,{vertical:!0,children:t.displayName}),(0,jy.jsxs)(BB,{open:r,size:"mini",children:[(0,jy.jsx)(BB.Header,{children:"\u4fee\u6539\u6703\u54e1\u540d\u7a31"}),(0,jy.jsx)(BB.Content,{children:(0,jy.jsx)(Cy,{fluid:!0,placeholder:"\u8f38\u5165\u65b0\u7684\u6703\u54e1\u540d\u7a31",value:o,onChange:function(e){return c(e.target.value)}})}),(0,jy.jsxs)(BB.Actions,{children:[(0,jy.jsx)(Sy,{onClick:function(){return i(!1)},children:"\u53d6\u6d88"}),(0,jy.jsx)(Sy,{onClick:function(){h(!0),t.updateProfile({displayName:o}).then((function(){h(!1),c(""),i(!1)}))},loading:f,children:"\u4fee\u6539"})]})]})]})}function qB(e){var t=e.user,n=u(s.useState(!1),2),r=n[0],i=n[1],a=u(s.useState(!1),2),o=a[0],c=a[1],l=u(s.useState(null),2),f=l[0],h=l[1],d=f?URL.createObjectURL(f):t.photoURL;return(0,jy.jsxs)(jy.Fragment,{children:[(0,jy.jsxs)(pU,{size:"small",children:["\u6703\u54e1\u7167\u7247",(0,jy.jsx)(Sy,{floated:"right",onClick:function(){return i(!0)},children:"\u4fee\u6539"})]}),(0,jy.jsxs)(bU,{vertical:!0,children:[" ",(0,jy.jsx)(dy,{src:t.photoURL,avatar:!0})]}),(0,jy.jsxs)(BB,{open:r,size:"mini",children:[(0,jy.jsx)(BB.Header,{children:"\u4fee\u6539\u6703\u54e1\u7167\u7247"}),(0,jy.jsxs)(BB.Content,{image:!0,children:[(0,jy.jsx)(dy,{src:d,avatar:!0,wrapped:!0}),(0,jy.jsxs)(BB.Description,{children:[(0,jy.jsx)(Sy,{as:"label",htmlFor:"post-image",children:"\u4e0a\u50b3"}),(0,jy.jsx)(Cy,{type:"file",id:"post-image",style:{display:"none"},onChange:function(e){return h(e.target.files[0])}})]})]}),(0,jy.jsxs)(BB.Actions,{children:[(0,jy.jsx)(Sy,{onClick:function(){return i(!1)},children:"\u53d6\u6d88"}),(0,jy.jsx)(Sy,{onClick:function(){c(!0);var e=Ku.storage().ref("user-photos/"+t.uid),n={contentType:f.type};e.put(f,n).then((function(){e.getDownloadURL().then((function(e){t.updateProfile({photoURL:e}).then((function(){c(!1),h(null),i(!1)}))}))}))},loading:o,children:"\u4fee\u6539"})]})]})]})}function KB(e){var t=e.user,n=u(s.useState(!1),2),r=n[0],i=n[1],a=u(s.useState(""),2),o=a[0],c=a[1],l=u(s.useState(""),2),f=l[0],h=l[1],d=u(s.useState(!1),2),p=d[0],v=d[1];return(0,jy.jsxs)(jy.Fragment,{children:[(0,jy.jsxs)(pU,{size:"small",children:["\u6703\u54e1\u5bc6\u78bc",(0,jy.jsx)(Sy,{floated:"right",onClick:function(){return i(!0)},children:"\u4fee\u6539"})]}),(0,jy.jsx)(bU,{vertical:!0,children:" *** *** "})," /*",t.password,"*/",(0,jy.jsxs)(BB,{open:r,size:"mini",children:[(0,jy.jsx)(BB.Header,{children:"\u4fee\u6539\u6703\u54e1\u5bc6\u78bc"}),(0,jy.jsxs)(BB.Content,{children:[(0,jy.jsx)(pU,{size:"small",children:"\u76ee\u524d\u5bc6\u78bc"}),(0,jy.jsx)(Cy,{fluid:!0,placeholder:"\u8f38\u5165\u820a\u820a\u7684\u6703\u54e1\u5bc6\u78bc",value:o,onChange:function(e){return c(e.target.value)}}),(0,jy.jsx)(pU,{size:"small",children:"\u76ee\u524d\u5bc6\u78bc"}),(0,jy.jsx)(Cy,{fluid:!0,placeholder:"\u8f38\u5165\u65b0\u7684\u6703\u54e1\u5bc6\u78bc",value:f,onChange:function(e){return h(e.target.value)}})]}),(0,jy.jsxs)(BB.Actions,{children:[(0,jy.jsx)(Sy,{onClick:function(){return i(!1)},children:"\u53d6\u6d88"}),(0,jy.jsx)(Sy,{onClick:function(){v(!0);var e=Ku.auth.EmailAuthProvider.credential(t.email,o);t.reauthenticateWithCredential(e).then((function(){t.updatePassword(f).then((function(){i(!1),c(""),h(""),v(!1)}))}))},loading:p,children:"\u4fee\u6539"})]})]})]})}var GB=function(e){var t=e.user;return(0,jy.jsxs)(jy.Fragment,{children:[(0,jy.jsx)(pU,{children:"\u6703\u54e1\u8cc7\u6599"}),(0,jy.jsx)(zB,{user:t}),(0,jy.jsx)(qB,{user:t}),(0,jy.jsx)(KB,{user:t})]})};var HB=function(){var e=u(s.useState(null),2),t=e[0],n=e[1];return s.useEffect((function(){Ku.auth().onAuthStateChanged((function(e){n(e)}))}),[]),(0,jy.jsxs)(Js,{children:[(0,jy.jsx)(By,{user:t}),(0,jy.jsxs)(Qs,{children:[(0,jy.jsx)(zs,{path:"/posts",children:(0,jy.jsx)(Wh,{children:(0,jy.jsx)(Td,{children:(0,jy.jsxs)(Td.Row,{children:[(0,jy.jsxs)(Td.Column,{width:3,children:[(0,jy.jsx)("h1",{children:"\u767c\u8868\u4e3b\u984c"}),(0,jy.jsx)(aL,{})]}),(0,jy.jsx)(Td.Column,{width:10,children:(0,jy.jsxs)(Qs,{children:[(0,jy.jsx)(zs,{path:"/posts",exact:!0,children:(0,jy.jsx)(xj,{})}),(0,jy.jsxs)(zs,{path:"/posts/:postId",exact:!0,children:[t?(0,jy.jsx)(jU,{}):(0,jy.jsx)(Us,{to:"/posts"}),"  "]})]})}),(0,jy.jsx)(Td.Column,{width:3})]})})})}),(0,jy.jsx)(zs,{path:"/my",children:t?(0,jy.jsx)(Wh,{children:(0,jy.jsx)(Td,{children:(0,jy.jsxs)(Td.Row,{children:[(0,jy.jsxs)(Td.Column,{width:3,children:[(0,jy.jsx)("h1",{children:"\u6703\u54e1\u9078\u55ae"}),(0,jy.jsx)(iL,{})]}),(0,jy.jsx)(Td.Column,{width:10,children:(0,jy.jsxs)(Qs,{children:[(0,jy.jsxs)(zs,{path:"/my/posts",exact:!0,children:[" ",(0,jy.jsx)(wB,{})," "]}),(0,jy.jsxs)(zs,{path:"/my/collections",exact:!0,children:[" ",(0,jy.jsx)(_B,{})," "]}),(0,jy.jsxs)(zs,{path:"/my/settings",exact:!0,children:[" ",(0,jy.jsx)(GB,{user:t})," "]})]})}),(0,jy.jsx)(Td.Column,{width:3})]})})}):(0,jy.jsx)(Us,{to:"/posts"})}),(0,jy.jsxs)(zs,{path:"/signin",exact:!0,children:[t?(0,jy.jsx)(Us,{to:"/posts"}):(0,jy.jsx)(sU,{})," "]}),(0,jy.jsxs)(zs,{path:"/new-post",exact:!0,children:[t?(0,jy.jsx)(bB,{}):(0,jy.jsx)(Us,{to:"/posts"})," "]})]})]})},WB=document.getElementById("root");(0,t.s)(WB).render((0,jy.jsx)(HB,{tab:"home"}))}()}();
//# sourceMappingURL=main.0b59f72b.js.map